import{_ as e,d as l,A as a,E as s,u as o,k as t,p as d,c as i,m as n,r,a as u,h as p,w as m,ay as c,az as f,o as b,b as v,i as g,t as _,F as h,e as V,f as w,C as x,H as I,S as P,J as k,X as y,Y as C}from"./index.1705020059453.js";import{g as U,u as A,a as F}from"./user.1705020059453.js";const O=[{title:"[发布] 2021年11月28日发布基于 vue3.x + vite v1.0.0 版本",date:"02/28",link:"https://gitee.com/PandaAdmin/PandaX"},{title:"[发布] 2021年11月15日发布 vue2.x + webpack 重构版本",date:"04/15",link:"https://gitee.com/PandaAdmin/PandaX/tree/vue-prev-admin/"},{title:"[重构] 2021年04月10日 重构 vue2.x + webpack v1.0.0 版本",date:"04/10",link:"https://gitee.com/PandaAdmin/PandaX/tree/vue-prev-admin/"},{title:"[预览] 2020年12月08日，基于 vue3.x 版本后台模板的预览",date:"12/08",link:"http://PandaGoAdmin.gitee.io/PandaUi-preview/#/login"},{title:"[预览] 2020年11月15日，基于 vue2.x 版本后台模板的预览",date:"11/15",link:"https://PandaGoAdmin.gitee.io/vue-prev-admin-preview/#/login"}],L=[{title:"Go语言",msg:"健壮的成年",icon:"elementFood",bg:"#48D18D",iconColor:"#64d89d"},{title:"VUE",msg:"茁壮的成长",icon:"elementShoppingCart",bg:"#F95959",iconColor:"#F86C6B"},{title:"JAVA",msg:"懵懂的孩子",icon:"elementSchool",bg:"#8595F4",iconColor:"#92A1F4"},{title:"UNIAPP",msg:"牙牙学语",icon:"elementAlarmClock",bg:"#FEBB50",iconColor:"#FDC566"}],R=e=>(y("data-v-b10bccb0"),e=e(),C(),e),S={class:"personal"},W={class:"personal-user"},D={class:"personal-user-left"},X=["src"],j={class:"personal-user-right"},B=R((()=>v("div",{class:"personal-item-label"},"昵称：",-1))),E={class:"personal-item-value"},G=R((()=>v("div",{class:"personal-item-label"},"当前角色：",-1))),N=R((()=>v("div",{class:"personal-item-value"},"超级管理",-1))),T=R((()=>v("div",{class:"personal-item-label"},"登录IP：",-1))),z={class:"personal-item-value"},J=R((()=>v("div",{class:"personal-item-label"},"登录时间：",-1))),H={class:"personal-item-value"},Y=R((()=>v("span",null,"消息通知",-1))),q=R((()=>v("span",{class:"personal-info-more"},"更多",-1))),K={class:"personal-info-box"},M={class:"personal-info-ul"},Q=["href"],Z={class:"personal-recommend-auto"},$={class:"personal-recommend-msg"},ee=R((()=>v("div",{class:"personal-edit-title"},"基本信息",-1))),le=g(" 更新个人信息 "),ae=R((()=>v("div",{class:"personal-edit-title mb15"},"账号安全",-1))),se={class:"personal-edit-safe-box"},oe={class:"personal-edit-safe-item"},te=R((()=>v("div",{class:"personal-edit-safe-item-left"},[v("div",{class:"personal-edit-safe-item-left-label"},"账户密码"),v("div",{class:"personal-edit-safe-item-left-value"},"当前密码强度：强")],-1))),de={class:"personal-edit-safe-item-right"},ie=g("立即修改"),ne={class:"personal-edit-safe-box"},re={class:"personal-edit-safe-item"},ue=R((()=>v("div",{class:"personal-edit-safe-item-left"},[v("div",{class:"personal-edit-safe-item-left-label"},"切换角色"),v("div",{class:"personal-edit-safe-item-left-value"},"如果所属多个角色可更换角色")],-1))),pe={class:"personal-edit-safe-item-right"},me=g("立即更换"),ce={class:"personal-edit-safe-box"},fe={class:"personal-edit-safe-item"},be=R((()=>v("div",{class:"personal-edit-safe-item-left"},[v("div",{class:"personal-edit-safe-item-left-label"},"切换岗位"),v("div",{class:"personal-edit-safe-item-left-value"},"如果所属多个岗位可更换岗位")],-1))),ve={class:"personal-edit-safe-item-right"},ge=g("立即更换"),_e={class:"dialog-footer"},he=g("取消"),Ve=g("确认修改"),we={class:"dialog-footer"},xe=g("取消"),Ie=g("确认切换"),Pe={class:"dialog-footer"},ke=g("取消"),ye=g("确认切换"),Ce=e(l({setup(e){const l=a(),{t:y}=s(),C=o(),R=t({newsInfoList:O,recommendList:L,dialogVisiblePassWord:!1,dialogVisiblePost:!1,dialogVisibleRole:!1,password:{newPassword:"",oldPassword:""},roleId:"",postId:"",roleOptions:[],postOptions:[],personalForm:{name:"",email:"",autograph:"",phone:"",sex:""}}),{personalForm:Ce}=d(R),Ue=i((()=>f(new Date))),Ae=i((()=>C.state.userInfos.userInfos)),Fe=(e,l)=>{switch(e){case"password":R.dialogVisiblePassWord=l;break;case"role":R.dialogVisibleRole=l;break;case"post":R.dialogVisiblePost=l}},Oe=async()=>{A(R.password).then((e=>{I.success("密码修改成功"),R.dialogVisiblePassWord=!1}))},Le=async()=>{F({roleId:R.roleId}).then((e=>{I.success("角色切换成功"),R.dialogVisibleRole=!1,P.clear(),k(),l.push("/login"),setTimeout((()=>{I.success(y("message.user.logOutSuccess"))}),300)}))},Re=async()=>{F({postId:R.postId}).then((e=>{I.success("岗位切换成功"),R.dialogVisiblePost=!1}))};return n((()=>{U().then((e=>{R.roleOptions=e.data.roles,R.postOptions=e.data.posts})),R.roleId=C.state.userInfos.userInfos.roleId,R.postId=C.state.userInfos.userInfos.postId})),(e,l)=>{const a=r("el-upload"),s=r("el-col"),o=r("el-row"),t=r("el-card"),d=r("SvgIcon"),i=r("el-input"),n=r("el-form-item"),f=r("el-option"),I=r("el-select"),P=r("elementPosition"),k=r("el-icon"),y=r("el-button"),C=r("el-form"),U=r("el-dialog");return b(),u("div",S,[p(o,null,{default:m((()=>[p(s,{xs:24,sm:16},{default:m((()=>[p(t,{shadow:"hover",header:"个人信息"},{default:m((()=>[v("div",W,[v("div",D,[p(a,{class:"h100 personal-user-left-upload",action:"https://jsonplaceholder.typicode.com/posts/",multiple:"",limit:1},{default:m((()=>[v("img",{src:c(Ae).photo},null,8,X)])),_:1})]),v("div",j,[p(o,null,{default:m((()=>[p(s,{span:24,class:"personal-title mb18"},{default:m((()=>[g(_(c(Ue))+"，"+_(c(Ae).username||"匿名")+"，生活变的再糟糕，也不妨碍我变得更好！ ",1)])),_:1}),p(s,{span:24},{default:m((()=>[p(o,null,{default:m((()=>[p(s,{xs:24,sm:8,class:"personal-item mb6"},{default:m((()=>[B,v("div",E,_(c(Ae).username||"匿名"),1)])),_:1}),p(s,{xs:24,sm:16,class:"personal-item mb6"},{default:m((()=>[G,N])),_:1})])),_:1})])),_:1}),p(s,{span:24},{default:m((()=>[p(o,null,{default:m((()=>[p(s,{xs:24,sm:8,class:"personal-item mb6"},{default:m((()=>[T,v("div",z,_(c(Ae).lastLoginIp||"192.168.1.1"),1)])),_:1}),p(s,{xs:24,sm:16,class:"personal-item mb6"},{default:m((()=>[J,v("div",H,_(e.parseTime(c(Ae).lastLoginTime)),1)])),_:1})])),_:1})])),_:1})])),_:1})])])])),_:1})])),_:1}),p(s,{xs:24,sm:8,class:"pl15 personal-info"},{default:m((()=>[p(t,{shadow:"hover"},{header:m((()=>[Y,q])),default:m((()=>[v("div",K,[v("ul",M,[(b(!0),u(h,null,V(c(R).newsInfoList,((e,l)=>(b(),u("li",{key:l,class:"personal-info-li"},[v("a",{href:e.link,target:"_block",class:"personal-info-li-title"},_(e.title),9,Q)])))),128))])])])),_:1})])),_:1}),p(s,{span:24},{default:m((()=>[p(t,{shadow:"hover",class:"mt15",header:"精通语言"},{default:m((()=>[p(o,{gutter:15,class:"personal-recommend-row"},{default:m((()=>[(b(!0),u(h,null,V(c(R).recommendList,((e,l)=>(b(),w(s,{sm:6,key:l,class:"personal-recommend-col"},{default:m((()=>[v("div",{class:"personal-recommend",style:x({"background-color":e.bg})},[p(d,{name:e.icon,style:x({color:e.iconColor})},null,8,["name","style"]),v("div",Z,[v("div",null,_(e.title),1),v("div",$,_(e.msg),1)])],4)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),p(s,{span:24},{default:m((()=>[p(t,{shadow:"hover",class:"mt15 personal-edit",header:"更新信息"},{default:m((()=>[ee,p(C,{model:c(Ce),size:"small","label-width":"40px",class:"mt35 mb35"},{default:m((()=>[p(o,{gutter:35},{default:m((()=>[p(s,{xs:24,sm:12,md:8,lg:6,xl:4,class:"mb20"},{default:m((()=>[p(n,{label:"昵称"},{default:m((()=>[p(i,{modelValue:c(Ce).name,"onUpdate:modelValue":l[0]||(l[0]=e=>c(Ce).name=e),placeholder:"请输入昵称",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),p(s,{xs:24,sm:12,md:8,lg:6,xl:4,class:"mb20"},{default:m((()=>[p(n,{label:"邮箱"},{default:m((()=>[p(i,{modelValue:c(Ce).email,"onUpdate:modelValue":l[1]||(l[1]=e=>c(Ce).email=e),placeholder:"请输入邮箱",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),p(s,{xs:24,sm:12,md:8,lg:6,xl:4,class:"mb20"},{default:m((()=>[p(n,{label:"签名"},{default:m((()=>[p(i,{modelValue:c(Ce).autograph,"onUpdate:modelValue":l[2]||(l[2]=e=>c(Ce).autograph=e),placeholder:"请输入签名",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),p(s,{xs:24,sm:12,md:8,lg:6,xl:4,class:"mb20"},{default:m((()=>[p(n,{label:"手机"},{default:m((()=>[p(i,{modelValue:c(Ce).phone,"onUpdate:modelValue":l[3]||(l[3]=e=>c(Ce).phone=e),placeholder:"请输入手机",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),p(s,{xs:24,sm:12,md:8,lg:6,xl:4,class:"mb20"},{default:m((()=>[p(n,{label:"性别"},{default:m((()=>[p(I,{modelValue:c(Ce).sex,"onUpdate:modelValue":l[4]||(l[4]=e=>c(Ce).sex=e),placeholder:"请选择性别",clearable:"",class:"w100"},{default:m((()=>[p(f,{label:"男",value:"1"}),p(f,{label:"女",value:"2"})])),_:1},8,["modelValue"])])),_:1})])),_:1}),p(s,{xs:24,sm:24,md:24,lg:24,xl:4},{default:m((()=>[p(n,null,{default:m((()=>[p(y,{type:"primary"},{default:m((()=>[p(k,null,{default:m((()=>[p(P)])),_:1}),le])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["model"]),ae,v("div",se,[v("div",oe,[te,v("div",de,[p(y,{type:"text",onClick:l[5]||(l[5]=e=>Fe("password",!0))},{default:m((()=>[ie])),_:1})])])]),v("div",ne,[v("div",re,[ue,v("div",pe,[p(y,{type:"text",onClick:l[6]||(l[6]=e=>Fe("role",!0))},{default:m((()=>[me])),_:1})])])]),v("div",ce,[v("div",fe,[be,v("div",ve,[p(y,{type:"text",onClick:l[7]||(l[7]=e=>Fe("post",!0))},{default:m((()=>[ge])),_:1})])])])])),_:1})])),_:1})])),_:1}),p(U,{modelValue:c(R).dialogVisiblePassWord,"onUpdate:modelValue":l[11]||(l[11]=e=>c(R).dialogVisiblePassWord=e),title:"密码修改",width:"650px"},{footer:m((()=>[v("span",_e,[p(y,{onClick:l[10]||(l[10]=e=>Fe("password",!1))},{default:m((()=>[he])),_:1}),p(y,{type:"primary",onClick:Oe},{default:m((()=>[Ve])),_:1})])])),default:m((()=>[p(C,{model:c(R).password,"label-width":"80px"},{default:m((()=>[p(n,{label:"旧密码",prop:"oldPassword"},{default:m((()=>[p(i,{modelValue:c(R).password.oldPassword,"onUpdate:modelValue":l[8]||(l[8]=e=>c(R).password.oldPassword=e),placeholder:"请输入旧密码"},null,8,["modelValue"])])),_:1}),p(n,{label:"新密码",prop:"newPassword"},{default:m((()=>[p(i,{modelValue:c(R).password.newPassword,"onUpdate:modelValue":l[9]||(l[9]=e=>c(R).password.newPassword=e),placeholder:"请输入新密码"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),p(U,{modelValue:c(R).dialogVisibleRole,"onUpdate:modelValue":l[14]||(l[14]=e=>c(R).dialogVisibleRole=e),title:"切换角色",width:"650px"},{footer:m((()=>[v("span",we,[p(y,{onClick:l[13]||(l[13]=e=>Fe("role",!1))},{default:m((()=>[xe])),_:1}),p(y,{type:"primary",onClick:Le},{default:m((()=>[Ie])),_:1})])])),default:m((()=>[p(I,{modelValue:c(R).roleId,"onUpdate:modelValue":l[12]||(l[12]=e=>c(R).roleId=e),placeholder:"请选择"},{default:m((()=>[(b(!0),u(h,null,V(c(R).roleOptions,(e=>(b(),w(f,{key:e.roleId,label:e.roleName,value:e.roleId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["modelValue"]),p(U,{modelValue:c(R).dialogVisiblePost,"onUpdate:modelValue":l[17]||(l[17]=e=>c(R).dialogVisiblePost=e),title:"切换岗位",width:"650px"},{footer:m((()=>[v("span",Pe,[p(y,{onClick:l[16]||(l[16]=e=>Fe("post",!1))},{default:m((()=>[ke])),_:1}),p(y,{type:"primary",onClick:Re},{default:m((()=>[ye])),_:1})])])),default:m((()=>[p(I,{modelValue:c(R).postId,"onUpdate:modelValue":l[15]||(l[15]=e=>c(R).postId=e),placeholder:"请选择"},{default:m((()=>[(b(!0),u(h,null,V(c(R).postOptions,(e=>(b(),w(f,{key:e.postId,label:e.postName,value:e.postId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-b10bccb0"]]);export{Ce as default};
