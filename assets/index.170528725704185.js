import{at as l,_ as e,k as a,m as s,p as c,r as t,Q as i,v as d,a as n,h as o,w as _,o as r,b as f,t as u,y as m,g as b}from"./index.1705287257041.js";import{f as h}from"./index.1705287257041103.js";const v={name:"monistorserver",setup(){const{proxy:e}=b(),t=a({cache:[],loading:!1}),i=()=>{t.loading=!0,l({url:"/monitor/cache",method:"get"}).then((l=>{t.cache=l.data;h(e.$refs.commandstats,"macarons").setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"命令",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:l.data.commandStats,animationEasing:"cubicInOut",animationDuration:1e3}]});h(e.$refs.usedmemory,"macarons").setOption({tooltip:{formatter:"{b} <br/>{a} : "+t.cache.info.used_memory_human},series:[{name:"峰值",type:"gauge",min:0,max:1e3,detail:{formatter:t.cache.info.used_memory_human},data:[{value:parseFloat(t.cache.info.used_memory_human),name:"内存消耗"}]}]}),t.loading=!1}))};return s((()=>{i()})),{getdata:i,...c(t)}}},p={class:"app-container"},y=f("span",null,"基本信息",-1),g={class:"el-table el-table--enable-row-hover el-table--medium"},k={cellspacing:"0",style:{width:"100%"}},x=f("td",{class:"el-table__cell is-leaf"},[f("div",{class:"cell"},"Redis版本")],-1),w={class:"el-table__cell is-leaf"},F={key:0,class:"cell"},O=f("td",{class:"el-table__cell is-leaf"},[f("div",{class:"cell"},"运行模式")],-1),S={class:"el-table__cell is-leaf"},j={key:0,class:"cell"},z=f("td",{class:"el-table__cell is-leaf"},[f("div",{class:"cell"},"端口")],-1),D={class:"el-table__cell is-leaf"},R={key:0,class:"cell"},$=f("td",{class:"el-table__cell is-leaf"},[f("div",{class:"cell"},"客户端数")],-1),A={class:"el-table__cell is-leaf"},B={key:0,class:"cell"},C=f("td",{class:"el-table__cell is-leaf"},[f("div",{class:"cell"},"运行时间(天)")],-1),E={class:"el-table__cell is-leaf"},I={key:0,class:"cell"},K=f("td",{class:"el-table__cell is-leaf"},[f("div",{class:"cell"},"使用内存")],-1),P={class:"el-table__cell is-leaf"},Q={key:0,class:"cell"},T=f("td",{class:"el-table__cell is-leaf"},[f("div",{class:"cell"},"使用CPU")],-1),U={class:"el-table__cell is-leaf"},q={key:0,class:"cell"},G=f("td",{class:"el-table__cell is-leaf"},[f("div",{class:"cell"},"内存配置")],-1),H={class:"el-table__cell is-leaf"},J={key:0,class:"cell"},L=f("td",{class:"el-table__cell is-leaf"},[f("div",{class:"cell"},"AOF是否开启")],-1),M={class:"el-table__cell is-leaf"},N={key:0,class:"cell"},V=f("td",{class:"el-table__cell is-leaf"},[f("div",{class:"cell"},"RDB是否成功")],-1),W={class:"el-table__cell is-leaf"},X={key:0,class:"cell"},Y=f("td",{class:"el-table__cell is-leaf"},[f("div",{class:"cell"},"Key数量")],-1),Z={class:"el-table__cell is-leaf"},ll={key:0,class:"cell"},el=f("td",{class:"el-table__cell is-leaf"},[f("div",{class:"cell"},"网络入口/出口")],-1),al={class:"el-table__cell is-leaf"},sl={key:0,class:"cell"},cl=f("span",null,"命令统计",-1),tl={class:"el-table el-table--enable-row-hover el-table--medium"},il={ref:"commandstats",style:{height:"420px"}},dl=f("span",null,"内存信息",-1),nl={class:"el-table el-table--enable-row-hover el-table--medium"},ol={ref:"usedmemory",style:{height:"420px"}};const _l=e(v,[["render",function(l,e,a,s,c,b){const h=t("el-card"),v=t("el-col"),_l=t("el-row"),rl=i("loading");return d((r(),n("div",p,[o(_l,null,{default:_((()=>[o(v,{span:24,class:"card-box"},{default:_((()=>[o(h,null,{header:_((()=>[y])),default:_((()=>[f("div",g,[f("table",k,[f("tbody",null,[f("tr",null,[x,f("td",w,[l.cache.info?(r(),n("div",F,u(l.cache.info.redis_version),1)):m("",!0)]),O,f("td",S,[l.cache.info?(r(),n("div",j,u("standalone"==l.cache.info.redis_mode?"单机":"集群"),1)):m("",!0)]),z,f("td",D,[l.cache.info?(r(),n("div",R,u(l.cache.info.tcp_port),1)):m("",!0)]),$,f("td",A,[l.cache.info?(r(),n("div",B,u(l.cache.info.connected_clients),1)):m("",!0)])]),f("tr",null,[C,f("td",E,[l.cache.info?(r(),n("div",I,u(l.cache.info.uptime_in_days),1)):m("",!0)]),K,f("td",P,[l.cache.info?(r(),n("div",Q,u(l.cache.info.used_memory_human),1)):m("",!0)]),T,f("td",U,[l.cache.info?(r(),n("div",q,u(parseFloat(l.cache.info.used_cpu_user_children).toFixed(2)),1)):m("",!0)]),G,f("td",H,[l.cache.info?(r(),n("div",J,u(l.cache.info.maxmemory_human),1)):m("",!0)])]),f("tr",null,[L,f("td",M,[l.cache.info?(r(),n("div",N,u("0"==l.cache.info.aof_enabled?"否":"是"),1)):m("",!0)]),V,f("td",W,[l.cache.info?(r(),n("div",X,u(l.cache.info.rdb_last_bgsave_status),1)):m("",!0)]),Y,f("td",Z,[l.cache.dbSize?(r(),n("div",ll,u(l.cache.dbSize),1)):m("",!0)]),el,f("td",al,[l.cache.info?(r(),n("div",sl,u(l.cache.info.instantaneous_input_kbps)+"kps/"+u(l.cache.info.instantaneous_output_kbps)+"kps",1)):m("",!0)])])])])])])),_:1})])),_:1}),o(v,{span:12,class:"card-box"},{default:_((()=>[o(h,null,{header:_((()=>[cl])),default:_((()=>[f("div",tl,[f("div",il,null,512)])])),_:1})])),_:1}),o(v,{span:12,class:"card-box"},{default:_((()=>[o(h,null,{header:_((()=>[dl])),default:_((()=>[f("div",nl,[f("div",ol,null,512)])])),_:1})])),_:1})])),_:1})])),[[rl,l.loading]])}]]);export{_l as default};
