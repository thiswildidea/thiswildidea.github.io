import{at as e,_ as o,D as l,k as t,p as r,r as a,Q as s,a as u,h as m,w as d,ay as p,H as n,o as i,v as c,i as f,t as F,b as g,F as _,e as b,f as h,g as V}from"./index.1705206323444.js";function y(o){return e({url:"/system/post/list",method:"get",params:o})}function S(o){return e({url:"/system/post/"+o,method:"delete"})}const C={name:"editMenu",props:{title:{type:String,default:()=>""}},setup(){const{proxy:o}=V(),a=l(null),s=t({isShowDialog:!1,ruleForm:{postId:0,postName:"",postCode:"",postSort:0,status:"",remark:""},statusOptions:[],deptOptions:[],ruleRules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]}}),u=e=>{o.mittBus.emit("onEditPostModule",e),s.isShowDialog=!1},m=()=>{s.ruleForm.postId=0,s.ruleForm.postName="",s.ruleForm.postCode="",s.ruleForm.postSort=0,s.ruleForm.status="0",s.ruleForm.remark=""};return{ruleFormRef:a,openDialog:e=>{e.postId&&null!=e.postId&&0!=e.postId?(s.ruleForm=e,s.ruleForm.postId=e.postId,s.ruleForm.postName=e.postName,s.ruleForm.postCode=e.postCode,s.ruleForm.postSort=e.postSort,s.ruleForm.status=e.status,s.ruleForm.remark=e.remark):m(),s.isShowDialog=!0,o.getDicts("sys_normal_disable").then((e=>{s.statusOptions=e.data}))},closeDialog:u,onCancel:()=>{u()},initForm:m,onSubmit:()=>{const o=p(a);o&&o.validate((o=>{var l;o&&(null!=s.ruleForm.postId&&0!=s.ruleForm.postId?(l=s.ruleForm,e({url:"/system/post",method:"put",data:l})).then((e=>{n.success("修改成功"),u(s.ruleForm)})):function(o){return e({url:"/system/post",method:"post",data:o})}(s.ruleForm).then((e=>{n.success("新增成功"),u(s.ruleForm)})))}))},...r(s)}}},k={class:"system-menu-container"},w={style:{"font-size":"large"}},D={class:"dialog-footer"},I=f("取 消"),N=f("编 辑");const v=o(C,[["render",function(e,o,l,t,r,p){const n=a("el-input"),V=a("el-form-item"),y=a("el-col"),S=a("el-input-number"),C=a("el-radio"),v=a("el-radio-group"),x=a("el-row"),O=a("el-form"),U=a("el-button"),z=a("el-dialog"),R=s("drag");return i(),u("div",k,[m(z,{modelValue:e.isShowDialog,"onUpdate:modelValue":o[5]||(o[5]=o=>e.isShowDialog=o),width:"769px"},{title:d((()=>[c((i(),u("div",w,[f(F(l.title),1)])),[[R,[".system-menu-container .el-dialog",".system-menu-container .el-dialog__header"]]])])),footer:d((()=>[g("span",D,[m(U,{onClick:t.onCancel,size:"small"},{default:d((()=>[I])),_:1},8,["onClick"]),m(U,{type:"primary",onClick:t.onSubmit,size:"small"},{default:d((()=>[N])),_:1},8,["onClick"])])])),default:d((()=>[m(O,{model:e.ruleForm,rules:e.ruleRules,ref:"ruleFormRef","label-width":"80px"},{default:d((()=>[m(x,{gutter:35},{default:d((()=>[m(y,{span:24},{default:d((()=>[m(V,{label:"岗位名称",prop:"postName"},{default:d((()=>[m(n,{modelValue:e.ruleForm.postName,"onUpdate:modelValue":o[0]||(o[0]=o=>e.ruleForm.postName=o),placeholder:"请输入岗位名称"},null,8,["modelValue"])])),_:1})])),_:1}),m(y,{span:24},{default:d((()=>[m(V,{label:"岗位编码",prop:"postCode"},{default:d((()=>[m(n,{modelValue:e.ruleForm.postCode,"onUpdate:modelValue":o[1]||(o[1]=o=>e.ruleForm.postCode=o),placeholder:"请输入编码名称"},null,8,["modelValue"])])),_:1})])),_:1}),m(y,{span:24},{default:d((()=>[m(V,{label:"岗位顺序",prop:"postSort"},{default:d((()=>[m(S,{modelValue:e.ruleForm.postSort,"onUpdate:modelValue":o[2]||(o[2]=o=>e.ruleForm.postSort=o),"controls-position":"right",min:0},null,8,["modelValue"])])),_:1})])),_:1}),m(y,{span:24},{default:d((()=>[m(V,{label:"岗位状态",prop:"status"},{default:d((()=>[m(v,{modelValue:e.ruleForm.status,"onUpdate:modelValue":o[3]||(o[3]=o=>e.ruleForm.status=o)},{default:d((()=>[(i(!0),u(_,null,b(e.statusOptions,(e=>(i(),h(C,{key:e.dictValue,label:e.dictValue},{default:d((()=>[f(F(e.dictLabel),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),m(y,{span:24},{default:d((()=>[m(V,{label:"备注",prop:"remark"},{default:d((()=>[m(n,{modelValue:e.ruleForm.remark,"onUpdate:modelValue":o[4]||(o[4]=o=>e.ruleForm.remark=o),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}]]),x=Object.freeze(Object.defineProperty({__proto__:null,default:v},Symbol.toStringTag,{value:"Module"}));export{v as E,S as d,x as e,y as l};
