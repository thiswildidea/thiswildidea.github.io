import{at as e,_ as a,u as t,A as i,k as s,m as o,V as n,l as r,p as c,a as l,o as d,X as p,Y as u,b as m}from"./index.1705063365056.js";import{l as w,M as g}from"./mapconfig.1705063365056.js";const y={name:"map",components:{},setup(){const a=t();i();const l=s({});return o((async()=>{!async function(e){const[a,t,i,s,o,n,r,c,l,d,p,u]=await w(["esri/Map","esri/views/SceneView","esri/layers/GeoJSONLayer","esri/core/reactiveUtils","esri/widgets/Expand","esri/Camera","esri/widgets/Home","esri/widgets/Fullscreen","esri/widgets/LayerList","esri/widgets/Legend","esri/widgets/BasemapGallery","esri/geometry/SpatialReference"],{url:g.jsapiurl,css:g.jscssurl}),m=new a({basemap:"oceans",ground:{surfaceColor:"#021425"}}),y=new i({url:e.geojsonLayer.url,popupTemplate:e.geojsonLayer.template,labelingInfo:e.geojsonLayer.labelingInfo,renderer:e.geojsonLayer.renderer});m.add(y);const f=new t({spatialReference:u.WebMercator,container:"viewDiv_earthquakes",map:m}),v=new r({view:f});f.ui.add(v,"top-left");const x=new c({view:f});f.ui.add(x,"top-left");const L=new p({view:f}),h=new o({view:f,content:L,expandIconClass:"esri-icon-basemap",expandTooltip:"LayerList",group:"top-left"});f.ui.add(h,"top-left");const k=new l({container:document.createElement("div"),id:"earthquakes_maplayerlist",view:f,listItemCreatedFunction:async function(e){e.item.actionsSections=[[{title:"Go to full extent",className:"esri-icon-zoom-out-fixed",id:"full-extent"}],[{title:"Increase opacity",className:"esri-icon-up",id:"increase-opacity"},{title:"Decrease opacity",className:"esri-icon-down",id:"decrease-opacity"}]]}});k.on("trigger-action",(e=>{const a=e.item.layer,t=e.action.id;"full-extent"===t?f.goTo(a.fullExtent):"increase-opacity"===t?a.opacity<1&&(a.opacity+=.25):"decrease-opacity"===t&&a.opacity>0&&(a.opacity-=.25)}));const j=new o({id:"earthquakes_maplayerlistExpand",view:f,content:k.domNode,expandIconClass:"esri-icon-layers",expandTooltip:"LayerList",group:"top-left"});f.ui.add(j,"top-left");const _=new d({id:"earthquakes_legend",view:f}),I=new o({id:"earthquakes_legendExpand",view:f,content:_,expandIconClass:"esri-icon-legend",expandTooltip:"Legend",group:"top-left"});f.ui.add(I,"top-left"),new n({fov:e.camera.fov,heading:e.camera.heading,position:{x:e.camera.position.x,y:e.camera.position.y,z:e.camera.position.z,spatialReference:{wkid:3857}},tilt:e.camera.tilt}),s.once((()=>!0===(null==f?void 0:f.stationary))).then((()=>{})),s.on((()=>f),"click",(e=>{console.log("view scale: ",f.scale)}))}(await e({url:"/config/demo/earthquakes.json",method:"get"}))})),n((()=>{})),r((()=>a.state.tagsViewRoutes.isTagsViewCurrenFull)),{...c(l)}}},f={class:"home-container"},v=[(e=>(p("data-v-e317d2e4"),e=e(),u(),e))((()=>m("div",{id:"viewDiv_earthquakes"},null,-1)))];const x=a(y,[["render",function(e,a,t,i,s,o){return d(),l("div",f,v)}],["__scopeId","data-v-e317d2e4"]]);export{x as default};
