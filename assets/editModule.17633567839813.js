import{au as e,_ as l,D as o,k as r,p as a,r as u,H as t,a as n,h as i,w as m,az as s,J as d,o as c,v as f,i as g,t as p,b as y,F,e as V,f as h,g as _}from"./index.1763356783981.js";function b(l){return e({url:"/system/config/list",method:"get",params:l})}function k(l){return e({url:"/system/config/"+l,method:"delete"})}function S(l){return e({url:"/system/config/export",method:"get",params:l})}const D={name:"editMenu",props:{title:{type:String,default:()=>""}},setup(){const{proxy:l}=_(),u=o(null),t=r({isShowDialog:!1,ruleForm:{configId:0,configName:"",configKey:"",configValue:"",configType:"",remark:""},typeOptions:[],ruleRules:{dictName:[{required:!0,message:"配置参数名称不能为空",trigger:"blur"}],dictType:[{required:!0,message:"配置参数类型不能为空",trigger:"blur"}]}}),n=e=>{l.mittBus.emit("onEditPostModule",e),t.isShowDialog=!1},i=()=>{t.ruleForm.configId=0,t.ruleForm.configName="",t.ruleForm.configKey="",t.ruleForm.configValue="",t.ruleForm.configType="",t.ruleForm.remark=""};return{ruleFormRef:u,openDialog:e=>{e.configId&&null!=e.configId&&0!=e.configId?(t.ruleForm=e,t.ruleForm.configId=e.configId,t.ruleForm.configName=e.configName,t.ruleForm.configKey=e.configKey,t.ruleForm.configValue=e.configValue,t.ruleForm.configType=e.configType,t.ruleForm.remark=e.remark):i(),t.isShowDialog=!0,l.getDicts("sys_yes_no").then((e=>{t.typeOptions=e.data}))},closeDialog:n,onCancel:()=>{n()},initForm:i,onSubmit:()=>{const l=s(u);l&&l.validate((l=>{var o;l&&(null!=t.ruleForm.configId&&0!=t.ruleForm.configId?(o=t.ruleForm,e({url:"/system/config",method:"put",data:o})).then((e=>{d.success("修改成功"),n(t.ruleForm)})):function(l){return e({url:"/system/config",method:"post",data:l})}(t.ruleForm).then((e=>{d.success("新增成功"),n(t.ruleForm)})))}))},...a(t)}}},I={class:"system-menu-container"},T={style:{"font-size":"large"}},w={class:"dialog-footer"},N=g("取 消"),x=g("编 辑");const K=l(D,[["render",function(e,l,o,r,a,s){const d=u("el-input"),_=u("el-form-item"),b=u("el-radio"),k=u("el-radio-group"),S=u("el-form"),D=u("el-button"),K=u("el-dialog"),v=t("drag");return c(),n("div",I,[i(K,{modelValue:e.isShowDialog,"onUpdate:modelValue":l[5]||(l[5]=l=>e.isShowDialog=l),width:"769px"},{title:m((()=>[f((c(),n("div",T,[g(p(o.title),1)])),[[v,[".system-menu-container .el-dialog",".system-menu-container .el-dialog__header"]]])])),footer:m((()=>[y("span",w,[i(D,{onClick:r.onCancel,size:"small"},{default:m((()=>[N])),_:1},8,["onClick"]),i(D,{type:"primary",onClick:r.onSubmit,size:"small"},{default:m((()=>[x])),_:1},8,["onClick"])])])),default:m((()=>[i(S,{model:e.ruleForm,rules:e.ruleRules,ref:"ruleFormRef","label-width":"80px"},{default:m((()=>[i(_,{label:"参数名称",prop:"configName"},{default:m((()=>[i(d,{modelValue:e.ruleForm.configName,"onUpdate:modelValue":l[0]||(l[0]=l=>e.ruleForm.configName=l),placeholder:"请输入参数名称"},null,8,["modelValue"])])),_:1}),i(_,{label:"参数键名",prop:"configKey"},{default:m((()=>[i(d,{modelValue:e.ruleForm.configKey,"onUpdate:modelValue":l[1]||(l[1]=l=>e.ruleForm.configKey=l),placeholder:"请输入参数键名"},null,8,["modelValue"])])),_:1}),i(_,{label:"参数键值",prop:"configValue"},{default:m((()=>[i(d,{modelValue:e.ruleForm.configValue,"onUpdate:modelValue":l[2]||(l[2]=l=>e.ruleForm.configValue=l),placeholder:"请输入参数键值"},null,8,["modelValue"])])),_:1}),i(_,{label:"系统内置",prop:"configType"},{default:m((()=>[i(k,{modelValue:e.ruleForm.configType,"onUpdate:modelValue":l[3]||(l[3]=l=>e.ruleForm.configType=l)},{default:m((()=>[(c(!0),n(F,null,V(e.typeOptions,(e=>(c(),h(b,{key:e.dictValue,label:e.dictValue},{default:m((()=>[g(p(e.dictLabel),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1}),i(_,{label:"备注",prop:"remark"},{default:m((()=>[i(d,{modelValue:e.ruleForm.remark,"onUpdate:modelValue":l[4]||(l[4]=l=>e.ruleForm.remark=l),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}]]),v=Object.freeze(Object.defineProperty({__proto__:null,default:K},Symbol.toStringTag,{value:"Module"}));export{K as E,v as a,k as d,S as e,b as l};
