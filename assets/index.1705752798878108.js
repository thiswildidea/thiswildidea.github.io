import{d as e,D as t,k as a,m as i,p as o,_ as n,G as r,r as s,v as l,x as c,o as d,a as p,b as f,z as u,y as m,t as y,a0 as h,f as g,C as x}from"./index.1705752798878.js";const b=e({name:"noticeBar",props:{mode:{type:String,default:()=>""},text:{type:String,default:()=>""},color:{type:String,default:()=>"var(--color-warning)"},background:{type:String,default:()=>"var(--color-warning-light-9)"},size:{type:[Number,String],default:()=>14},height:{type:[Number,String],default:()=>40},delay:{type:[Number,String],default:()=>1},speed:{type:[Number,String],default:()=>100},scrollable:{type:Boolean,default:()=>!1},leftIcon:{type:String,default:()=>""},rightIcon:{type:String,default:()=>""}},setup(e,{emit:n}){const s=t(),l=t(),c=a({order:1,oneTime:"",twoTime:"",warpOWidth:"",textOWidth:"",isMode:!1}),d=()=>{c.oneTime=c.textOWidth/e.speed,c.twoTime=(c.textOWidth+c.warpOWidth)/e.speed},p=()=>{1===c.order?(l.value.style.cssText=`animation: oneAnimation ${c.oneTime}s linear; opactity: 1;}`,c.order=2):l.value.style.cssText=`animation: twoAnimation ${c.twoTime}s linear infinite; opacity: 1;`};return i((()=>{if(e.scrollable)return!1;r((()=>{c.warpOWidth=s.value.offsetWidth,c.textOWidth=l.value.offsetWidth,document.styleSheets[0].insertRule(`@keyframes oneAnimation {0% {left: 0px;} 100% {left: -${c.textOWidth}px;}}`),document.styleSheets[0].insertRule(`@keyframes twoAnimation {0% {left: ${c.warpOWidth}px;} 100% {left: -${c.textOWidth}px;}}`),d(),setTimeout((()=>{p()}),1e3*e.delay)})),l.value.addEventListener("animationend",(()=>{p()}),!1)})),{noticeBarWarpRef:s,noticeBarTextRef:l,onRightIconClick:()=>{if(!e.mode)return!1;"closeable"===e.mode?(c.isMode=!0,n("close")):"link"===e.mode&&n("link")},...o(c)}}}),v={class:"notice-bar-warp-text-box",ref:"noticeBarWarpRef"},w={key:1,class:"notice-bar-warp-slot"};const k=n(b,[["render",function(e,t,a,i,o,n){const r=s("SvgIcon");return l((d(),p("div",{class:"notice-bar",style:x({background:e.background,height:`${e.height}px`})},[f("div",{class:"notice-bar-warp",style:x({color:e.color,fontSize:`${e.size}px`})},[e.leftIcon?(d(),p("i",{key:0,class:u(["notice-bar-warp-left-icon",e.leftIcon])},null,2)):m("",!0),f("div",v,[e.scrollable?(d(),p("div",w,[h(e.$slots,"default",{},void 0,!0)])):(d(),p("div",{key:0,class:"notice-bar-warp-text",ref:"noticeBarTextRef"},y(e.text),513))],512),e.rightIcon?(d(),g(r,{key:1,name:e.rightIcon,class:"notice-bar-warp-right-icon",onClick:e.onRightIconClick},null,8,["name","onClick"])):m("",!0)],4)],4)),[[c,!e.isMode]])}],["__scopeId","data-v-49b652ba"]]);export{k as N};
