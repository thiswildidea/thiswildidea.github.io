import{_ as A,u as B,c as v,o as _,a as $,b as k,t as I,g as N,d as ae,r as h,e as te,F as q,f as x,w as b,h as p,i as W,j as J,k as j,l as X,m as K,n as ie,p as U,q as Ae,s as re,v as pe,x as ge,y as M,z as D,A as ce,T as Ne,B as ee,C as le,D as Y,E as Me,G as oe,L as E,H as ke,I as je,S as se,J as Ue,K as Be,M as ue,N as Qe,O as Ge,P as Le}from"./index.1704798071520.js";import{S as Xe}from"./sortable.esm.1704798071520.js";import Ye from"./parent.1704798071520.js";const Je=""+new URL("esrilogo.1704798071520.png",import.meta.url).href;const Ke={name:"layoutLogo",setup(){const{proxy:e}=N(),s=B(),l=v(()=>s.state.themeConfig.themeConfig),t=v(()=>{let{isCollapse:C,layout:o}=s.state.themeConfig.themeConfig;return!C||o==="classic"||document.body.clientWidth<1e3});return{logo:Je,setShowLogo:t,getThemeConfig:l,onThemeConfigChange:()=>{if(s.state.themeConfig.themeConfig.layout==="transverse")return!1;e.mittBus.emit("onMenuClick"),s.state.themeConfig.themeConfig.isCollapse=!s.state.themeConfig.themeConfig.isCollapse}}}},Ze=["src"],et=["src"];function tt(e,s,l,t,f,C){return t.setShowLogo?(_(),$("div",{key:0,class:"layout-logo",onClick:s[0]||(s[0]=(...o)=>t.onThemeConfigChange&&t.onThemeConfigChange(...o))},[k("img",{src:t.logo,class:"layout-logo-medium-img"},null,8,Ze),k("span",null,I(t.getThemeConfig.globalTitle),1)])):(_(),$("div",{key:1,class:"layout-logo-size",onClick:s[1]||(s[1]=(...o)=>t.onThemeConfigChange&&t.onThemeConfigChange(...o))},[k("img",{src:t.logo,class:"layout-logo-size-img"},null,8,et)]))}const He=A(Ke,[["render",tt],["__scopeId","data-v-82c23d9a"]]),nt=ae({name:"navMenuSubItem",props:{chil:{type:Array,default:()=>[]}},setup(e){return{chils:v(()=>e.chil)}}}),st=["href"];function ot(e,s,l,t,f,C){const o=h("SvgIcon"),u=h("sub-item",!0),n=h("el-sub-menu"),d=h("el-menu-item");return _(!0),$(q,null,te(e.chils,m=>(_(),$(q,null,[m.children&&m.children.length>0?(_(),x(n,{index:m.path,key:m.path},{title:b(()=>[p(o,{name:m.meta.icon},null,8,["name"]),k("span",null,I(e.$t(m.meta.title)),1)]),default:b(()=>[p(u,{chil:m.children},null,8,["chil"])]),_:2},1032,["index"])):(_(),x(d,{index:m.path,key:m.path},{default:b(()=>[!m.meta.isLink||m.meta.isLink&&m.meta.isIframe?(_(),$(q,{key:0},[p(o,{name:m.meta.icon},null,8,["name"]),k("span",null,I(e.$t(m.meta.title)),1)],64)):(_(),$("a",{key:1,href:m.meta.isLink,target:"_blank",rel:"opener"},[p(o,{name:m.meta.icon},null,8,["name"]),W(" "+I(e.$t(m.meta.title)),1)],8,st))]),_:2},1032,["index"]))],64))),256)}const De=A(nt,[["render",ot]]),at=ae({name:"navMenuVertical",components:{SubItem:De},props:{menuList:{type:Array,default:()=>[]}},setup(e){const{proxy:s}=N(),l=B(),t=J(),f=j({defaultActive:t.meta.isDynamic?t.meta.isDynamicPath:t.path,isCollapse:!1}),C=v(()=>e.menuList),o=v(()=>l.state.themeConfig.themeConfig),u=n=>{const{path:d,meta:m}=n,r=m.isDynamic?m.isDynamicPath.split("/"):d.split("/");return r.length>=4&&m.isHide?r.splice(0,3).join("/"):d};return X(l.state.themeConfig.themeConfig,()=>{document.body.clientWidth<=1e3?f.isCollapse=!1:f.isCollapse=o.value.isCollapse},{immediate:!0}),K(()=>{f.defaultActive=u(t)}),ie(n=>{f.defaultActive=u(n),s.mittBus.emit("onMenuClick"),document.body.clientWidth<1e3&&(o.value.isCollapse=!1)}),{menuLists:C,getThemeConfig:o,...U(f)}}});function it(e,s,l,t,f,C){const o=h("SvgIcon"),u=h("SubItem"),n=h("el-sub-menu"),d=h("el-menu-item"),m=h("el-menu");return _(),x(m,{router:"","default-active":e.defaultActive,"background-color":"transparent",collapse:e.isCollapse,"unique-opened":e.getThemeConfig.isUniqueOpened,"collapse-transition":!1},{default:b(()=>[(_(!0),$(q,null,te(e.menuLists,r=>(_(),$(q,null,[r.children&&r.children.length>0?(_(),x(n,{index:r.path,key:r.path},{title:b(()=>[p(o,{name:r.meta.icon},null,8,["name"]),k("span",null,I(e.$t(r.meta.title)),1)]),default:b(()=>[p(u,{chil:r.children},null,8,["chil"])]),_:2},1032,["index"])):(_(),x(d,{index:r.path,key:r.path},Ae({default:b(()=>[p(o,{name:r.meta.icon},null,8,["name"])]),_:2},[!r.meta.isLink||r.meta.isLink&&r.meta.isIframe?{name:"title",fn:b(()=>[k("span",null,I(e.$t(r.meta.title)),1)])}:{name:"title",fn:b(()=>[k("a",{href:r.meta.isLink,target:"_blank",rel:"opener"},I(e.$t(r.meta.title)),9,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active","collapse","unique-opened"])}const lt=A(at,[["render",it]]),rt={name:"layoutAside",components:{Logo:He,Vertical:lt},setup(){const{proxy:e}=N(),s=B(),l=j({menuList:[],clientWidth:""}),t=v(()=>s.state.themeConfig.themeConfig),f=v(()=>s.state.tagsViewRoutes.isTagsViewCurrenFull),C=v(()=>{const{layout:a,isCollapse:g,menuBar:L}=s.state.themeConfig.themeConfig,T=L==="#FFFFFF"||L==="#FFF"||L==="#fff"||L==="#ffffff"?"layout-el-aside-br-color":"";if(l.clientWidth<=1e3)if(g){document.body.setAttribute("class","el-popup-parent--hidden");const Q=document.querySelector(".layout-container"),O=document.createElement("div");return O.setAttribute("class","layout-aside-mobile-mode"),Q.appendChild(O),O.addEventListener("click",o),[T,"layout-aside-mobile","layout-aside-mobile-open"]}else return o(),[T,"layout-aside-mobile","layout-aside-mobile-close"];else return a==="columns"?g?[T,"layout-aside-pc-1"]:[T,"layout-aside-pc-220"]:g?[T,"layout-aside-pc-64"]:[T,"layout-aside-pc-220"]}),o=()=>{var L;const a=document.querySelector(".layout-aside-mobile-mode");a&&((L=a.parentNode)==null||L.removeChild(a)),document.body.clientWidth<1e3&&(s.state.themeConfig.themeConfig.isCollapse=!1),document.body.setAttribute("class","")},u=v(()=>{let{layout:a,isShowLogo:g}=s.state.themeConfig.themeConfig;return g&&a==="defaults"||g&&a==="columns"}),n=()=>{if(s.state.themeConfig.themeConfig.layout==="columns")return!1;l.menuList=d(s.state.routesList.routesList)},d=a=>a.filter(g=>!g.meta.isHide).map(g=>(g=Object.assign({},g),g.children&&(g.children=d(g.children)),g)),m=a=>{l.clientWidth=a},r=a=>{let{layout:g}=s.state.themeConfig.themeConfig;if(g!=="columns")return!1;a||e.mittBus.emit("restoreDefault"),s.dispatch("routesList/setColumnsMenuHover",a)};return X(s.state.themeConfig.themeConfig,a=>{if(a.isShowLogoChange!==a.isShowLogo){if(!e.$refs.layoutAsideScrollbarRef)return!1;e.$refs.layoutAsideScrollbarRef.update()}}),X(s.state,a=>{let{layout:g,isClassicSplitMenu:L}=a.themeConfig.themeConfig;if(g==="classic"&&L)return!1;n()}),re(()=>{m(document.body.clientWidth),n(),e.mittBus.on("setSendColumnsChildren",a=>{l.menuList=a.children}),e.mittBus.on("setSendClassicChildren",a=>{let{layout:g,isClassicSplitMenu:L}=s.state.themeConfig.themeConfig;g==="classic"&&L&&(l.menuList=[],l.menuList=a.children)}),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{n()}),e.mittBus.on("layoutMobileResize",a=>{m(a.clientWidth),o()})}),{setCollapseStyle:C,setShowLogo:u,getThemeConfig:t,isTagsViewCurrenFull:f,onAsideEnterLeave:r,...U(l)}}},ct={class:"h100"};function ut(e,s,l,t,f,C){const o=h("Logo"),u=h("Vertical"),n=h("el-scrollbar"),d=h("el-aside");return pe((_(),$("div",ct,[p(d,{class:D(["layout-aside",t.setCollapseStyle])},{default:b(()=>[t.setShowLogo?(_(),x(o,{key:0})):M("",!0),p(n,{class:"flex-auto",ref:"layoutAsideScrollbarRef",onMouseenter:s[0]||(s[0]=m=>t.onAsideEnterLeave(!0)),onMouseleave:s[1]||(s[1]=m=>t.onAsideEnterLeave(!1))},{default:b(()=>[p(u,{menuList:e.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[ge,!t.isTagsViewCurrenFull]])}const $e=A(rt,[["render",ut]]);const mt={name:"layoutBreadcrumb",setup(){const{proxy:e}=N(),s=B(),l=J(),t=ce(),f=j({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),C=v(()=>s.state.themeConfig.themeConfig),o=v(()=>{m(l.path);const{layout:r,isBreadcrumb:a}=s.state.themeConfig.themeConfig;return r==="classic"||r==="transverse"?"none":a?"":"none"}),u=r=>{const{redirect:a,path:g}=r;a?t.push(a):t.push(g)},n=()=>{e.mittBus.emit("onMenuClick"),s.state.themeConfig.themeConfig.isCollapse=!s.state.themeConfig.themeConfig.isCollapse},d=r=>{r.map(a=>{f.routeSplit.map((g,L,T)=>{f.routeSplitFirst===a.path&&(f.routeSplitFirst+=`/${T[f.routeSplitIndex]}`,f.breadcrumbList.push(a),f.routeSplitIndex++,a.children&&d(a.children))})})},m=r=>{if(!s.state.themeConfig.themeConfig.isBreadcrumb)return!1;f.breadcrumbList=[s.state.routesList.routesList[0]],f.routeSplit=r.split("/"),f.routeSplit.shift(),f.routeSplitFirst=`/${f.routeSplit[0]}`,f.routeSplitIndex=1,d(s.state.routesList.routesList)};return K(()=>{m(l.path)}),ie(r=>{m(r.path)}),{onThemeConfigChange:n,isShowBreadcrumb:o,getThemeConfig:C,onBreadcrumbClick:u,...U(f)}}},dt={key:0,class:"layout-navbars-breadcrumb-span"},ft=["onClick"];function ht(e,s,l,t,f,C){const o=h("SvgIcon"),u=h("el-breadcrumb-item"),n=h("el-breadcrumb");return _(),$("div",{class:"layout-navbars-breadcrumb",style:le({display:t.isShowBreadcrumb})},[k("i",{class:D(["layout-navbars-breadcrumb-icon",t.getThemeConfig.isCollapse?"el-icon-s-unfold":"el-icon-s-fold"]),onClick:s[0]||(s[0]=(...d)=>t.onThemeConfigChange&&t.onThemeConfigChange(...d))},null,2),p(o,{class:"layout-navbars-breadcrumb-icon",name:t.getThemeConfig.isCollapse?"elementExpand":"elementFold",onClick:t.onThemeConfigChange},null,8,["name","onClick"]),p(n,{class:"layout-navbars-breadcrumb-hide"},{default:b(()=>[p(Ne,{name:"breadcrumb",mode:"out-in"},{default:b(()=>[(_(!0),$(q,null,te(e.breadcrumbList,(d,m)=>(_(),x(u,{key:d.meta.title},{default:b(()=>[m===e.breadcrumbList.length-1?(_(),$("span",dt,[t.getThemeConfig.isBreadcrumbIcon?(_(),x(o,{key:0,name:d.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):M("",!0),W(I(e.$t(d.meta.title)),1)])):(_(),$("a",{key:1,onClick:ee(r=>t.onBreadcrumbClick(d),["prevent"])},[t.getThemeConfig.isBreadcrumbIcon?(_(),x(o,{key:0,name:d.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):M("",!0),W(I(e.$t(d.meta.title)),1)],8,ft))]),_:2},1024))),128))]),_:1})]),_:1})],4)}const pt=A(mt,[["render",ht],["__scopeId","data-v-c326a3d0"]]),Fe=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],G=(()=>{const e=Fe[0],s={};for(const l of Fe)if((l==null?void 0:l[1])in document){for(const[f,C]of l.entries())s[e[f]]=C;return s}return!1})(),Re={change:G.fullscreenchange,error:G.fullscreenerror};let z={request(e=document.documentElement,s){return new Promise((l,t)=>{const f=()=>{z.off("change",f),l()};z.on("change",f);const C=e[G.requestFullscreen](s);C instanceof Promise&&C.then(f).catch(t)})},exit(){return new Promise((e,s)=>{if(!z.isFullscreen){e();return}const l=()=>{z.off("change",l),e()};z.on("change",l);const t=document[G.exitFullscreen]();t instanceof Promise&&t.then(l).catch(s)})},toggle(e,s){return z.isFullscreen?z.exit():z.request(e,s)},onchange(e){z.on("change",e)},onerror(e){z.on("error",e)},on(e,s){const l=Re[e];l&&document.addEventListener(l,s,!1)},off(e,s){const l=Re[e];l&&document.removeEventListener(l,s,!1)},raw:G};Object.defineProperties(z,{isFullscreen:{get:()=>Boolean(document[G.fullscreenElement])},element:{enumerable:!0,get:()=>{var e;return(e=document[G.fullscreenElement])!=null?e:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[G.fullscreenEnabled])}});G||(z={isEnabled:!1});const he=z;const gt=ae({name:"layoutBreadcrumbSearch",setup(){const e=Y(),{t:s}=Me(),l=B(),t=ce(),f=j({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),C=()=>{f.menuQuery="",f.isShowSearch=!0,d(),oe(()=>{e.value.focus()})},o=()=>{f.isShowSearch=!1},u=(a,g)=>{let L=a?f.tagsViewList.filter(n(a)):f.tagsViewList;g(L)},n=a=>g=>g.path.toLowerCase().indexOf(a.toLowerCase())>-1||g.meta.title.toLowerCase().indexOf(a.toLowerCase())>-1||s(g.meta.title).indexOf(a.toLowerCase())>-1,d=()=>{if(f.tagsViewList.length>0)return!1;l.state.tagsViewRoutes.tagsViewRoutes.map(a=>{a.meta.isHide||f.tagsViewList.push({...a})})};return{layoutMenuAutocompleteRef:e,openSearch:C,closeSearch:o,menuSearch:u,onHandleSelect:a=>{let{path:g,redirect:L}=a;a.meta.isLink&&!a.meta.isIframe?window.open(a.meta.isLink):L?t.push(L):t.push(g),o()},onSearchBlur:()=>{o()},...U(f)}}}),_t={class:"layout-search-dialog"};function Ct(e,s,l,t,f,C){const o=h("elementSearch"),u=h("el-icon"),n=h("SvgIcon"),d=h("el-autocomplete"),m=h("el-dialog");return _(),$("div",_t,[p(m,{modelValue:e.isShowSearch,"onUpdate:modelValue":s[1]||(s[1]=r=>e.isShowSearch=r),width:"300px","destroy-on-close":"",modal:!1,fullscreen:"","show-close":!1},{default:b(()=>[p(d,{modelValue:e.menuQuery,"onUpdate:modelValue":s[0]||(s[0]=r=>e.menuQuery=r),"fetch-suggestions":e.menuSearch,placeholder:e.$t("message.user.searchPlaceholder"),"prefix-icon":"el-icon-search",ref:"layoutMenuAutocompleteRef",onSelect:e.onHandleSelect,onBlur:e.onSearchBlur},{prefix:b(()=>[p(u,{class:"el-input__icon"},{default:b(()=>[p(o)]),_:1})]),default:b(({item:r})=>[k("div",null,[p(n,{name:r.meta.icon,class:"mr5"},null,8,["name"]),W(" "+I(e.$t(r.meta.title)),1)])]),_:1},8,["modelValue","fetch-suggestions","placeholder","onSelect","onBlur"])]),_:1},8,["modelValue"])])}const yt=A(gt,[["render",Ct],["__scopeId","data-v-3703af19"]]);const bt={name:"layoutBreadcrumbUser",components:{Search:yt},setup(){const{t:e}=Me(),{proxy:s}=N(),l=ce(),t=B(),f=Y(),C=j({isScreenfull:!1,disabledI18n:"zh-cn",disabledSize:""}),o=v(()=>t.state.themeConfig.themeConfig),u=v(()=>{let{layout:S,isClassicSplitMenu:V}=o.value,F="";return S==="defaults"||S==="classic"&&!V||S==="columns"?F=1:F=null,F}),n=()=>{if(!he.isEnabled)return ke.warning("\u6682\u4E0D\u4E0D\u652F\u6301\u5168\u5C4F"),!1;he.toggle(),he.on("change",()=>{he.isFullscreen?C.isScreenfull=!0:C.isScreenfull=!1})},d=()=>{s.mittBus.emit("openSetingsDrawer")},m=S=>{S==="logOut"?je({closeOnClickModal:!1,closeOnPressEscape:!1,title:e("message.user.logOutTitle"),message:e("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:e("message.user.logOutConfirm"),cancelButtonText:e("message.user.logOutCancel"),beforeClose:(V,F,H)=>{V==="confirm"?(F.confirmButtonLoading=!0,F.confirmButtonText=e("message.user.logOutExit"),setTimeout(()=>{H(),setTimeout(()=>{F.confirmButtonLoading=!1},300)},700)):H()}}).then(()=>{se.clear(),Ue(),l.push("/login"),setTimeout(()=>{ke.success(e("message.user.logOutSuccess"))},300)}).catch(()=>{}):S==="wareHouse"?window.open("https://gitee.com/PandaAdmin/PandaX"):l.push(S)},r=()=>{f.value.openSearch()},a=S=>{E.remove("themeConfig"),o.value.globalComponentSize=S,E.set("themeConfig",o.value),s.$ELEMENT.size=S,O(),window.location.reload()},g=S=>{E.remove("themeConfig"),o.value.globalI18n=S,E.set("themeConfig",o.value),s.$i18n.locale=S,Q(),Be.useTitle()},L=S=>{s.mittBus.emit("getI18nConfig",s.$i18n.messages[S])},T=()=>{E.remove("themeConfig"),o.value.isLockScreen=!0,o.value.lockScreenTime=0,E.set("themeConfig",o.value)},Q=()=>{switch(E.get("themeConfig").globalI18n){case"zh-cn":C.disabledI18n="zh-cn",L("zh-cn");break;case"en":C.disabledI18n="en",L("en");break;case"zh-tw":C.disabledI18n="zh-tw",L("zh-tw");break}},O=()=>{switch(E.get("themeConfig").globalComponentSize){case"":C.disabledSize="";break;case"medium":C.disabledSize="medium";break;case"small":C.disabledSize="small";break;case"mini":C.disabledSize="mini";break}};return K(()=>{E.get("themeConfig")&&(Q(),O())}),{onLayoutSetingClick:d,onHandleCommandClick:m,onScreenfullClick:n,onSearchClick:r,onLockClick:T,onComponentSizeChange:a,onLanguageChange:g,searchRef:f,layoutUserFlexNum:u,...U(C)}}},wt={class:"layout-navbars-breadcrumb-user-icon"},St=["title"],Lt={class:"layout-navbars-breadcrumb-user-icon"},kt=["title"],$t=W("\u7B80\u4F53\u4E2D\u6587"),xt=W("English"),vt=["title"],Vt=["title"];function Tt(e,s,l,t,f,C){const o=h("el-dropdown-item"),u=h("el-dropdown-menu"),n=h("el-dropdown"),d=h("elementSearch"),m=h("el-icon"),r=h("elementMonitor"),a=h("Search");return _(),$("div",{class:"layout-navbars-breadcrumb-user",style:le({flex:t.layoutUserFlexNum})},[p(n,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:t.onComponentSizeChange},{dropdown:b(()=>[p(u,null,{default:b(()=>[p(o,{command:"",disabled:e.disabledSize===""},{default:b(()=>[W(I(e.$t("message.user.dropdownDefault")),1)]),_:1},8,["disabled"]),p(o,{command:"medium",disabled:e.disabledSize==="medium"},{default:b(()=>[W(I(e.$t("message.user.dropdownMedium")),1)]),_:1},8,["disabled"]),p(o,{command:"small",disabled:e.disabledSize==="small"},{default:b(()=>[W(I(e.$t("message.user.dropdownSmall")),1)]),_:1},8,["disabled"]),p(o,{command:"mini",disabled:e.disabledSize==="mini"},{default:b(()=>[W(I(e.$t("message.user.dropdownMini")),1)]),_:1},8,["disabled"])]),_:1})]),default:b(()=>[k("div",wt,[k("i",{class:"iconfont icon-ziti",style:{"font-size":"18px"},title:e.$t("message.user.title0")},null,8,St)])]),_:1},8,["onCommand"]),p(n,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:t.onLanguageChange},{dropdown:b(()=>[p(u,null,{default:b(()=>[p(o,{command:"zh-cn",disabled:e.disabledI18n==="zh-cn"},{default:b(()=>[$t]),_:1},8,["disabled"]),p(o,{command:"en",disabled:e.disabledI18n==="en"},{default:b(()=>[xt]),_:1},8,["disabled"])]),_:1})]),default:b(()=>[k("div",Lt,[k("i",{class:D(["iconfont",e.disabledI18n==="en"?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),style:{"font-size":"18px"},title:e.$t("message.user.title1")},null,10,kt)])]),_:1},8,["onCommand"]),k("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:s[0]||(s[0]=(...g)=>t.onSearchClick&&t.onSearchClick(...g))},[p(m,{title:e.$t("message.user.title2")},{default:b(()=>[p(d)]),_:1},8,["title"])]),k("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:s[1]||(s[1]=(...g)=>t.onLockClick&&t.onLockClick(...g))},[p(m,{title:"\u9501\u5C4F"},{default:b(()=>[p(r)]),_:1})]),k("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:s[2]||(s[2]=(...g)=>t.onLayoutSetingClick&&t.onLayoutSetingClick(...g))},[k("i",{class:"icon-skin iconfont",title:e.$t("message.user.title3")},null,8,vt)]),k("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:s[3]||(s[3]=(...g)=>t.onScreenfullClick&&t.onScreenfullClick(...g))},[k("i",{class:D(["iconfont",e.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:e.isScreenfull?e.$t("message.user.title6"):e.$t("message.user.title5")},null,10,Vt)]),p(a,{ref:"searchRef"},null,512)],4)}const It=A(bt,[["render",Tt],["__scopeId","data-v-28178178"]]);const Ft=ae({name:"navMenuHorizontal",components:{SubItem:De},props:{menuList:{type:Array,default:()=>[]}},setup(e){const{proxy:s}=N(),l=J(),t=B(),f=j({defaultActive:null}),C=v(()=>e.menuList),o=r=>{const a=r.wheelDelta||-r.deltaY*40;s.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=s.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft+a/4},u=()=>{oe(()=>{let r=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!r)return!1;s.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=r.offsetLeft})},n=r=>r.filter(a=>!a.meta.isHide).map(a=>(a=Object.assign({},a),a.children&&(a.children=n(a.children)),a)),d=r=>{const a=r.split("/");let g={};return n(t.state.routesList.routesList).map((L,T)=>{L.path===`/${a[1]}`&&(L.k=T,g.item=[{...L}],g.children=[{...L}],L.children&&(g.children=L.children))}),g},m=r=>{const{path:a,meta:g}=r;if(t.state.themeConfig.themeConfig.layout==="classic")f.defaultActive=`/${a.split("/")[1]}`;else{const L=g.isDynamic?g.isDynamicPath.split("/"):a.split("/");L.length>=4&&g.isHide?f.defaultActive=L.splice(0,3).join("/"):f.defaultActive=a}};return re(()=>{m(l)}),K(()=>{u()}),ie(r=>{m(r),s.mittBus.emit("onMenuClick");let{layout:a,isClassicSplitMenu:g}=t.state.themeConfig.themeConfig;a==="classic"&&g&&s.mittBus.emit("setSendClassicChildren",d(r.path))}),{menuLists:C,onElMenuHorizontalScroll:o,...U(f)}}}),Rt={class:"el-menu-horizontal-warp"};function At(e,s,l,t,f,C){const o=h("SvgIcon"),u=h("SubItem"),n=h("el-sub-menu"),d=h("el-menu-item"),m=h("el-menu"),r=h("el-scrollbar");return _(),$("div",Rt,[p(r,{onWheel:ee(e.onElMenuHorizontalScroll,["prevent"]),ref:"elMenuHorizontalScrollRef"},{default:b(()=>[p(m,{router:"","default-active":e.defaultActive,"background-color":"transparent",mode:"horizontal"},{default:b(()=>[(_(!0),$(q,null,te(e.menuLists,a=>(_(),$(q,null,[a.children&&a.children.length>0?(_(),x(n,{index:a.path,key:a.path},{title:b(()=>[p(o,{name:a.meta.icon},null,8,["name"]),k("span",null,I(e.$t(a.meta.title)),1)]),default:b(()=>[p(u,{chil:a.children},null,8,["chil"])]),_:2},1032,["index"])):(_(),x(d,{index:a.path,key:a.path},Ae({_:2},[!a.meta.isLink||a.meta.isLink&&a.meta.isIframe?{name:"title",fn:b(()=>[p(o,{name:a.meta.icon},null,8,["name"]),W(" "+I(e.$t(a.meta.title)),1)])}:{name:"title",fn:b(()=>[k("a",{href:a.meta.isLink,target:"_blank",rel:"opener"},[p(o,{name:a.meta.icon},null,8,["name"]),W(" "+I(e.$t(a.meta.title)),1)],8,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),_:1},8,["onWheel"])])}const Mt=A(Ft,[["render",At],["__scopeId","data-v-28d6da83"]]);const Bt={name:"layoutBreadcrumbIndex",components:{Breadcrumb:pt,User:It,Logo:He,Horizontal:Mt},setup(){const{proxy:e}=N(),s=B(),l=J(),t=j({menuList:[]}),f=v(()=>s.state.themeConfig.themeConfig),C=v(()=>{let{isShowLogo:r,layout:a}=s.state.themeConfig.themeConfig;return r&&a==="classic"||r&&a==="transverse"}),o=v(()=>{let{layout:r,isClassicSplitMenu:a}=s.state.themeConfig.themeConfig;return r==="transverse"||a&&r==="classic"}),u=()=>{let{layout:r,isClassicSplitMenu:a}=s.state.themeConfig.themeConfig;if(r==="classic"&&a){t.menuList=n(d(s.state.routesList.routesList));const g=m(l.path);e.mittBus.emit("setSendClassicChildren",g)}else t.menuList=d(s.state.routesList.routesList)},n=r=>(r.map(a=>{a.children&&delete a.children}),r),d=r=>r.filter(a=>!a.meta.isHide).map(a=>(a=Object.assign({},a),a.children&&(a.children=d(a.children)),a)),m=r=>{const a=r.split("/");let g={};return d(s.state.routesList.routesList).map((L,T)=>{L.path===`/${a[1]}`&&(L.k=T,g.item=[{...L}],g.children=[{...L}],L.children&&(g.children=L.children))}),g};return K(()=>{u(),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{u()})}),ue(()=>{e.mittBus.off("getBreadcrumbIndexSetFilterRoutes")}),{getThemeConfig:f,setIsShowLogo:C,isLayoutTransverse:o,...U(t)}}},Ht={class:"layout-navbars-breadcrumb-index"};function Dt(e,s,l,t,f,C){const o=h("Logo"),u=h("Breadcrumb"),n=h("Horizontal"),d=h("User");return _(),$("div",Ht,[t.setIsShowLogo?(_(),x(o,{key:0})):M("",!0),p(u),t.isLayoutTransverse?(_(),x(n,{key:1,menuList:e.menuList},null,8,["menuList"])):M("",!0),p(d)])}const zt=A(Bt,[["render",Dt],["__scopeId","data-v-d3fd2fd6"]]);const Et=ae({name:"layoutTagsViewContextmenu",props:{dropdown:{type:Object}},setup(e,{emit:s}){const l=j({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"message.tagsView.refresh",affix:!1,icon:"elementRefreshRight"},{contextMenuClickId:1,txt:"message.tagsView.close",affix:!1,icon:"elementClose"},{contextMenuClickId:2,txt:"message.tagsView.closeOther",affix:!1,icon:"elementCircleClose"},{contextMenuClickId:3,txt:"message.tagsView.closeAll",affix:!1,icon:"elementFolderDelete"},{contextMenuClickId:4,txt:"message.tagsView.fullscreen",affix:!1,icon:"iconfont icon-fullscreen"}],item:{},arrowLeft:10}),t=v(()=>e.dropdown.x+117>document.documentElement.clientWidth?{x:document.documentElement.clientWidth-117-5,y:e.dropdown.y}:e.dropdown),f=u=>{s("currentContextmenuClick",Object.assign({},{contextMenuClickId:u},l.item))},C=u=>{l.item=u,u.meta.isAffix?l.dropdownList[1].affix=!0:l.dropdownList[1].affix=!1,o(),setTimeout(()=>{l.isShow=!0},10)},o=()=>{l.isShow=!1};return X(()=>e.dropdown,({x:u})=>{u+117>document.documentElement.clientWidth?l.arrowLeft=117-(document.documentElement.clientWidth-u):l.arrowLeft=10},{deep:!0}),K(()=>{document.body.addEventListener("click",o)}),ue(()=>{document.body.removeEventListener("click",o)}),{dropdowns:t,openContextmenu:C,closeContextmenu:o,onCurrentContextmenuClick:f,...U(l)}}}),qt={class:"el-dropdown-menu"},Ot=["onClick"];function Pt(e,s,l,t,f,C){const o=h("SvgIcon");return _(),x(Qe,{name:"el-zoom-in-center"},{default:b(()=>[pe((_(),$("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:le(`top: ${e.dropdowns.y+5}px;left: ${e.dropdowns.x}px;`),key:Math.random()},[k("ul",qt,[(_(!0),$(q,null,te(e.dropdownList,(u,n)=>(_(),$(q,null,[u.affix?M("",!0):(_(),$("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:n,onClick:d=>e.onCurrentContextmenuClick(u.contextMenuClickId)},[p(o,{name:u.icon},null,8,["name"]),k("span",null,I(e.$t(u.txt)),1)],8,Ot))],64))),256))]),k("div",{class:"el-popper__arrow",style:le({left:`${e.arrowLeft}px`})},null,4)],4)),[[ge,e.isShow]])]),_:1})}const Wt=A(Et,[["render",Pt],["__scopeId","data-v-0e56609e"]]);const Nt={name:"layoutTagsView",components:{Contextmenu:Wt},setup(){const{proxy:e}=N(),s=Y([]),l=Y(),t=Y(),f=Y(),C=B(),o=J(),u=ce(),n=j({routeActive:"",routePath:o.path,dropdown:{x:"",y:""},tagsRefsIndex:0,tagsViewList:[],sortable:"",tagsViewRoutesList:[]}),d=v(()=>C.state.themeConfig.themeConfig.tagsStyle),m=v(()=>C.state.themeConfig.themeConfig),r=c=>m.value.isShareTagsView?c.path===n.routePath:c.url?c.url===n.routeActive:c.path===n.routeActive,a=c=>{se.set("tagsViewList",c)},g=async()=>{n.routeActive=await Z(o),n.routePath=await o.meta.isDynamic?o.meta.isDynamicPath:o.path,n.tagsViewList=[],n.tagsViewRoutesList=C.state.tagsViewRoutes.tagsViewRoutes,L()},L=async()=>{se.get("tagsViewList")&&m.value.isCacheTagsView?n.tagsViewList=await se.get("tagsViewList"):(await n.tagsViewRoutesList.map(c=>{c.meta.isAffix&&!c.meta.isHide&&(c.url=Z(c),n.tagsViewList.push({...c}))}),await O(o.path,o)),Ve(m.value.isShareTagsView?n.routePath:n.routeActive)},T=async(c,i)=>{let w=i.meta.isDynamic?i.meta.isDynamicPath:c;if(n.tagsViewList.filter(R=>R.path===w&&Le(i.meta.isDynamic?R.params?R.params:null:R.query?R.query:null,i.meta.isDynamic?i!=null&&i.params?i==null?void 0:i.params:null:i!=null&&i.query?i==null?void 0:i.query:null)).length<=0){let R=n.tagsViewRoutesList.find(P=>P.path===w);if(R.meta.isAffix||R.meta.isLink&&!R.meta.isIframe)return!1;i.meta.isDynamic?R.params=i.params:R.query=i.query,R.url=Z(R),n.tagsViewList.push({...R}),a(n.tagsViewList)}},Q=(c,i)=>{let w=i.meta.isDynamic?i.meta.isDynamicPath:c;n.tagsViewList.forEach(y=>{y.path===w&&!Le(i.meta.isDynamic?y.params?y.params:null:y.query?y.query:null,i.meta.isDynamic?i!=null&&i.params?i==null?void 0:i.params:null:i!=null&&i.query?i==null?void 0:i.query:null)&&(i.meta.isDynamic?y.params=i.params:y.query=i.query,y.url=Z(y),a(n.tagsViewList))})},O=(c,i)=>{oe(async()=>{let w="";if(i&&i.meta.isDynamic){if(m.value.isShareTagsView?await Q(c,i):await T(c,i),n.tagsViewList.some(y=>y.path===i.meta.isDynamicPath))return!1;w=n.tagsViewRoutesList.find(y=>y.path===i.meta.isDynamicPath)}else{if(m.value.isShareTagsView?await Q(c,i):await T(c,i),n.tagsViewList.some(y=>y.path===c))return!1;w=n.tagsViewRoutesList.find(y=>y.path===c)}if(w.meta.isLink&&!w.meta.isIframe)return!1;i&&i.meta.isDynamic?w.params=i!=null&&i.params?i==null?void 0:i.params:o.params:w.query=i!=null&&i.query?i==null?void 0:i.query:o.query,w.url=Z(w),await n.tagsViewList.push({...w}),await a(n.tagsViewList)})},S=c=>{e.mittBus.emit("onTagsViewRefreshRouterView",c)},V=c=>{n.tagsViewList.map((i,w,y)=>{i.meta.isAffix||(m.value.isShareTagsView?i.path===c:i.url===c)&&(n.tagsViewList.splice(w,1),setTimeout(()=>{(n.tagsViewList.length===w&&m.value.isShareTagsView?n.routePath===c:n.routeActive===c)?y[y.length-1].meta.isDynamic?w!==y.length?u.push({name:y[w].name,params:y[w].params}):u.push({name:y[y.length-1].name,params:y[y.length-1].params}):w!==y.length?u.push({path:y[w].path,query:y[w].query}):u.push({path:y[y.length-1].path,query:y[y.length-1].query}):(n.tagsViewList.length!==w&&m.value.isShareTagsView?n.routePath===c:n.routeActive===c)&&(y[w].meta.isDynamic?u.push({name:y[w].name,params:y[w].params}):u.push({path:y[w].path,query:y[w].query}))},0))}),a(n.tagsViewList)},F=c=>{n.tagsViewList=[],n.tagsViewRoutesList.map(i=>{i.meta.isAffix&&!i.meta.isHide&&n.tagsViewList.push({...i})}),O(c,o)},H=()=>{n.tagsViewList=[],n.tagsViewRoutesList.map(c=>{c.meta.isAffix&&!c.meta.isHide&&(n.tagsViewList.push({...c}),u.push({path:n.tagsViewList[n.tagsViewList.length-1].path}))}),a(n.tagsViewList)},ye=async c=>{const i=n.tagsViewList.find(w=>m.value.isShareTagsView?w.path===c:w.url===c);i.meta.isDynamic?await u.push({name:i.name,params:i.params}):await u.push({name:i.name,query:i.query}),C.dispatch("tagsViewRoutes/setCurrenFullscreen",!0)},xe=(c,i)=>(se.get("tagsViewList")?se.get("tagsViewList"):n.tagsViewList).find(y=>{if(y.path===c&&Le(y.meta.isDynamic?y.params?y.params:null:y.query?y.query:null,i&&Object.keys(i||{}).length>0?i:null))return y;if(y.path===c&&Object.keys(i||{}).length<=0)return y}),ve=async c=>{const i=c.meta.isDynamic?c.params:c.query;if(!xe(c.path,i))return ke({type:"warning",message:"\u8BF7\u6B63\u786E\u8F93\u5165\u8DEF\u5F84\u53CA\u5B8C\u6574\u53C2\u6570\uFF08query\u3001params\uFF09"});const{path:w,name:y,params:R,query:P,meta:me,url:ne}=xe(c.path,i);switch(c.contextMenuClickId){case 0:me.isDynamic?await u.push({name:y,params:R}):await u.push({path:w,query:P}),S(o.fullPath);break;case 1:V(m.value.isShareTagsView?w:ne);break;case 2:me.isDynamic?await u.push({name:y,params:R}):await u.push({path:w,query:P}),F(w);break;case 3:H();break;case 4:ye(m.value.isShareTagsView?w:ne);break}},Ee=(c,i)=>{const{clientX:w,clientY:y}=i;n.dropdown.x=w,n.dropdown.y=y,t.value.openContextmenu(c)},qe=(c,i)=>{n.tagsRefsIndex=i,u.push(c)},Z=c=>{let i=c.query&&Object.keys(c.query).length>0?c.query:c.params;if(!i||Object.keys(i).length<=0)return c.path;let w="";for(let y in i)w+=i[y];return`${c.meta.isDynamic?c.meta.isDynamicPath:c.path}-${w}`},Oe=()=>{e.$refs.scrollbarRef.update()},Pe=c=>{e.$refs.scrollbarRef.$refs.wrap$.scrollLeft+=c.wheelDelta/4},We=()=>{oe(()=>{if(s.value.length<=0)return!1;let c=s.value[n.tagsRefsIndex],i=n.tagsRefsIndex,w=s.value.length,y=s.value[0],R=s.value[s.value.length-1],P=e.$refs.scrollbarRef.$refs.wrap$,me=P.scrollWidth,ne=P.offsetWidth,Te=P.scrollLeft,Se=s.value[n.tagsRefsIndex-1],Ie=s.value[n.tagsRefsIndex+1],de="",fe="";c===y?P.scrollLeft=0:c===R?P.scrollLeft=me-ne:(i===0?de=y.offsetLeft-5:de=(Se==null?void 0:Se.offsetLeft)-5,i===w?fe=R.offsetLeft+R.offsetWidth+5:fe=Ie.offsetLeft+Ie.offsetWidth+5,fe>Te+ne?P.scrollLeft=fe-ne:de<Te&&(P.scrollLeft=de)),Oe()})},Ve=c=>{oe(async()=>{let i=await n.tagsViewList;n.tagsRefsIndex=i.findIndex(w=>m.value.isShareTagsView?w.path===c:w.url===c),We()})},be=async()=>{const c=document.querySelector(".layout-navbars-tagsview-ul");if(!c)return!1;n.sortable.el&&n.sortable.destroy(),n.sortable=Xe.create(c,{animation:300,dataIdAttr:"data-url",disabled:!m.value.isSortableTagsView,onEnd:()=>{const i=[];n.sortable.toArray().map(w=>{n.tagsViewList.map(y=>{y.url===w&&i.push({...y})})}),a(i)}})},we=async()=>{await be(),Be.isMobile()&&n.sortable.el&&n.sortable.destroy()};return re(()=>{we(),window.addEventListener("resize",we),e.mittBus.on("onCurrentContextmenuClick",c=>{ve(c)}),e.mittBus.on("openOrCloseSortable",()=>{be()}),e.mittBus.on("openShareTagsView",()=>{m.value.isShareTagsView&&(u.push("/home"),n.tagsViewList=[],n.tagsViewRoutesList.map(c=>{c.meta.isAffix&&!c.meta.isHide&&(c.url=Z(c),n.tagsViewList.push({...c}))}))})}),ue(()=>{e.mittBus.off("onCurrentContextmenuClick"),e.mittBus.off("openOrCloseSortable"),e.mittBus.off("openShareTagsView"),window.removeEventListener("resize",we)}),Ge(()=>{s.value=[]}),K(()=>{g(),be()}),ie(async c=>{n.routeActive=Z(c),n.routePath=c.meta.isDynamic?c.meta.isDynamicPath:c.path,await O(c.path,c),Ve(m.value.isShareTagsView?n.routePath:n.routeActive)}),X(C.state,c=>{if(c.tagsViewRoutes.tagsViewRoutes.length===n.tagsViewRoutesList.length)return!1;g()}),{isActive:r,onContextmenu:Ee,getTagsViewRoutes:g,onTagsClick:qe,tagsRefs:s,contextmenuRef:t,scrollbarRef:l,tagsUlRef:f,onHandleScroll:Pe,getThemeConfig:m,setTagsStyle:d,refreshCurrentTagsView:S,closeCurrentTagsView:V,onCurrentContextmenuClick:ve,...U(n)}}},jt=["data-url","onContextmenu","onClick"],Ut={key:0,class:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont font14"};function Qt(e,s,l,t,f,C){const o=h("SvgIcon"),u=h("el-scrollbar"),n=h("Contextmenu");return _(),$("div",{class:D(["layout-navbars-tagsview",{"layout-navbars-tagsview-shadow":t.getThemeConfig.layout==="classic"}])},[p(u,{ref:"scrollbarRef",onWheel:ee(t.onHandleScroll,["prevent"])},{default:b(()=>[k("ul",{class:D(["layout-navbars-tagsview-ul",t.setTagsStyle]),ref:"tagsUlRef"},[(_(!0),$(q,null,te(e.tagsViewList,(d,m)=>(_(),$("li",{key:m,class:D(["layout-navbars-tagsview-ul-li",{"is-active":t.isActive(d)}]),"data-url":d.url,onContextmenu:ee(r=>t.onContextmenu(d,r),["prevent"]),onClick:r=>t.onTagsClick(d,m),ref_for:!0,ref:r=>{r&&(t.tagsRefs[m]=r)}},[t.isActive(d)?(_(),$("i",Ut)):M("",!0),!t.isActive(d)&&t.getThemeConfig.isTagsviewIcon?(_(),x(o,{key:1,name:d.meta.icon,class:"layout-navbars-tagsview-ul-li-iconfont"},null,8,["name"])):M("",!0),k("span",null,I(e.$t(d.meta.title)),1),t.isActive(d)?(_(),$(q,{key:2},[p(o,{name:"elementRefreshRight",class:"ml5 layout-navbars-tagsview-ul-li-refresh",onClick:s[0]||(s[0]=ee(r=>t.refreshCurrentTagsView(e.$route.fullPath),["stop"]))}),d.meta.isAffix?M("",!0):(_(),x(o,{key:0,name:"elementClose",class:"layout-navbars-tagsview-ul-li-icon layout-icon-active",onClick:ee(r=>t.closeCurrentTagsView(t.getThemeConfig.isShareTagsView?d.path:d.url),["stop"])},null,8,["onClick"]))],64)):M("",!0),d.meta.isAffix?M("",!0):(_(),x(o,{key:3,name:"elementClose",class:"layout-navbars-tagsview-ul-li-icon layout-icon-three",onClick:ee(r=>t.closeCurrentTagsView(t.getThemeConfig.isShareTagsView?d.path:d.url),["stop"])},null,8,["onClick"]))],42,jt))),128))],2)]),_:1},8,["onWheel"]),p(n,{dropdown:e.dropdown,ref:"contextmenuRef",onCurrentContextmenuClick:t.onCurrentContextmenuClick},null,8,["dropdown","onCurrentContextmenuClick"])],2)}const ze=A(Nt,[["render",Qt],["__scopeId","data-v-0f69e066"]]);const Gt={name:"layoutNavBars",components:{BreadcrumbIndex:zt,TagsView:ze},setup(){const e=B();return{setShowTagsView:v(()=>{let{layout:l,isTagsview:t}=e.state.themeConfig.themeConfig;return l!=="classic"&&t})}}},Xt={class:"layout-navbars-container"};function Yt(e,s,l,t,f,C){const o=h("BreadcrumbIndex"),u=h("TagsView");return _(),$("div",Xt,[p(o),t.setShowTagsView?(_(),x(u,{key:0})):M("",!0)])}const Jt=A(Gt,[["render",Yt],["__scopeId","data-v-6da8bc81"]]),Kt={name:"layoutHeader",components:{NavBarsIndex:Jt},setup(){const e=B(),s=v(()=>{let{isTagsview:t,layout:f}=e.state.themeConfig.themeConfig;return t&&f!=="classic"?"84px":"50px"}),l=v(()=>e.state.tagsViewRoutes.isTagsViewCurrenFull);return{setHeaderHeight:s,isTagsViewCurrenFull:l}}};function Zt(e,s,l,t,f,C){const o=h("NavBarsIndex"),u=h("el-header");return pe((_(),x(u,{class:"layout-header",height:t.setHeaderHeight},{default:b(()=>[p(o)]),_:1},8,["height"])),[[ge,!t.isTagsViewCurrenFull]])}const _e=A(Kt,[["render",Zt]]);const en={name:"layoutFooter",setup(){const e=j({isDelayFooter:!0});return ie(()=>{e.isDelayFooter=!1,setTimeout(()=>{e.isDelayFooter=!0},800)}),{...U(e)}}},tn={class:"layout-footer mt15"},nn={class:"layout-footer-warp"},sn={class:"mt5"};function on(e,s,l,t,f,C){return pe((_(),$("div",tn,[k("div",nn,[k("div",null,I(e.$t("message.footer.title")),1),k("div",sn,I(e.$t("message.copyright.one5")),1)])],512)),[[ge,e.isDelayFooter]])}const an=A(en,[["render",on],["__scopeId","data-v-4aa91816"]]),ln=ae({name:"layoutMain",components:{LayoutParentView:Ye,Footer:an},setup(){const{proxy:e}=N(),s=J(),l=B(),t=j({headerHeight:"",currentRouteMeta:{}}),f=v(()=>l.state.themeConfig.themeConfig),C=()=>{let{isTagsview:u}=l.state.themeConfig.themeConfig;return u?t.headerHeight="84px":t.headerHeight="50px"},o=()=>{t.currentRouteMeta=s.meta};return re(()=>{C(),o()}),X(l.state.themeConfig.themeConfig,u=>{if(t.headerHeight=u.isTagsview?"84px":"50px",u.isFixedHeaderChange!==u.isFixedHeader){if(!e.$refs.layoutScrollbarRef)return!1;e.$refs.layoutScrollbarRef.update()}}),X(()=>s.path,()=>{t.currentRouteMeta=s.meta}),{getThemeConfig:f,...U(t)}}});function rn(e,s,l,t,f,C){const o=h("LayoutParentView"),u=h("Footer"),n=h("el-scrollbar"),d=h("el-main");return _(),x(d,{class:"layout-main"},{default:b(()=>[p(n,{class:"layout-scrollbar",ref:"layoutScrollbarRef",style:le({minHeight:`calc(100vh - ${e.headerHeight})`,padding:e.currentRouteMeta.isLink&&e.currentRouteMeta.isIframe?0:"",transition:"padding 0.3s ease-in-out"})},{default:b(()=>[p(o),e.getThemeConfig.isFooter?(_(),x(u,{key:0})):M("",!0)]),_:1},8,["style"])]),_:1})}const Ce=A(ln,[["render",rn]]),cn={name:"layoutDefaults",components:{Aside:$e,Header:_e,Main:Ce},setup(){const{proxy:e}=N(),s=B(),l=J(),t=v(()=>s.state.themeConfig.themeConfig.isFixedHeader);return X(()=>l.path,()=>{e.$refs.layoutDefaultsScrollbarRef.wrap$.scrollTop=0}),{isFixedHeader:t}}};function un(e,s,l,t,f,C){const o=h("Aside"),u=h("Header"),n=h("Main"),d=h("el-scrollbar"),m=h("el-container"),r=h("el-backtop");return _(),x(m,{class:"layout-container"},{default:b(()=>[p(o),p(m,{class:D(["flex-center",{"layout-backtop":!t.isFixedHeader}])},{default:b(()=>[t.isFixedHeader?(_(),x(u,{key:0})):M("",!0),p(d,{ref:"layoutDefaultsScrollbarRef",class:D({"layout-backtop":t.isFixedHeader})},{default:b(()=>[t.isFixedHeader?M("",!0):(_(),x(u,{key:0})),p(n)]),_:1},8,["class"])]),_:1},8,["class"]),p(r,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}const mn=A(cn,[["render",un]]),dn={name:"layoutClassic",components:{Aside:$e,Header:_e,Main:Ce,TagsView:ze},setup(){const e=B();return{getThemeConfig:v(()=>e.state.themeConfig.themeConfig)}}},fn={class:"flex-center layout-backtop"};function hn(e,s,l,t,f,C){const o=h("Header"),u=h("Aside"),n=h("TagsView"),d=h("Main"),m=h("el-container"),r=h("el-backtop");return _(),x(m,{class:"layout-container flex-center"},{default:b(()=>[p(o),p(m,{class:"layout-mian-height-50"},{default:b(()=>[p(u),k("div",fn,[t.getThemeConfig.isTagsview?(_(),x(n,{key:0})):M("",!0),p(d)])]),_:1}),p(r,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}const pn=A(dn,[["render",hn]]),gn={name:"layoutTransverse",components:{Header:_e,Main:Ce}};function _n(e,s,l,t,f,C){const o=h("Header"),u=h("Main"),n=h("el-backtop"),d=h("el-container");return _(),x(d,{class:"layout-container flex-center layout-backtop"},{default:b(()=>[p(o),p(u),p(n,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}const Cn=A(gn,[["render",_n]]);const yn={name:"layoutColumnsAside",setup(){const e=Y([]),s=Y(),{proxy:l}=N(),t=B(),f=J(),C=ce(),o=j({columnsAsideList:[],liIndex:0,liOldIndex:null,liHoverIndex:null,liOldPath:null,difference:0,routeSplit:[],isNavHover:!1}),u=v(()=>t.state.themeConfig.themeConfig.columnsAsideStyle),n=v(()=>t.state.themeConfig.themeConfig.columnsAsideLayout),d=S=>{o.liIndex=S,s.value.style.top=`${e.value[S].offsetTop+o.difference}px`},m=(S,V)=>{d(V);let{path:F,redirect:H}=S;H?C.push(H):C.push(F)},r=(S,V)=>{let{path:F}=S;o.liOldPath=F,o.liOldIndex=V,o.liHoverIndex=V,l.mittBus.emit("setSendColumnsChildren",T(F)),t.dispatch("routesList/setColumnsMenuHover",!1),t.dispatch("routesList/setColumnsNavHover",!0),o.isNavHover=!0},a=async()=>{await t.dispatch("routesList/setColumnsNavHover",!1),setTimeout(()=>{const{isColumnsMenuHover:S,isColumnsNavHover:V}=t.state.routesList;!S&&!V&&l.mittBus.emit("restoreDefault")},100)},g=S=>{oe(()=>{d(S)})},L=()=>{o.columnsAsideList=Q(t.state.routesList.routesList);const S=T(f.path);if(Object.keys(S).length<=0)return!1;g(S.item[0].k),l.mittBus.emit("setSendColumnsChildren",S)},T=S=>{const V=S.split("/");let F={};return o.columnsAsideList.map((H,ye)=>{H.path===`/${V[1]}`&&(H.k=ye,F.item=[{...H}],F.children=[{...H}],H.children&&(F.children=H.children))}),F},Q=S=>S.filter(V=>!V.meta.isHide).map(V=>(V=Object.assign({},V),V.children&&(V.children=Q(V.children)),V)),O=S=>{o.routeSplit=S.split("/"),o.routeSplit.shift();const V=`/${o.routeSplit[0]}`,F=o.columnsAsideList.find(H=>H.path===V);if(!F)return!1;setTimeout(()=>{g(F.k)},0)};return X(t.state,S=>{if(S.themeConfig.themeConfig.columnsAsideStyle==="columnsRound"?o.difference=3:o.difference=0,!S.routesList.isColumnsMenuHover&&!S.routesList.isColumnsNavHover)o.liHoverIndex=null,l.mittBus.emit("setSendColumnsChildren",T(f.path));else{if(o.liHoverIndex=o.liOldIndex,!o.liOldPath)return!1;l.mittBus.emit("setSendColumnsChildren",T(o.liOldPath))}}),K(()=>{L(),l.mittBus.on("restoreDefault",()=>{o.liOldIndex=null,o.liOldPath=null})}),ue(()=>{l.mittBus.off("restoreDefault",()=>{})}),ie(S=>{O(S.path),l.mittBus.emit("setSendColumnsChildren",T(S.path))}),{columnsAsideOffsetTopRefs:e,columnsAsideActiveRef:s,onColumnsAsideDown:g,setColumnsAsideStyle:u,setColumnsAsidelayout:n,onColumnsAsideMenuClick:m,onColumnsAsideMenuMouseenter:r,onColumnsAsideMenuMouseleave:a,...U(o)}}},bn={class:"layout-columns-aside"},wn=["onClick","onMouseenter","title"],Sn={class:"columns-vertical-title font12"},Ln=["href"],kn={class:"columns-vertical-title font12"};function $n(e,s,l,t,f,C){const o=h("SvgIcon"),u=h("el-scrollbar");return _(),$("div",bn,[p(u,null,{default:b(()=>[k("ul",{onMouseleave:s[0]||(s[0]=n=>t.onColumnsAsideMenuMouseleave())},[(_(!0),$(q,null,te(e.columnsAsideList,(n,d)=>(_(),$("li",{key:d,onClick:m=>t.onColumnsAsideMenuClick(n,d),onMouseenter:m=>t.onColumnsAsideMenuMouseenter(n,d),ref_for:!0,ref:m=>{m&&(t.columnsAsideOffsetTopRefs[d]=m)},class:D({"layout-columns-active":e.liIndex===d,"layout-columns-hover":e.liHoverIndex===d}),title:e.$t(n.meta.title)},[!n.meta.isLink||n.meta.isLink&&n.meta.isIframe?(_(),$("div",{key:0,class:D(t.setColumnsAsidelayout)},[p(o,{name:n.meta.icon},null,8,["name"]),k("div",Sn,I(e.$t(n.meta.title)&&e.$t(n.meta.title).length>=4?e.$t(n.meta.title).substr(0,t.setColumnsAsidelayout==="columns-vertical"?4:3):e.$t(n.meta.title)),1)],2)):(_(),$("div",{key:1,class:D(t.setColumnsAsidelayout)},[k("a",{href:n.meta.isLink,target:"_blank"},[p(o,{name:n.meta.icon},null,8,["name"]),k("div",kn,I(e.$t(n.meta.title)&&e.$t(n.meta.title).length>=4?e.$t(n.meta.title).substr(0,t.setColumnsAsidelayout==="columns-vertical"?4:3):e.$t(n.meta.title)),1)],8,Ln)],2))],42,wn))),128)),k("div",{ref:"columnsAsideActiveRef",class:D(t.setColumnsAsideStyle)},null,2)],32)]),_:1})])}const xn=A(yn,[["render",$n],["__scopeId","data-v-2d0b32b1"]]),vn={name:"layoutColumns",components:{Aside:$e,Header:_e,Main:Ce,ColumnsAside:xn},setup(){const e=B();return{isFixedHeader:v(()=>e.state.themeConfig.themeConfig.isFixedHeader)}}},Vn={class:"layout-columns-warp"};function Tn(e,s,l,t,f,C){const o=h("ColumnsAside"),u=h("Aside"),n=h("Header"),d=h("Main"),m=h("el-scrollbar"),r=h("el-container"),a=h("el-backtop");return _(),x(r,{class:"layout-container"},{default:b(()=>[p(o),k("div",Vn,[p(u),p(r,{class:D(["flex-center layout-backtop",{"layout-backtop":!t.isFixedHeader}])},{default:b(()=>[t.isFixedHeader?(_(),x(n,{key:0})):M("",!0),p(m,{class:D({"layout-backtop":t.isFixedHeader})},{default:b(()=>[t.isFixedHeader?M("",!0):(_(),x(n,{key:0})),p(d)]),_:1},8,["class"])]),_:1},8,["class"])]),p(a,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}const In=A(vn,[["render",Tn]]),Fn={name:"layout",components:{Defaults:mn,Classic:pn,Transverse:Cn,Columns:In},setup(){const{proxy:e}=N(),s=B(),l=v(()=>s.state.themeConfig.themeConfig),t=()=>{E.get("oldLayout")||E.set("oldLayout",l.value.layout);const f=document.body.clientWidth;f<1e3?(l.value.isCollapse=!1,e.mittBus.emit("layoutMobileResize",{layout:"defaults",clientWidth:f})):e.mittBus.emit("layoutMobileResize",{layout:E.get("oldLayout")?E.get("oldLayout"):l.value.layout,clientWidth:f})};return re(()=>{t(),window.addEventListener("resize",t)}),ue(()=>{window.removeEventListener("resize",t)}),{getThemeConfig:l}}};function Rn(e,s,l,t,f,C){const o=h("Defaults"),u=h("Classic"),n=h("Transverse"),d=h("Columns");return t.getThemeConfig.layout==="defaults"?(_(),x(o,{key:0})):t.getThemeConfig.layout==="classic"?(_(),x(u,{key:1})):t.getThemeConfig.layout==="transverse"?(_(),x(n,{key:2})):t.getThemeConfig.layout==="columns"?(_(),x(d,{key:3})):M("",!0)}const Hn=A(Fn,[["render",Rn]]);export{Hn as default};
