import{_ as e,u as t,c as a,o as s,a as n,b as i,t as l,g as o,d as r,r as u,e as c,F as m,f as d,w as f,h,i as g,j as p,k as C,l as y,m as w,n as b,p as v,q as L,s as S,v as k,x,y as V,z as T,A,T as I,B as _,C as R,D as F,E as M,G as H,L as $,H as B,I as z,S as D,J as q,K as E,M as O,N as P,O as W,P as j}from"./index.1705212284905.js";import{S as N}from"./sortable.esm.1705212284905.js";import U from"./parent.1705212284905.js";const Q=""+new URL("esrilogo.1705212284905.png",import.meta.url).href,X=["src"],Y=["src"];const G=e({name:"layoutLogo",setup(){const{proxy:e}=o(),s=t(),n=a((()=>s.state.themeConfig.themeConfig)),i=a((()=>{let{isCollapse:e,layout:t}=s.state.themeConfig.themeConfig;return!e||"classic"===t||document.body.clientWidth<1e3}));return{logo:Q,setShowLogo:i,getThemeConfig:n,onThemeConfigChange:()=>{if("transverse"===s.state.themeConfig.themeConfig.layout)return!1;e.mittBus.emit("onMenuClick"),s.state.themeConfig.themeConfig.isCollapse=!s.state.themeConfig.themeConfig.isCollapse}}}},[["render",function(e,t,a,o,r,u){return o.setShowLogo?(s(),n("div",{key:0,class:"layout-logo",onClick:t[0]||(t[0]=(...e)=>o.onThemeConfigChange&&o.onThemeConfigChange(...e))},[i("img",{src:o.logo,class:"layout-logo-medium-img"},null,8,X),i("span",null,l(o.getThemeConfig.globalTitle),1)])):(s(),n("div",{key:1,class:"layout-logo-size",onClick:t[1]||(t[1]=(...e)=>o.onThemeConfigChange&&o.onThemeConfigChange(...e))},[i("img",{src:o.logo,class:"layout-logo-size-img"},null,8,Y)]))}],["__scopeId","data-v-82c23d9a"]]),J=r({name:"navMenuSubItem",props:{chil:{type:Array,default:()=>[]}},setup:e=>({chils:a((()=>e.chil))})}),K=["href"];const Z=e(J,[["render",function(e,t,a,o,r,p){const C=u("SvgIcon"),y=u("sub-item",!0),w=u("el-sub-menu"),b=u("el-menu-item");return s(!0),n(m,null,c(e.chils,(t=>(s(),n(m,null,[t.children&&t.children.length>0?(s(),d(w,{index:t.path,key:t.path},{title:f((()=>[h(C,{name:t.meta.icon},null,8,["name"]),i("span",null,l(e.$t(t.meta.title)),1)])),default:f((()=>[h(y,{chil:t.children},null,8,["chil"])])),_:2},1032,["index"])):(s(),d(b,{index:t.path,key:t.path},{default:f((()=>[!t.meta.isLink||t.meta.isLink&&t.meta.isIframe?(s(),n(m,{key:0},[h(C,{name:t.meta.icon},null,8,["name"]),i("span",null,l(e.$t(t.meta.title)),1)],64)):(s(),n("a",{key:1,href:t.meta.isLink,target:"_blank",rel:"opener"},[h(C,{name:t.meta.icon},null,8,["name"]),g(" "+l(e.$t(t.meta.title)),1)],8,K))])),_:2},1032,["index"]))],64)))),256)}]]),ee=r({name:"navMenuVertical",components:{SubItem:Z},props:{menuList:{type:Array,default:()=>[]}},setup(e){const{proxy:s}=o(),n=t(),i=p(),l=C({defaultActive:i.meta.isDynamic?i.meta.isDynamicPath:i.path,isCollapse:!1}),r=a((()=>e.menuList)),u=a((()=>n.state.themeConfig.themeConfig)),c=e=>{const{path:t,meta:a}=e,s=a.isDynamic?a.isDynamicPath.split("/"):t.split("/");return s.length>=4&&a.isHide?s.splice(0,3).join("/"):t};return y(n.state.themeConfig.themeConfig,(()=>{document.body.clientWidth<=1e3?l.isCollapse=!1:l.isCollapse=u.value.isCollapse}),{immediate:!0}),w((()=>{l.defaultActive=c(i)})),b((e=>{l.defaultActive=c(e),s.mittBus.emit("onMenuClick");document.body.clientWidth<1e3&&(u.value.isCollapse=!1)})),{menuLists:r,getThemeConfig:u,...v(l)}}});const te={class:"h100"};const ae=e({name:"layoutAside",components:{Logo:G,Vertical:e(ee,[["render",function(e,t,a,o,r,g){const p=u("SvgIcon"),C=u("SubItem"),y=u("el-sub-menu"),w=u("el-menu-item"),b=u("el-menu");return s(),d(b,{router:"","default-active":e.defaultActive,"background-color":"transparent",collapse:e.isCollapse,"unique-opened":e.getThemeConfig.isUniqueOpened,"collapse-transition":!1},{default:f((()=>[(s(!0),n(m,null,c(e.menuLists,(t=>(s(),n(m,null,[t.children&&t.children.length>0?(s(),d(y,{index:t.path,key:t.path},{title:f((()=>[h(p,{name:t.meta.icon},null,8,["name"]),i("span",null,l(e.$t(t.meta.title)),1)])),default:f((()=>[h(C,{chil:t.children},null,8,["chil"])])),_:2},1032,["index"])):(s(),d(w,{index:t.path,key:t.path},L({default:f((()=>[h(p,{name:t.meta.icon},null,8,["name"])])),_:2},[!t.meta.isLink||t.meta.isLink&&t.meta.isIframe?{name:"title",fn:f((()=>[i("span",null,l(e.$t(t.meta.title)),1)]))}:{name:"title",fn:f((()=>[i("a",{href:t.meta.isLink,target:"_blank",rel:"opener"},l(e.$t(t.meta.title)),9,["href"])]))}]),1032,["index"]))],64)))),256))])),_:1},8,["default-active","collapse","unique-opened"])}]])},setup(){const{proxy:e}=o(),s=t(),n=C({menuList:[],clientWidth:""}),i=a((()=>s.state.themeConfig.themeConfig)),l=a((()=>s.state.tagsViewRoutes.isTagsViewCurrenFull)),r=a((()=>{const{layout:e,isCollapse:t,menuBar:a}=s.state.themeConfig.themeConfig,i="#FFFFFF"===a||"#FFF"===a||"#fff"===a||"#ffffff"===a?"layout-el-aside-br-color":"";if(n.clientWidth<=1e3){if(t){document.body.setAttribute("class","el-popup-parent--hidden");const e=document.querySelector(".layout-container"),t=document.createElement("div");return t.setAttribute("class","layout-aside-mobile-mode"),e.appendChild(t),t.addEventListener("click",u),[i,"layout-aside-mobile","layout-aside-mobile-open"]}return u(),[i,"layout-aside-mobile","layout-aside-mobile-close"]}return"columns"===e?t?[i,"layout-aside-pc-1"]:[i,"layout-aside-pc-220"]:t?[i,"layout-aside-pc-64"]:[i,"layout-aside-pc-220"]})),u=()=>{var e;const t=document.querySelector(".layout-aside-mobile-mode");t&&(null==(e=t.parentNode)||e.removeChild(t));document.body.clientWidth<1e3&&(s.state.themeConfig.themeConfig.isCollapse=!1),document.body.setAttribute("class","")},c=a((()=>{let{layout:e,isShowLogo:t}=s.state.themeConfig.themeConfig;return t&&"defaults"===e||t&&"columns"===e})),m=()=>{if("columns"===s.state.themeConfig.themeConfig.layout)return!1;n.menuList=d(s.state.routesList.routesList)},d=e=>e.filter((e=>!e.meta.isHide)).map((e=>((e=Object.assign({},e)).children&&(e.children=d(e.children)),e))),f=e=>{n.clientWidth=e};return y(s.state.themeConfig.themeConfig,(t=>{if(t.isShowLogoChange!==t.isShowLogo){if(!e.$refs.layoutAsideScrollbarRef)return!1;e.$refs.layoutAsideScrollbarRef.update()}})),y(s.state,(e=>{let{layout:t,isClassicSplitMenu:a}=e.themeConfig.themeConfig;if("classic"===t&&a)return!1;m()})),S((()=>{f(document.body.clientWidth),m(),e.mittBus.on("setSendColumnsChildren",(e=>{n.menuList=e.children})),e.mittBus.on("setSendClassicChildren",(e=>{let{layout:t,isClassicSplitMenu:a}=s.state.themeConfig.themeConfig;"classic"===t&&a&&(n.menuList=[],n.menuList=e.children)})),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",(()=>{m()})),e.mittBus.on("layoutMobileResize",(e=>{f(e.clientWidth),u()}))})),{setCollapseStyle:r,setShowLogo:c,getThemeConfig:i,isTagsViewCurrenFull:l,onAsideEnterLeave:t=>{let{layout:a}=s.state.themeConfig.themeConfig;if("columns"!==a)return!1;t||e.mittBus.emit("restoreDefault"),s.dispatch("routesList/setColumnsMenuHover",t)},...v(n)}}},[["render",function(e,t,a,i,l,o){const r=u("Logo"),c=u("Vertical"),m=u("el-scrollbar"),g=u("el-aside");return k((s(),n("div",te,[h(g,{class:T(["layout-aside",i.setCollapseStyle])},{default:f((()=>[i.setShowLogo?(s(),d(r,{key:0})):V("",!0),h(m,{class:"flex-auto",ref:"layoutAsideScrollbarRef",onMouseenter:t[0]||(t[0]=e=>i.onAsideEnterLeave(!0)),onMouseleave:t[1]||(t[1]=e=>i.onAsideEnterLeave(!1))},{default:f((()=>[h(c,{menuList:e.menuList},null,8,["menuList"])])),_:1},512)])),_:1},8,["class"])],512)),[[x,!i.isTagsViewCurrenFull]])}]]),se={key:0,class:"layout-navbars-breadcrumb-span"},ne=["onClick"];const ie=e({name:"layoutBreadcrumb",setup(){const{proxy:e}=o(),s=t(),n=p(),i=A(),l=C({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),r=a((()=>s.state.themeConfig.themeConfig)),u=a((()=>{m(n.path);const{layout:e,isBreadcrumb:t}=s.state.themeConfig.themeConfig;return"classic"===e||"transverse"===e?"none":t?"":"none"})),c=e=>{e.map((e=>{l.routeSplit.map(((t,a,s)=>{l.routeSplitFirst===e.path&&(l.routeSplitFirst+=`/${s[l.routeSplitIndex]}`,l.breadcrumbList.push(e),l.routeSplitIndex++,e.children&&c(e.children))}))}))},m=e=>{if(!s.state.themeConfig.themeConfig.isBreadcrumb)return!1;l.breadcrumbList=[s.state.routesList.routesList[0]],l.routeSplit=e.split("/"),l.routeSplit.shift(),l.routeSplitFirst=`/${l.routeSplit[0]}`,l.routeSplitIndex=1,c(s.state.routesList.routesList)};return w((()=>{m(n.path)})),b((e=>{m(e.path)})),{onThemeConfigChange:()=>{e.mittBus.emit("onMenuClick"),s.state.themeConfig.themeConfig.isCollapse=!s.state.themeConfig.themeConfig.isCollapse},isShowBreadcrumb:u,getThemeConfig:r,onBreadcrumbClick:e=>{const{redirect:t,path:a}=e;t?i.push(t):i.push(a)},...v(l)}}},[["render",function(e,t,a,o,r,p){const C=u("SvgIcon"),y=u("el-breadcrumb-item"),w=u("el-breadcrumb");return s(),n("div",{class:"layout-navbars-breadcrumb",style:R({display:o.isShowBreadcrumb})},[i("i",{class:T(["layout-navbars-breadcrumb-icon",o.getThemeConfig.isCollapse?"el-icon-s-unfold":"el-icon-s-fold"]),onClick:t[0]||(t[0]=(...e)=>o.onThemeConfigChange&&o.onThemeConfigChange(...e))},null,2),h(C,{class:"layout-navbars-breadcrumb-icon",name:o.getThemeConfig.isCollapse?"elementExpand":"elementFold",onClick:o.onThemeConfigChange},null,8,["name","onClick"]),h(w,{class:"layout-navbars-breadcrumb-hide"},{default:f((()=>[h(I,{name:"breadcrumb",mode:"out-in"},{default:f((()=>[(s(!0),n(m,null,c(e.breadcrumbList,((t,a)=>(s(),d(y,{key:t.meta.title},{default:f((()=>[a===e.breadcrumbList.length-1?(s(),n("span",se,[o.getThemeConfig.isBreadcrumbIcon?(s(),d(C,{key:0,name:t.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):V("",!0),g(l(e.$t(t.meta.title)),1)])):(s(),n("a",{key:1,onClick:_((e=>o.onBreadcrumbClick(t)),["prevent"])},[o.getThemeConfig.isBreadcrumbIcon?(s(),d(C,{key:0,name:t.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):V("",!0),g(l(e.$t(t.meta.title)),1)],8,ne))])),_:2},1024)))),128))])),_:1})])),_:1})],4)}],["__scopeId","data-v-c326a3d0"]]),le=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],oe=(()=>{const e=le[0],t={};for(const a of le){if((null==a?void 0:a[1])in document){for(const[s,n]of a.entries())t[e[s]]=n;return t}}return!1})(),re={change:oe.fullscreenchange,error:oe.fullscreenerror};let ue={request:(e=document.documentElement,t)=>new Promise(((a,s)=>{const n=()=>{ue.off("change",n),a()};ue.on("change",n);const i=e[oe.requestFullscreen](t);i instanceof Promise&&i.then(n).catch(s)})),exit:()=>new Promise(((e,t)=>{if(!ue.isFullscreen)return void e();const a=()=>{ue.off("change",a),e()};ue.on("change",a);const s=document[oe.exitFullscreen]();s instanceof Promise&&s.then(a).catch(t)})),toggle:(e,t)=>ue.isFullscreen?ue.exit():ue.request(e,t),onchange(e){ue.on("change",e)},onerror(e){ue.on("error",e)},on(e,t){const a=re[e];a&&document.addEventListener(a,t,!1)},off(e,t){const a=re[e];a&&document.removeEventListener(a,t,!1)},raw:oe};Object.defineProperties(ue,{isFullscreen:{get:()=>Boolean(document[oe.fullscreenElement])},element:{enumerable:!0,get:()=>document[oe.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>Boolean(document[oe.fullscreenEnabled])}}),oe||(ue={isEnabled:!1});const ce=ue,me=r({name:"layoutBreadcrumbSearch",setup(){const e=F(),{t:a}=M(),s=t(),n=A(),i=C({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),l=()=>{i.isShowSearch=!1},o=e=>t=>t.path.toLowerCase().indexOf(e.toLowerCase())>-1||t.meta.title.toLowerCase().indexOf(e.toLowerCase())>-1||a(t.meta.title).indexOf(e.toLowerCase())>-1,r=()=>{if(i.tagsViewList.length>0)return!1;s.state.tagsViewRoutes.tagsViewRoutes.map((e=>{e.meta.isHide||i.tagsViewList.push({...e})}))};return{layoutMenuAutocompleteRef:e,openSearch:()=>{i.menuQuery="",i.isShowSearch=!0,r(),H((()=>{e.value.focus()}))},closeSearch:l,menuSearch:(e,t)=>{t(e?i.tagsViewList.filter(o(e)):i.tagsViewList)},onHandleSelect:e=>{let{path:t,redirect:a}=e;e.meta.isLink&&!e.meta.isIframe?window.open(e.meta.isLink):a?n.push(a):n.push(t),l()},onSearchBlur:()=>{l()},...v(i)}}}),de={class:"layout-search-dialog"};const fe={name:"layoutBreadcrumbUser",components:{Search:e(me,[["render",function(e,t,a,o,r,c){const m=u("elementSearch"),d=u("el-icon"),p=u("SvgIcon"),C=u("el-autocomplete"),y=u("el-dialog");return s(),n("div",de,[h(y,{modelValue:e.isShowSearch,"onUpdate:modelValue":t[1]||(t[1]=t=>e.isShowSearch=t),width:"300px","destroy-on-close":"",modal:!1,fullscreen:"","show-close":!1},{default:f((()=>[h(C,{modelValue:e.menuQuery,"onUpdate:modelValue":t[0]||(t[0]=t=>e.menuQuery=t),"fetch-suggestions":e.menuSearch,placeholder:e.$t("message.user.searchPlaceholder"),"prefix-icon":"el-icon-search",ref:"layoutMenuAutocompleteRef",onSelect:e.onHandleSelect,onBlur:e.onSearchBlur},{prefix:f((()=>[h(d,{class:"el-input__icon"},{default:f((()=>[h(m)])),_:1})])),default:f((({item:t})=>[i("div",null,[h(p,{name:t.meta.icon,class:"mr5"},null,8,["name"]),g(" "+l(e.$t(t.meta.title)),1)])])),_:1},8,["modelValue","fetch-suggestions","placeholder","onSelect","onBlur"])])),_:1},8,["modelValue"])])}],["__scopeId","data-v-3703af19"]])},setup(){const{t:e}=M(),{proxy:s}=o(),n=A(),i=t(),l=F(),r=C({isScreenfull:!1,disabledI18n:"zh-cn",disabledSize:""}),u=a((()=>i.state.themeConfig.themeConfig)),c=a((()=>{let{layout:e,isClassicSplitMenu:t}=u.value,a="";return a="defaults"===e||"classic"===e&&!t||"columns"===e?1:null,a})),m=e=>{s.mittBus.emit("getI18nConfig",s.$i18n.messages[e])},d=()=>{switch($.get("themeConfig").globalI18n){case"zh-cn":r.disabledI18n="zh-cn",m("zh-cn");break;case"en":r.disabledI18n="en",m("en");break;case"zh-tw":r.disabledI18n="zh-tw",m("zh-tw")}},f=()=>{switch($.get("themeConfig").globalComponentSize){case"":r.disabledSize="";break;case"medium":r.disabledSize="medium";break;case"small":r.disabledSize="small";break;case"mini":r.disabledSize="mini"}};return w((()=>{$.get("themeConfig")&&(d(),f())})),{onLayoutSetingClick:()=>{s.mittBus.emit("openSetingsDrawer")},onHandleCommandClick:t=>{"logOut"===t?z({closeOnClickModal:!1,closeOnPressEscape:!1,title:e("message.user.logOutTitle"),message:e("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:e("message.user.logOutConfirm"),cancelButtonText:e("message.user.logOutCancel"),beforeClose:(t,a,s)=>{"confirm"===t?(a.confirmButtonLoading=!0,a.confirmButtonText=e("message.user.logOutExit"),setTimeout((()=>{s(),setTimeout((()=>{a.confirmButtonLoading=!1}),300)}),700)):s()}}).then((()=>{D.clear(),q(),n.push("/login"),setTimeout((()=>{B.success(e("message.user.logOutSuccess"))}),300)})).catch((()=>{})):"wareHouse"===t?window.open("https://gitee.com/PandaAdmin/PandaX"):n.push(t)},onScreenfullClick:()=>{if(!ce.isEnabled)return B.warning("暂不不支持全屏"),!1;ce.toggle(),ce.on("change",(()=>{ce.isFullscreen?r.isScreenfull=!0:r.isScreenfull=!1}))},onSearchClick:()=>{l.value.openSearch()},onLockClick:()=>{$.remove("themeConfig"),u.value.isLockScreen=!0,u.value.lockScreenTime=0,$.set("themeConfig",u.value)},onComponentSizeChange:e=>{$.remove("themeConfig"),u.value.globalComponentSize=e,$.set("themeConfig",u.value),s.$ELEMENT.size=e,f(),window.location.reload()},onLanguageChange:e=>{$.remove("themeConfig"),u.value.globalI18n=e,$.set("themeConfig",u.value),s.$i18n.locale=e,d(),E.useTitle()},searchRef:l,layoutUserFlexNum:c,...v(r)}}},he={class:"layout-navbars-breadcrumb-user-icon"},ge=["title"],pe={class:"layout-navbars-breadcrumb-user-icon"},Ce=["title"],ye=g("简体中文"),we=g("English"),be=["title"],ve=["title"];const Le=e(fe,[["render",function(e,t,a,o,r,c){const m=u("el-dropdown-item"),d=u("el-dropdown-menu"),p=u("el-dropdown"),C=u("elementSearch"),y=u("el-icon"),w=u("elementMonitor"),b=u("Search");return s(),n("div",{class:"layout-navbars-breadcrumb-user",style:R({flex:o.layoutUserFlexNum})},[h(p,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:o.onComponentSizeChange},{dropdown:f((()=>[h(d,null,{default:f((()=>[h(m,{command:"",disabled:""===e.disabledSize},{default:f((()=>[g(l(e.$t("message.user.dropdownDefault")),1)])),_:1},8,["disabled"]),h(m,{command:"medium",disabled:"medium"===e.disabledSize},{default:f((()=>[g(l(e.$t("message.user.dropdownMedium")),1)])),_:1},8,["disabled"]),h(m,{command:"small",disabled:"small"===e.disabledSize},{default:f((()=>[g(l(e.$t("message.user.dropdownSmall")),1)])),_:1},8,["disabled"]),h(m,{command:"mini",disabled:"mini"===e.disabledSize},{default:f((()=>[g(l(e.$t("message.user.dropdownMini")),1)])),_:1},8,["disabled"])])),_:1})])),default:f((()=>[i("div",he,[i("i",{class:"iconfont icon-ziti",style:{"font-size":"18px"},title:e.$t("message.user.title0")},null,8,ge)])])),_:1},8,["onCommand"]),h(p,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:o.onLanguageChange},{dropdown:f((()=>[h(d,null,{default:f((()=>[h(m,{command:"zh-cn",disabled:"zh-cn"===e.disabledI18n},{default:f((()=>[ye])),_:1},8,["disabled"]),h(m,{command:"en",disabled:"en"===e.disabledI18n},{default:f((()=>[we])),_:1},8,["disabled"])])),_:1})])),default:f((()=>[i("div",pe,[i("i",{class:T(["iconfont","en"===e.disabledI18n?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),style:{"font-size":"18px"},title:e.$t("message.user.title1")},null,10,Ce)])])),_:1},8,["onCommand"]),i("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:t[0]||(t[0]=(...e)=>o.onSearchClick&&o.onSearchClick(...e))},[h(y,{title:e.$t("message.user.title2")},{default:f((()=>[h(C)])),_:1},8,["title"])]),i("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:t[1]||(t[1]=(...e)=>o.onLockClick&&o.onLockClick(...e))},[h(y,{title:"锁屏"},{default:f((()=>[h(w)])),_:1})]),i("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:t[2]||(t[2]=(...e)=>o.onLayoutSetingClick&&o.onLayoutSetingClick(...e))},[i("i",{class:"icon-skin iconfont",title:e.$t("message.user.title3")},null,8,be)]),i("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:t[3]||(t[3]=(...e)=>o.onScreenfullClick&&o.onScreenfullClick(...e))},[i("i",{class:T(["iconfont",e.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:e.isScreenfull?e.$t("message.user.title6"):e.$t("message.user.title5")},null,10,ve)]),h(b,{ref:"searchRef"},null,512)],4)}],["__scopeId","data-v-28178178"]]),Se=r({name:"navMenuHorizontal",components:{SubItem:Z},props:{menuList:{type:Array,default:()=>[]}},setup(e){const{proxy:s}=o(),n=p(),i=t(),l=C({defaultActive:null}),r=a((()=>e.menuList)),u=e=>e.filter((e=>!e.meta.isHide)).map((e=>((e=Object.assign({},e)).children&&(e.children=u(e.children)),e))),c=e=>{const{path:t,meta:a}=e;if("classic"===i.state.themeConfig.themeConfig.layout)l.defaultActive=`/${t.split("/")[1]}`;else{const e=a.isDynamic?a.isDynamicPath.split("/"):t.split("/");e.length>=4&&a.isHide?l.defaultActive=e.splice(0,3).join("/"):l.defaultActive=t}};return S((()=>{c(n)})),w((()=>{H((()=>{let e=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!e)return!1;s.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=e.offsetLeft}))})),b((e=>{c(e),s.mittBus.emit("onMenuClick");let{layout:t,isClassicSplitMenu:a}=i.state.themeConfig.themeConfig;"classic"===t&&a&&s.mittBus.emit("setSendClassicChildren",(e=>{const t=e.split("/");let a={};return u(i.state.routesList.routesList).map(((e,s)=>{e.path===`/${t[1]}`&&(e.k=s,a.item=[{...e}],a.children=[{...e}],e.children&&(a.children=e.children))})),a})(e.path))})),{menuLists:r,onElMenuHorizontalScroll:e=>{const t=e.wheelDelta||40*-e.deltaY;s.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=s.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft+t/4},...v(l)}}}),ke={class:"el-menu-horizontal-warp"};const xe={class:"layout-navbars-breadcrumb-index"};const Ve=e({name:"layoutBreadcrumbIndex",components:{Breadcrumb:ie,User:Le,Logo:G,Horizontal:e(Se,[["render",function(e,t,a,o,r,p){const C=u("SvgIcon"),y=u("SubItem"),w=u("el-sub-menu"),b=u("el-menu-item"),v=u("el-menu"),S=u("el-scrollbar");return s(),n("div",ke,[h(S,{onWheel:_(e.onElMenuHorizontalScroll,["prevent"]),ref:"elMenuHorizontalScrollRef"},{default:f((()=>[h(v,{router:"","default-active":e.defaultActive,"background-color":"transparent",mode:"horizontal"},{default:f((()=>[(s(!0),n(m,null,c(e.menuLists,(t=>(s(),n(m,null,[t.children&&t.children.length>0?(s(),d(w,{index:t.path,key:t.path},{title:f((()=>[h(C,{name:t.meta.icon},null,8,["name"]),i("span",null,l(e.$t(t.meta.title)),1)])),default:f((()=>[h(y,{chil:t.children},null,8,["chil"])])),_:2},1032,["index"])):(s(),d(b,{index:t.path,key:t.path},L({_:2},[!t.meta.isLink||t.meta.isLink&&t.meta.isIframe?{name:"title",fn:f((()=>[h(C,{name:t.meta.icon},null,8,["name"]),g(" "+l(e.$t(t.meta.title)),1)]))}:{name:"title",fn:f((()=>[i("a",{href:t.meta.isLink,target:"_blank",rel:"opener"},[h(C,{name:t.meta.icon},null,8,["name"]),g(" "+l(e.$t(t.meta.title)),1)],8,["href"])]))}]),1032,["index"]))],64)))),256))])),_:1},8,["default-active"])])),_:1},8,["onWheel"])])}],["__scopeId","data-v-28d6da83"]])},setup(){const{proxy:e}=o(),s=t(),n=p(),i=C({menuList:[]}),l=a((()=>s.state.themeConfig.themeConfig)),r=a((()=>{let{isShowLogo:e,layout:t}=s.state.themeConfig.themeConfig;return e&&"classic"===t||e&&"transverse"===t})),u=a((()=>{let{layout:e,isClassicSplitMenu:t}=s.state.themeConfig.themeConfig;return"transverse"===e||t&&"classic"===e})),c=()=>{let{layout:t,isClassicSplitMenu:a}=s.state.themeConfig.themeConfig;if("classic"===t&&a){i.menuList=m(d(s.state.routesList.routesList));const t=f(n.path);e.mittBus.emit("setSendClassicChildren",t)}else i.menuList=d(s.state.routesList.routesList)},m=e=>(e.map((e=>{e.children&&delete e.children})),e),d=e=>e.filter((e=>!e.meta.isHide)).map((e=>((e=Object.assign({},e)).children&&(e.children=d(e.children)),e))),f=e=>{const t=e.split("/");let a={};return d(s.state.routesList.routesList).map(((e,s)=>{e.path===`/${t[1]}`&&(e.k=s,a.item=[{...e}],a.children=[{...e}],e.children&&(a.children=e.children))})),a};return w((()=>{c(),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",(()=>{c()}))})),O((()=>{e.mittBus.off("getBreadcrumbIndexSetFilterRoutes")})),{getThemeConfig:l,setIsShowLogo:r,isLayoutTransverse:u,...v(i)}}},[["render",function(e,t,a,i,l,o){const r=u("Logo"),c=u("Breadcrumb"),m=u("Horizontal"),f=u("User");return s(),n("div",xe,[i.setIsShowLogo?(s(),d(r,{key:0})):V("",!0),h(c),i.isLayoutTransverse?(s(),d(m,{key:1,menuList:e.menuList},null,8,["menuList"])):V("",!0),h(f)])}],["__scopeId","data-v-d3fd2fd6"]]),Te=r({name:"layoutTagsViewContextmenu",props:{dropdown:{type:Object}},setup(e,{emit:t}){const s=C({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"message.tagsView.refresh",affix:!1,icon:"elementRefreshRight"},{contextMenuClickId:1,txt:"message.tagsView.close",affix:!1,icon:"elementClose"},{contextMenuClickId:2,txt:"message.tagsView.closeOther",affix:!1,icon:"elementCircleClose"},{contextMenuClickId:3,txt:"message.tagsView.closeAll",affix:!1,icon:"elementFolderDelete"},{contextMenuClickId:4,txt:"message.tagsView.fullscreen",affix:!1,icon:"iconfont icon-fullscreen"}],item:{},arrowLeft:10}),n=a((()=>e.dropdown.x+117>document.documentElement.clientWidth?{x:document.documentElement.clientWidth-117-5,y:e.dropdown.y}:e.dropdown)),i=()=>{s.isShow=!1};return y((()=>e.dropdown),(({x:e})=>{e+117>document.documentElement.clientWidth?s.arrowLeft=117-(document.documentElement.clientWidth-e):s.arrowLeft=10}),{deep:!0}),w((()=>{document.body.addEventListener("click",i)})),O((()=>{document.body.removeEventListener("click",i)})),{dropdowns:n,openContextmenu:e=>{s.item=e,e.meta.isAffix?s.dropdownList[1].affix=!0:s.dropdownList[1].affix=!1,i(),setTimeout((()=>{s.isShow=!0}),10)},closeContextmenu:i,onCurrentContextmenuClick:e=>{t("currentContextmenuClick",Object.assign({},{contextMenuClickId:e},s.item))},...v(s)}}}),Ae={class:"el-dropdown-menu"},Ie=["onClick"];const _e=["data-url","onContextmenu","onClick"],Re={key:0,class:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont font14"};const Fe=e({name:"layoutTagsView",components:{Contextmenu:e(Te,[["render",function(e,t,a,o,r,g){const p=u("SvgIcon");return s(),d(P,{name:"el-zoom-in-center"},{default:f((()=>[k((s(),n("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:R(`top: ${e.dropdowns.y+5}px;left: ${e.dropdowns.x}px;`),key:Math.random()},[i("ul",Ae,[(s(!0),n(m,null,c(e.dropdownList,((t,a)=>(s(),n(m,null,[t.affix?V("",!0):(s(),n("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:a,onClick:a=>e.onCurrentContextmenuClick(t.contextMenuClickId)},[h(p,{name:t.icon},null,8,["name"]),i("span",null,l(e.$t(t.txt)),1)],8,Ie))],64)))),256))]),i("div",{class:"el-popper__arrow",style:R({left:`${e.arrowLeft}px`})},null,4)],4)),[[x,e.isShow]])])),_:1})}],["__scopeId","data-v-0e56609e"]])},setup(){const{proxy:e}=o(),s=F([]),n=F(),i=F(),l=F(),r=t(),u=p(),c=A(),m=C({routeActive:"",routePath:u.path,dropdown:{x:"",y:""},tagsRefsIndex:0,tagsViewList:[],sortable:"",tagsViewRoutesList:[]}),d=a((()=>r.state.themeConfig.themeConfig.tagsStyle)),f=a((()=>r.state.themeConfig.themeConfig)),h=e=>{D.set("tagsViewList",e)},g=async()=>{m.routeActive=await M(u),m.routePath=await u.meta.isDynamic?u.meta.isDynamicPath:u.path,m.tagsViewList=[],m.tagsViewRoutesList=r.state.tagsViewRoutes.tagsViewRoutes,L()},L=async()=>{D.get("tagsViewList")&&f.value.isCacheTagsView?m.tagsViewList=await D.get("tagsViewList"):(await m.tagsViewRoutesList.map((e=>{e.meta.isAffix&&!e.meta.isHide&&(e.url=M(e),m.tagsViewList.push({...e}))})),await V(u.path,u)),z(f.value.isShareTagsView?m.routePath:m.routeActive)},k=async(e,t)=>{let a=t.meta.isDynamic?t.meta.isDynamicPath:e;if(m.tagsViewList.filter((e=>e.path===a&&j(t.meta.isDynamic?e.params?e.params:null:e.query?e.query:null,t.meta.isDynamic?(null==t?void 0:t.params)?null==t?void 0:t.params:null:(null==t?void 0:t.query)?null==t?void 0:t.query:null))).length<=0){let e=m.tagsViewRoutesList.find((e=>e.path===a));if(e.meta.isAffix)return!1;if(e.meta.isLink&&!e.meta.isIframe)return!1;t.meta.isDynamic?e.params=t.params:e.query=t.query,e.url=M(e),m.tagsViewList.push({...e}),h(m.tagsViewList)}},x=(e,t)=>{let a=t.meta.isDynamic?t.meta.isDynamicPath:e;m.tagsViewList.forEach((e=>{e.path!==a||j(t.meta.isDynamic?e.params?e.params:null:e.query?e.query:null,t.meta.isDynamic?(null==t?void 0:t.params)?null==t?void 0:t.params:null:(null==t?void 0:t.query)?null==t?void 0:t.query:null)||(t.meta.isDynamic?e.params=t.params:e.query=t.query,e.url=M(e),h(m.tagsViewList))}))},V=(e,t)=>{H((async()=>{let a="";if(t&&t.meta.isDynamic){if(f.value.isShareTagsView?await x(e,t):await k(e,t),m.tagsViewList.some((e=>e.path===t.meta.isDynamicPath)))return!1;a=m.tagsViewRoutesList.find((e=>e.path===t.meta.isDynamicPath))}else{if(f.value.isShareTagsView?await x(e,t):await k(e,t),m.tagsViewList.some((t=>t.path===e)))return!1;a=m.tagsViewRoutesList.find((t=>t.path===e))}if(a.meta.isLink&&!a.meta.isIframe)return!1;t&&t.meta.isDynamic?a.params=(null==t?void 0:t.params)?null==t?void 0:t.params:u.params:a.query=(null==t?void 0:t.query)?null==t?void 0:t.query:u.query,a.url=M(a),await m.tagsViewList.push({...a}),await h(m.tagsViewList)}))},T=t=>{e.mittBus.emit("onTagsViewRefreshRouterView",t)},I=e=>{m.tagsViewList.map(((t,a,s)=>{t.meta.isAffix||(f.value.isShareTagsView?t.path===e:t.url===e)&&(m.tagsViewList.splice(a,1),setTimeout((()=>{(m.tagsViewList.length===a&&f.value.isShareTagsView?m.routePath===e:m.routeActive===e)?s[s.length-1].meta.isDynamic?a!==s.length?c.push({name:s[a].name,params:s[a].params}):c.push({name:s[s.length-1].name,params:s[s.length-1].params}):a!==s.length?c.push({path:s[a].path,query:s[a].query}):c.push({path:s[s.length-1].path,query:s[s.length-1].query}):(m.tagsViewList.length!==a&&f.value.isShareTagsView?m.routePath===e:m.routeActive===e)&&(s[a].meta.isDynamic?c.push({name:s[a].name,params:s[a].params}):c.push({path:s[a].path,query:s[a].query}))}),0))})),h(m.tagsViewList)},_=(e,t)=>(D.get("tagsViewList")?D.get("tagsViewList"):m.tagsViewList).find((a=>a.path===e&&j(a.meta.isDynamic?a.params?a.params:null:a.query?a.query:null,t&&Object.keys(t||{}).length>0?t:null)||a.path===e&&Object.keys(t||{}).length<=0?a:void 0)),R=async e=>{const t=e.meta.isDynamic?e.params:e.query;if(!_(e.path,t))return B({type:"warning",message:"请正确输入路径及完整参数（query、params）"});const{path:a,name:s,params:n,query:i,meta:l,url:o}=_(e.path,t);switch(e.contextMenuClickId){case 0:l.isDynamic?await c.push({name:s,params:n}):await c.push({path:a,query:i}),T(u.fullPath);break;case 1:I(f.value.isShareTagsView?a:o);break;case 2:l.isDynamic?await c.push({name:s,params:n}):await c.push({path:a,query:i}),(e=>{m.tagsViewList=[],m.tagsViewRoutesList.map((e=>{e.meta.isAffix&&!e.meta.isHide&&m.tagsViewList.push({...e})})),V(e,u)})(a);break;case 3:m.tagsViewList=[],m.tagsViewRoutesList.map((e=>{e.meta.isAffix&&!e.meta.isHide&&(m.tagsViewList.push({...e}),c.push({path:m.tagsViewList[m.tagsViewList.length-1].path}))})),h(m.tagsViewList);break;case 4:(async e=>{const t=m.tagsViewList.find((t=>f.value.isShareTagsView?t.path===e:t.url===e));t.meta.isDynamic?await c.push({name:t.name,params:t.params}):await c.push({name:t.name,query:t.query}),r.dispatch("tagsViewRoutes/setCurrenFullscreen",!0)})(f.value.isShareTagsView?a:o)}},M=e=>{let t=e.query&&Object.keys(e.query).length>0?e.query:e.params;if(!t||Object.keys(t).length<=0)return e.path;let a="";for(let s in t)a+=t[s];return`${e.meta.isDynamic?e.meta.isDynamicPath:e.path}-${a}`},$=()=>{H((()=>{if(s.value.length<=0)return!1;let t=s.value[m.tagsRefsIndex],a=m.tagsRefsIndex,n=s.value.length,i=s.value[0],l=s.value[s.value.length-1],o=e.$refs.scrollbarRef.$refs.wrap$,r=o.scrollWidth,u=o.offsetWidth,c=o.scrollLeft,d=s.value[m.tagsRefsIndex-1],f=s.value[m.tagsRefsIndex+1],h="",g="";t===i?o.scrollLeft=0:t===l?o.scrollLeft=r-u:(h=0===a?i.offsetLeft-5:(null==d?void 0:d.offsetLeft)-5,g=a===n?l.offsetLeft+l.offsetWidth+5:f.offsetLeft+f.offsetWidth+5,g>c+u?o.scrollLeft=g-u:h<c&&(o.scrollLeft=h)),e.$refs.scrollbarRef.update()}))},z=e=>{H((async()=>{let t=await m.tagsViewList;m.tagsRefsIndex=t.findIndex((t=>f.value.isShareTagsView?t.path===e:t.url===e)),$()}))},q=async()=>{const e=document.querySelector(".layout-navbars-tagsview-ul");if(!e)return!1;m.sortable.el&&m.sortable.destroy(),m.sortable=N.create(e,{animation:300,dataIdAttr:"data-url",disabled:!f.value.isSortableTagsView,onEnd:()=>{const e=[];m.sortable.toArray().map((t=>{m.tagsViewList.map((a=>{a.url===t&&e.push({...a})}))})),h(e)}})},P=async()=>{await q(),E.isMobile()&&m.sortable.el&&m.sortable.destroy()};return S((()=>{P(),window.addEventListener("resize",P),e.mittBus.on("onCurrentContextmenuClick",(e=>{R(e)})),e.mittBus.on("openOrCloseSortable",(()=>{q()})),e.mittBus.on("openShareTagsView",(()=>{f.value.isShareTagsView&&(c.push("/home"),m.tagsViewList=[],m.tagsViewRoutesList.map((e=>{e.meta.isAffix&&!e.meta.isHide&&(e.url=M(e),m.tagsViewList.push({...e}))})))}))})),O((()=>{e.mittBus.off("onCurrentContextmenuClick"),e.mittBus.off("openOrCloseSortable"),e.mittBus.off("openShareTagsView"),window.removeEventListener("resize",P)})),W((()=>{s.value=[]})),w((()=>{g(),q()})),b((async e=>{m.routeActive=M(e),m.routePath=e.meta.isDynamic?e.meta.isDynamicPath:e.path,await V(e.path,e),z(f.value.isShareTagsView?m.routePath:m.routeActive)})),y(r.state,(e=>{if(e.tagsViewRoutes.tagsViewRoutes.length===m.tagsViewRoutesList.length)return!1;g()})),{isActive:e=>f.value.isShareTagsView?e.path===m.routePath:e.url?e.url===m.routeActive:e.path===m.routeActive,onContextmenu:(e,t)=>{const{clientX:a,clientY:s}=t;m.dropdown.x=a,m.dropdown.y=s,i.value.openContextmenu(e)},getTagsViewRoutes:g,onTagsClick:(e,t)=>{m.tagsRefsIndex=t,c.push(e)},tagsRefs:s,contextmenuRef:i,scrollbarRef:n,tagsUlRef:l,onHandleScroll:t=>{e.$refs.scrollbarRef.$refs.wrap$.scrollLeft+=t.wheelDelta/4},getThemeConfig:f,setTagsStyle:d,refreshCurrentTagsView:T,closeCurrentTagsView:I,onCurrentContextmenuClick:R,...v(m)}}},[["render",function(e,t,a,o,r,g){const p=u("SvgIcon"),C=u("el-scrollbar"),y=u("Contextmenu");return s(),n("div",{class:T(["layout-navbars-tagsview",{"layout-navbars-tagsview-shadow":"classic"===o.getThemeConfig.layout}])},[h(C,{ref:"scrollbarRef",onWheel:_(o.onHandleScroll,["prevent"])},{default:f((()=>[i("ul",{class:T(["layout-navbars-tagsview-ul",o.setTagsStyle]),ref:"tagsUlRef"},[(s(!0),n(m,null,c(e.tagsViewList,((a,r)=>(s(),n("li",{key:r,class:T(["layout-navbars-tagsview-ul-li",{"is-active":o.isActive(a)}]),"data-url":a.url,onContextmenu:_((e=>o.onContextmenu(a,e)),["prevent"]),onClick:e=>o.onTagsClick(a,r),ref_for:!0,ref:e=>{e&&(o.tagsRefs[r]=e)}},[o.isActive(a)?(s(),n("i",Re)):V("",!0),!o.isActive(a)&&o.getThemeConfig.isTagsviewIcon?(s(),d(p,{key:1,name:a.meta.icon,class:"layout-navbars-tagsview-ul-li-iconfont"},null,8,["name"])):V("",!0),i("span",null,l(e.$t(a.meta.title)),1),o.isActive(a)?(s(),n(m,{key:2},[h(p,{name:"elementRefreshRight",class:"ml5 layout-navbars-tagsview-ul-li-refresh",onClick:t[0]||(t[0]=_((t=>o.refreshCurrentTagsView(e.$route.fullPath)),["stop"]))}),a.meta.isAffix?V("",!0):(s(),d(p,{key:0,name:"elementClose",class:"layout-navbars-tagsview-ul-li-icon layout-icon-active",onClick:_((e=>o.closeCurrentTagsView(o.getThemeConfig.isShareTagsView?a.path:a.url)),["stop"])},null,8,["onClick"]))],64)):V("",!0),a.meta.isAffix?V("",!0):(s(),d(p,{key:3,name:"elementClose",class:"layout-navbars-tagsview-ul-li-icon layout-icon-three",onClick:_((e=>o.closeCurrentTagsView(o.getThemeConfig.isShareTagsView?a.path:a.url)),["stop"])},null,8,["onClick"]))],42,_e)))),128))],2)])),_:1},8,["onWheel"]),h(y,{dropdown:e.dropdown,ref:"contextmenuRef",onCurrentContextmenuClick:o.onCurrentContextmenuClick},null,8,["dropdown","onCurrentContextmenuClick"])],2)}],["__scopeId","data-v-0f69e066"]]),Me={class:"layout-navbars-container"};const He=e({name:"layoutHeader",components:{NavBarsIndex:e({name:"layoutNavBars",components:{BreadcrumbIndex:Ve,TagsView:Fe},setup(){const e=t();return{setShowTagsView:a((()=>{let{layout:t,isTagsview:a}=e.state.themeConfig.themeConfig;return"classic"!==t&&a}))}}},[["render",function(e,t,a,i,l,o){const r=u("BreadcrumbIndex"),c=u("TagsView");return s(),n("div",Me,[h(r),i.setShowTagsView?(s(),d(c,{key:0})):V("",!0)])}],["__scopeId","data-v-6da8bc81"]])},setup(){const e=t();return{setHeaderHeight:a((()=>{let{isTagsview:t,layout:a}=e.state.themeConfig.themeConfig;return t&&"classic"!==a?"84px":"50px"})),isTagsViewCurrenFull:a((()=>e.state.tagsViewRoutes.isTagsViewCurrenFull))}}},[["render",function(e,t,a,n,i,l){const o=u("NavBarsIndex"),r=u("el-header");return k((s(),d(r,{class:"layout-header",height:n.setHeaderHeight},{default:f((()=>[h(o)])),_:1},8,["height"])),[[x,!n.isTagsViewCurrenFull]])}]]),$e={class:"layout-footer mt15"},Be={class:"layout-footer-warp"},ze={class:"mt5"};const De=e(r({name:"layoutMain",components:{LayoutParentView:U,Footer:e({name:"layoutFooter",setup(){const e=C({isDelayFooter:!0});return b((()=>{e.isDelayFooter=!1,setTimeout((()=>{e.isDelayFooter=!0}),800)})),{...v(e)}}},[["render",function(e,t,a,o,r,u){return k((s(),n("div",$e,[i("div",Be,[i("div",null,l(e.$t("message.footer.title")),1),i("div",ze,l(e.$t("message.copyright.one5")),1)])],512)),[[x,e.isDelayFooter]])}],["__scopeId","data-v-4aa91816"]])},setup(){const{proxy:e}=o(),s=p(),n=t(),i=C({headerHeight:"",currentRouteMeta:{}}),l=a((()=>n.state.themeConfig.themeConfig));return S((()=>{(()=>{let{isTagsview:e}=n.state.themeConfig.themeConfig;i.headerHeight=e?"84px":"50px"})(),i.currentRouteMeta=s.meta})),y(n.state.themeConfig.themeConfig,(t=>{if(i.headerHeight=t.isTagsview?"84px":"50px",t.isFixedHeaderChange!==t.isFixedHeader){if(!e.$refs.layoutScrollbarRef)return!1;e.$refs.layoutScrollbarRef.update()}})),y((()=>s.path),(()=>{i.currentRouteMeta=s.meta})),{getThemeConfig:l,...v(i)}}}),[["render",function(e,t,a,n,i,l){const o=u("LayoutParentView"),r=u("Footer"),c=u("el-scrollbar"),m=u("el-main");return s(),d(m,{class:"layout-main"},{default:f((()=>[h(c,{class:"layout-scrollbar",ref:"layoutScrollbarRef",style:R({minHeight:`calc(100vh - ${e.headerHeight})`,padding:e.currentRouteMeta.isLink&&e.currentRouteMeta.isIframe?0:"",transition:"padding 0.3s ease-in-out"})},{default:f((()=>[h(o),e.getThemeConfig.isFooter?(s(),d(r,{key:0})):V("",!0)])),_:1},8,["style"])])),_:1})}]]);const qe={class:"flex-center layout-backtop"};const Ee={class:"layout-columns-aside"},Oe=["onClick","onMouseenter","title"],Pe={class:"columns-vertical-title font12"},We=["href"],je={class:"columns-vertical-title font12"};const Ne={class:"layout-columns-warp"};const Ue=e({name:"layout",components:{Defaults:e({name:"layoutDefaults",components:{Aside:ae,Header:He,Main:De},setup(){const{proxy:e}=o(),s=t(),n=p(),i=a((()=>s.state.themeConfig.themeConfig.isFixedHeader));return y((()=>n.path),(()=>{e.$refs.layoutDefaultsScrollbarRef.wrap$.scrollTop=0})),{isFixedHeader:i}}},[["render",function(e,t,a,n,i,l){const o=u("Aside"),r=u("Header"),c=u("Main"),m=u("el-scrollbar"),g=u("el-container"),p=u("el-backtop");return s(),d(g,{class:"layout-container"},{default:f((()=>[h(o),h(g,{class:T(["flex-center",{"layout-backtop":!n.isFixedHeader}])},{default:f((()=>[n.isFixedHeader?(s(),d(r,{key:0})):V("",!0),h(m,{ref:"layoutDefaultsScrollbarRef",class:T({"layout-backtop":n.isFixedHeader})},{default:f((()=>[n.isFixedHeader?V("",!0):(s(),d(r,{key:0})),h(c)])),_:1},8,["class"])])),_:1},8,["class"]),h(p,{target:".layout-backtop .el-scrollbar__wrap"})])),_:1})}]]),Classic:e({name:"layoutClassic",components:{Aside:ae,Header:He,Main:De,TagsView:Fe},setup(){const e=t();return{getThemeConfig:a((()=>e.state.themeConfig.themeConfig))}}},[["render",function(e,t,a,n,l,o){const r=u("Header"),c=u("Aside"),m=u("TagsView"),g=u("Main"),p=u("el-container"),C=u("el-backtop");return s(),d(p,{class:"layout-container flex-center"},{default:f((()=>[h(r),h(p,{class:"layout-mian-height-50"},{default:f((()=>[h(c),i("div",qe,[n.getThemeConfig.isTagsview?(s(),d(m,{key:0})):V("",!0),h(g)])])),_:1}),h(C,{target:".layout-backtop .el-main .el-scrollbar__wrap"})])),_:1})}]]),Transverse:e({name:"layoutTransverse",components:{Header:He,Main:De}},[["render",function(e,t,a,n,i,l){const o=u("Header"),r=u("Main"),c=u("el-backtop"),m=u("el-container");return s(),d(m,{class:"layout-container flex-center layout-backtop"},{default:f((()=>[h(o),h(r),h(c,{target:".layout-backtop .el-main .el-scrollbar__wrap"})])),_:1})}]]),Columns:e({name:"layoutColumns",components:{Aside:ae,Header:He,Main:De,ColumnsAside:e({name:"layoutColumnsAside",setup(){const e=F([]),s=F(),{proxy:n}=o(),i=t(),l=p(),r=A(),u=C({columnsAsideList:[],liIndex:0,liOldIndex:null,liHoverIndex:null,liOldPath:null,difference:0,routeSplit:[],isNavHover:!1}),c=a((()=>i.state.themeConfig.themeConfig.columnsAsideStyle)),m=a((()=>i.state.themeConfig.themeConfig.columnsAsideLayout)),d=t=>{u.liIndex=t,s.value.style.top=`${e.value[t].offsetTop+u.difference}px`},f=e=>{H((()=>{d(e)}))},h=e=>{const t=e.split("/");let a={};return u.columnsAsideList.map(((e,s)=>{e.path===`/${t[1]}`&&(e.k=s,a.item=[{...e}],a.children=[{...e}],e.children&&(a.children=e.children))})),a},g=e=>e.filter((e=>!e.meta.isHide)).map((e=>((e=Object.assign({},e)).children&&(e.children=g(e.children)),e)));return y(i.state,(e=>{if("columnsRound"===e.themeConfig.themeConfig.columnsAsideStyle?u.difference=3:u.difference=0,e.routesList.isColumnsMenuHover||e.routesList.isColumnsNavHover){if(u.liHoverIndex=u.liOldIndex,!u.liOldPath)return!1;n.mittBus.emit("setSendColumnsChildren",h(u.liOldPath))}else u.liHoverIndex=null,n.mittBus.emit("setSendColumnsChildren",h(l.path))})),w((()=>{(()=>{u.columnsAsideList=g(i.state.routesList.routesList);const e=h(l.path);if(Object.keys(e).length<=0)return!1;f(e.item[0].k),n.mittBus.emit("setSendColumnsChildren",e)})(),n.mittBus.on("restoreDefault",(()=>{u.liOldIndex=null,u.liOldPath=null}))})),O((()=>{n.mittBus.off("restoreDefault",(()=>{}))})),b((e=>{(e=>{u.routeSplit=e.split("/"),u.routeSplit.shift();const t=`/${u.routeSplit[0]}`,a=u.columnsAsideList.find((e=>e.path===t));if(!a)return!1;setTimeout((()=>{f(a.k)}),0)})(e.path),n.mittBus.emit("setSendColumnsChildren",h(e.path))})),{columnsAsideOffsetTopRefs:e,columnsAsideActiveRef:s,onColumnsAsideDown:f,setColumnsAsideStyle:c,setColumnsAsidelayout:m,onColumnsAsideMenuClick:(e,t)=>{d(t);let{path:a,redirect:s}=e;s?r.push(s):r.push(a)},onColumnsAsideMenuMouseenter:(e,t)=>{let{path:a}=e;u.liOldPath=a,u.liOldIndex=t,u.liHoverIndex=t,n.mittBus.emit("setSendColumnsChildren",h(a)),i.dispatch("routesList/setColumnsMenuHover",!1),i.dispatch("routesList/setColumnsNavHover",!0),u.isNavHover=!0},onColumnsAsideMenuMouseleave:async()=>{await i.dispatch("routesList/setColumnsNavHover",!1),setTimeout((()=>{const{isColumnsMenuHover:e,isColumnsNavHover:t}=i.state.routesList;e||t||n.mittBus.emit("restoreDefault")}),100)},...v(u)}}},[["render",function(e,t,a,o,r,d){const g=u("SvgIcon"),p=u("el-scrollbar");return s(),n("div",Ee,[h(p,null,{default:f((()=>[i("ul",{onMouseleave:t[0]||(t[0]=e=>o.onColumnsAsideMenuMouseleave())},[(s(!0),n(m,null,c(e.columnsAsideList,((t,a)=>(s(),n("li",{key:a,onClick:e=>o.onColumnsAsideMenuClick(t,a),onMouseenter:e=>o.onColumnsAsideMenuMouseenter(t,a),ref_for:!0,ref:e=>{e&&(o.columnsAsideOffsetTopRefs[a]=e)},class:T({"layout-columns-active":e.liIndex===a,"layout-columns-hover":e.liHoverIndex===a}),title:e.$t(t.meta.title)},[!t.meta.isLink||t.meta.isLink&&t.meta.isIframe?(s(),n("div",{key:0,class:T(o.setColumnsAsidelayout)},[h(g,{name:t.meta.icon},null,8,["name"]),i("div",Pe,l(e.$t(t.meta.title)&&e.$t(t.meta.title).length>=4?e.$t(t.meta.title).substr(0,"columns-vertical"===o.setColumnsAsidelayout?4:3):e.$t(t.meta.title)),1)],2)):(s(),n("div",{key:1,class:T(o.setColumnsAsidelayout)},[i("a",{href:t.meta.isLink,target:"_blank"},[h(g,{name:t.meta.icon},null,8,["name"]),i("div",je,l(e.$t(t.meta.title)&&e.$t(t.meta.title).length>=4?e.$t(t.meta.title).substr(0,"columns-vertical"===o.setColumnsAsidelayout?4:3):e.$t(t.meta.title)),1)],8,We)],2))],42,Oe)))),128)),i("div",{ref:"columnsAsideActiveRef",class:T(o.setColumnsAsideStyle)},null,2)],32)])),_:1})])}],["__scopeId","data-v-2d0b32b1"]])},setup(){const e=t();return{isFixedHeader:a((()=>e.state.themeConfig.themeConfig.isFixedHeader))}}},[["render",function(e,t,a,n,l,o){const r=u("ColumnsAside"),c=u("Aside"),m=u("Header"),g=u("Main"),p=u("el-scrollbar"),C=u("el-container"),y=u("el-backtop");return s(),d(C,{class:"layout-container"},{default:f((()=>[h(r),i("div",Ne,[h(c),h(C,{class:T(["flex-center layout-backtop",{"layout-backtop":!n.isFixedHeader}])},{default:f((()=>[n.isFixedHeader?(s(),d(m,{key:0})):V("",!0),h(p,{class:T({"layout-backtop":n.isFixedHeader})},{default:f((()=>[n.isFixedHeader?V("",!0):(s(),d(m,{key:0})),h(g)])),_:1},8,["class"])])),_:1},8,["class"])]),h(y,{target:".layout-backtop .el-scrollbar__wrap"})])),_:1})}]])},setup(){const{proxy:e}=o(),s=t(),n=a((()=>s.state.themeConfig.themeConfig)),i=()=>{$.get("oldLayout")||$.set("oldLayout",n.value.layout);const t=document.body.clientWidth;t<1e3?(n.value.isCollapse=!1,e.mittBus.emit("layoutMobileResize",{layout:"defaults",clientWidth:t})):e.mittBus.emit("layoutMobileResize",{layout:$.get("oldLayout")?$.get("oldLayout"):n.value.layout,clientWidth:t})};return S((()=>{i(),window.addEventListener("resize",i)})),O((()=>{window.removeEventListener("resize",i)})),{getThemeConfig:n}}},[["render",function(e,t,a,n,i,l){const o=u("Defaults"),r=u("Classic"),c=u("Transverse"),m=u("Columns");return"defaults"===n.getThemeConfig.layout?(s(),d(o,{key:0})):"classic"===n.getThemeConfig.layout?(s(),d(r,{key:1})):"transverse"===n.getThemeConfig.layout?(s(),d(c,{key:2})):"columns"===n.getThemeConfig.layout?(s(),d(m,{key:3})):V("",!0)}]]);export{Ue as default};
