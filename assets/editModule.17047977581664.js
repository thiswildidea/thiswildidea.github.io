import{t as N,u as y,a as C}from"./dept.1704797758166.js";import{_ as k,D as w,k as S,p as U,r as s,U as O,a as f,h as l,w as o,ax as R,H as D,o as F,v as q,i as E,t as b,b as z,F as M,e as L,f as $,g as x}from"./index.1704797758166.js";const H={name:"editMenu",props:{title:{type:String,default:()=>""}},setup(){const{proxy:u}=x(),t=w(null),e=S({isShowDialog:!1,ruleForm:{deptId:0,deptName:"",parentId:0,orderNum:0,status:"",leader:"",phone:"",email:""},statusOptions:[],deptOptions:[],ruleRules:{deptName:[{required:!0,message:"\u90E8\u95E8\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],parentId:[{required:!0,message:"\u7236\u90E8\u95E8\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u90E8\u95E8\u72B6\u6001\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],sort:[{required:!0,message:"\u90E8\u95E8\u987A\u5E8F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],email:[{type:"email",message:"'\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u90AE\u7BB1\u5730\u5740",trigger:["blur","change"]}],phone:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7\u7801",trigger:"blur"}]}}),p=a=>{a.deptId&&a.deptId!=null&&a.deptId!=""?e.ruleForm=a:(d(),e.ruleForm.parentId=a.parentId),e.isShowDialog=!0,u.getDicts("sys_normal_disable").then(n=>{e.statusOptions=n.data}),N().then(n=>{e.deptOptions=[];const m={id:0,label:"\u4E3B\u7C7B\u76EE",children:[]};m.children=n.data,e.deptOptions.push(m)})},i=a=>{u.mittBus.emit("onEditDeptModule",a),e.isShowDialog=!1},g=()=>{i(),d()},c=()=>{const a=R(t);!a||a.validate(n=>{n&&(e.ruleForm.deptId!=null&&e.ruleForm.deptId!=0?y(e.ruleForm).then(m=>{D.success("\u4FEE\u6539\u6210\u529F"),i(e.ruleForm)}):C(e.ruleForm).then(m=>{D.success("\u65B0\u589E\u6210\u529F"),i(e.ruleForm)}))})},d=()=>{e.ruleForm.deptId=0,e.ruleForm.deptName="",e.ruleForm.parentId=0,e.ruleForm.orderNum=0,e.ruleForm.status=e.ruleForm.status?e.ruleForm.status:"0",e.ruleForm.leader="",e.ruleForm.phone="",e.ruleForm.email=""};return{ruleFormRef:t,openDialog:p,closeDialog:i,onCancel:g,onSubmit:c,...U(e)}}},P={class:"system-menu-container"},T={style:{"font-size":"large"}},W={class:"dialog-footer"},j=E("\u53D6 \u6D88"),G=E("\u7F16 \u8F91");function J(u,t,e,p,i,g){const c=s("el-cascader"),d=s("el-form-item"),a=s("el-col"),n=s("el-input"),m=s("el-radio"),B=s("el-radio-group"),V=s("el-input-number"),h=s("el-row"),A=s("el-form"),_=s("el-button"),I=s("el-dialog"),v=O("drag");return F(),f("div",P,[l(I,{modelValue:u.isShowDialog,"onUpdate:modelValue":t[7]||(t[7]=r=>u.isShowDialog=r),width:"769px"},{title:o(()=>[q((F(),f("div",T,[E(b(e.title),1)])),[[v,[".system-menu-container .el-dialog",".system-menu-container .el-dialog__header"]]])]),footer:o(()=>[z("span",W,[l(_,{onClick:p.onCancel,size:"small"},{default:o(()=>[j]),_:1},8,["onClick"]),l(_,{type:"primary",onClick:p.onSubmit,size:"small"},{default:o(()=>[G]),_:1},8,["onClick"])])]),default:o(()=>[l(A,{model:u.ruleForm,rules:u.ruleRules,ref:"ruleFormRef","label-width":"80px"},{default:o(()=>[l(h,{gutter:30},{default:o(()=>[l(a,{span:24},{default:o(()=>[l(d,{label:"\u4E0A\u7EA7\u90E8\u95E8",prop:"parentId"},{default:o(()=>[l(c,{modelValue:u.ruleForm.parentId,"onUpdate:modelValue":t[0]||(t[0]=r=>u.ruleForm.parentId=r),options:u.deptOptions,size:"small",class:"w100",props:{value:"id",label:"label",checkStrictly:!0,emitPath:!1},clearable:"",placeholder:"\u9009\u62E9\u4E0A\u7EA7\u90E8\u95E8","show-all-levels":!1},null,8,["modelValue","options"])]),_:1})]),_:1}),l(a,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[l(d,{label:"\u90E8\u95E8\u540D\u79F0",prop:"deptName"},{default:o(()=>[l(n,{modelValue:u.ruleForm.deptName,"onUpdate:modelValue":t[1]||(t[1]=r=>u.ruleForm.deptName=r),placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(a,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[l(d,{label:"\u8D1F\u8D23\u4EBA"},{default:o(()=>[l(n,{modelValue:u.ruleForm.leader,"onUpdate:modelValue":t[2]||(t[2]=r=>u.ruleForm.leader=r),placeholder:"\u8BF7\u8F93\u5165\u8D1F\u8D23\u4EBA",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(a,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[l(d,{label:"\u8054\u7CFB\u7535\u8BDD",prop:"phone"},{default:o(()=>[l(n,{modelValue:u.ruleForm.phone,"onUpdate:modelValue":t[3]||(t[3]=r=>u.ruleForm.phone=r),placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u7535\u8BDD",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(a,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[l(d,{label:"\u8054\u7CFB\u90AE\u7BB1",prop:"email"},{default:o(()=>[l(n,{modelValue:u.ruleForm.email,"onUpdate:modelValue":t[4]||(t[4]=r=>u.ruleForm.email=r),placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(a,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[l(d,{label:"\u90E8\u95E8\u72B6\u6001",prop:"status"},{default:o(()=>[l(B,{modelValue:u.ruleForm.status,"onUpdate:modelValue":t[5]||(t[5]=r=>u.ruleForm.status=r)},{default:o(()=>[(F(!0),f(M,null,L(u.statusOptions,r=>(F(),$(m,{key:r.dictValue,label:r.dictValue},{default:o(()=>[E(b(r.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(a,{xs:24,sm:12,md:12,lg:12,xl:12},{default:o(()=>[l(d,{label:"\u90E8\u95E8\u6392\u5E8F",prop:"orderNum"},{default:o(()=>[l(V,{modelValue:u.ruleForm.orderNum,"onUpdate:modelValue":t[6]||(t[6]=r=>u.ruleForm.orderNum=r),placeholder:"\u90E8\u95E8\u6392\u5E8F",clearable:"","controls-position":"right",min:0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}const X=k(H,[["render",J]]);export{X as default};
