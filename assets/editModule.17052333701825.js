import{u as e,a as l}from"./type.1705233370182.js";import{_ as a,D as t,k as r,p as o,r as u,Q as d,a as i,h as s,w as m,ay as c,H as n,o as p,v as F,i as f,t as g,b as y,F as V,e as b,f as h,g as k}from"./index.1705233370182.js";const _={name:"editMenu",props:{title:{type:String,default:()=>""}},setup(){const{proxy:a}=k(),u=t(null),d=r({isShowDialog:!1,ruleForm:{dictId:0,dictName:"",dictType:"",status:"",remark:""},statusOptions:[{dictValue:"0",dictLabel:"正常"},{dictValue:"1",dictLabel:"禁用"}],deptOptions:[],ruleRules:{dictName:[{required:!0,message:"字典名称不能为空",trigger:"blur"}],dictType:[{required:!0,message:"字典类型不能为空",trigger:"blur"}]}}),i=e=>{a.mittBus.emit("onEditPostModule",e),d.isShowDialog=!1},s=()=>{d.ruleForm.dictId=0,d.ruleForm.dictName="",d.ruleForm.dictType="",d.ruleForm.status="0",d.ruleForm.remark=""};return{ruleFormRef:u,openDialog:e=>{e.dictId&&null!=e.dictId&&""!=e.dictId?(d.ruleForm=e,d.ruleForm.dictId=e.dictId,d.ruleForm.dictName=e.dictName,d.ruleForm.dictType=e.dictType,d.ruleForm.status=e.status,d.ruleForm.remark=e.remark):s(),d.isShowDialog=!0},closeDialog:i,onCancel:()=>{i()},initForm:s,onSubmit:()=>{const a=c(u);a&&a.validate((a=>{a&&(null!=d.ruleForm.dictId&&0!=d.ruleForm.dictId?e(d.ruleForm).then((e=>{n.success("修改成功"),i(d.ruleForm)})):l(d.ruleForm).then((e=>{n.success("新增成功"),i(d.ruleForm)})))}))},...o(d)}}},I={class:"system-menu-container"},w={style:{"font-size":"large"}},D={class:"dialog-footer"},N=f("取 消"),S=f("编 辑");const T=a(_,[["render",function(e,l,a,t,r,o){const c=u("el-input"),n=u("el-form-item"),k=u("el-radio"),_=u("el-radio-group"),T=u("el-form"),x=u("el-button"),C=u("el-dialog"),U=d("drag");return p(),i("div",I,[s(C,{modelValue:e.isShowDialog,"onUpdate:modelValue":l[4]||(l[4]=l=>e.isShowDialog=l),width:"769px"},{title:m((()=>[F((p(),i("div",w,[f(g(a.title),1)])),[[U,[".system-menu-container .el-dialog",".system-menu-container .el-dialog__header"]]])])),footer:m((()=>[y("span",D,[s(x,{onClick:t.onCancel,size:"small"},{default:m((()=>[N])),_:1},8,["onClick"]),s(x,{type:"primary",onClick:t.onSubmit,size:"small"},{default:m((()=>[S])),_:1},8,["onClick"])])])),default:m((()=>[s(T,{model:e.ruleForm,rules:e.ruleRules,ref:"ruleFormRef","label-width":"80px"},{default:m((()=>[s(n,{label:"字典名称",prop:"dictName"},{default:m((()=>[s(c,{modelValue:e.ruleForm.dictName,"onUpdate:modelValue":l[0]||(l[0]=l=>e.ruleForm.dictName=l),placeholder:"请输入字典名称"},null,8,["modelValue"])])),_:1}),s(n,{label:"字典类型",prop:"dictType"},{default:m((()=>[s(c,{modelValue:e.ruleForm.dictType,"onUpdate:modelValue":l[1]||(l[1]=l=>e.ruleForm.dictType=l),placeholder:"请输入字典类型"},null,8,["modelValue"])])),_:1}),s(n,{label:"状态",prop:"status"},{default:m((()=>[s(_,{modelValue:e.ruleForm.status,"onUpdate:modelValue":l[2]||(l[2]=l=>e.ruleForm.status=l)},{default:m((()=>[(p(!0),i(V,null,b(e.statusOptions,(e=>(p(),h(k,{key:e.dictValue,label:e.dictValue},{default:m((()=>[f(g(e.dictLabel),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1}),s(n,{label:"备注",prop:"remark"},{default:m((()=>[s(c,{modelValue:e.ruleForm.remark,"onUpdate:modelValue":l[3]||(l[3]=l=>e.ruleForm.remark=l),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}]]);export{T as default};
