import{I as w}from"./index.170479775816617.js";import{t as S,u as L,a as M}from"./menu.1704797758166.js";import{_ as q,u as H,D as R,k as z,p as K,r as i,U as P,a as V,h as l,w as e,ax as W,H as O,o as n,v as $,i as f,t as y,b as E,F as g,e as _,f as d,y as F,g as j}from"./index.1704797758166.js";import"./getStyleSheets.1704797758166.js";const G={name:"editMenu",components:{IconSelector:w},props:{title:{type:String,default:()=>""}},setup(){H();const{proxy:u}=j(),r=R(null),a=z({isShowDialog:!1,ruleForm:{menuId:0,menuName:"",menuType:"",parentId:0,component:"",path:"",sort:1,status:"",title:"",icon:"",ishide:"",iskeepalive:"",isaffix:"",islink:"",isiFrame:"",permission:"",remark:""},isHideOptions:[],statusOptions:[],menuTypeOptions:[],yesOrNoOptions:[],menuOptions:[],ruleRules:{menuName:[{required:!0,message:"\u83DC\u5355\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],parentId:[{required:!0,message:"\u7236\u83DC\u5355\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],menuType:[{required:!0,message:"\u83DC\u5355\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],status:[{required:!0,message:"\u83DC\u5355\u72B6\u6001\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],sort:[{required:!0,message:"\u83DC\u5355\u987A\u5E8F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}),C=t=>{t.menuId&&t.menuId!=null&&t.menuId!=0?a.ruleForm=t:(s(),a.ruleForm.parentId=t.parentId),a.isShowDialog=!0,u.getDicts("sys_show_hide").then(m=>{a.isHideOptions=m.data}),u.getDicts("sys_normal_disable").then(m=>{a.statusOptions=m.data}),u.getDicts("sys_menu_type").then(m=>{a.menuTypeOptions=m.data}),u.getDicts("sys_num_yes_no").then(m=>{a.yesOrNoOptions=m.data}),S().then(m=>{a.menuOptions=[];const p={id:0,label:"\u4E3B\u7C7B\u76EE",children:[]};p.children=m.menus,a.menuOptions.push(p)})},D=t=>{s(),u.mittBus.emit("onEditMenuModule",t),a.isShowDialog=!1},A=()=>{D(),s()},B=()=>{const t=W(r);!t||t.validate(m=>{m&&(a.ruleForm.component==""&&(a.ruleForm.menuType=="F"?a.ruleForm.component="":a.ruleForm.component="Layout"),a.ruleForm.parentId||(a.ruleForm.parentId=0),a.ruleForm.menuId!=null&&a.ruleForm.menuId!=0?L(a.ruleForm).then(p=>{O.success("\u4FEE\u6539\u6210\u529F"),D()}):M(a.ruleForm).then(p=>{O.success("\u65B0\u589E\u6210\u529F"),D()}))})},s=()=>{a.ruleForm.menuId=0,a.ruleForm.menuName="",a.ruleForm.menuType="",a.ruleForm.parentId=0,a.ruleForm.component="",a.ruleForm.path="",a.ruleForm.sort=1,a.ruleForm.status="",a.ruleForm.title="",a.ruleForm.icon="",a.ruleForm.isHide="",a.ruleForm.isKeepAlive="",a.ruleForm.isAffix="",a.ruleForm.isLink="",a.ruleForm.isIframe="",a.ruleForm.permission="",a.ruleForm.remark=""};return{ruleFormRef:r,openDialog:C,closeDialog:D,onCancel:A,onSubmit:B,...K(a)}}},J={class:"system-menu-container"},Q={style:{"font-size":"large"}},X=E("i",{class:"fa fa-exclamation-circle ml10 mt10"},null,-1),Y=E("i",{class:"fa fa-exclamation-circle ml10 mt10"},null,-1),Z=E("i",{class:"fa fa-exclamation-circle ml10 mt10"},null,-1),x=E("i",{class:"fa fa-exclamation-circle ml10 mt10"},null,-1),ee={class:"dialog-footer"},ue=f("\u53D6 \u6D88"),le=f("\u7F16 \u8F91");function oe(u,r,a,C,D,A){const B=i("el-cascader"),s=i("el-form-item"),t=i("el-col"),m=i("el-radio"),p=i("el-radio-group"),b=i("el-input"),h=i("el-input-number"),T=i("IconSelector"),k=i("el-tooltip"),c=i("el-row"),v=i("el-form"),I=i("el-button"),U=i("el-dialog"),N=P("drag");return n(),V("div",J,[l(U,{modelValue:u.isShowDialog,"onUpdate:modelValue":r[15]||(r[15]=o=>u.isShowDialog=o),width:"769px"},{title:e(()=>[$((n(),V("div",Q,[f(y(a.title),1)])),[[N,[".system-menu-container .el-dialog",".system-menu-container .el-dialog__header"]]])]),footer:e(()=>[E("span",ee,[l(I,{onClick:C.onCancel,size:"small"},{default:e(()=>[ue]),_:1},8,["onClick"]),l(I,{type:"primary",onClick:C.onSubmit,size:"small"},{default:e(()=>[le]),_:1},8,["onClick"])])]),default:e(()=>[l(v,{model:u.ruleForm,rules:u.ruleRules,ref:"ruleFormRef","label-width":"80px"},{default:e(()=>[l(c,{gutter:35},{default:e(()=>[l(t,{span:24},{default:e(()=>[l(s,{label:"\u4E0A\u7EA7\u83DC\u5355",prop:"parentId"},{default:e(()=>[l(B,{modelValue:u.ruleForm.parentId,"onUpdate:modelValue":r[0]||(r[0]=o=>u.ruleForm.parentId=o),options:u.menuOptions,size:"small",class:"w100",props:{label:"label",value:"id",checkStrictly:!0,emitPath:!1},clearable:"",filterable:"",placeholder:"\u9009\u62E9\u4E0A\u7EA7\u83DC\u5355","show-all-levels":!1},null,8,["modelValue","options"])]),_:1})]),_:1}),l(t,{span:24},{default:e(()=>[l(s,{label:"\u83DC\u5355\u7C7B\u578B",prop:"menuType"},{default:e(()=>[l(p,{modelValue:u.ruleForm.menuType,"onUpdate:modelValue":r[1]||(r[1]=o=>u.ruleForm.menuType=o)},{default:e(()=>[(n(!0),V(g,null,_(u.menuTypeOptions,o=>(n(),d(m,{key:o.dictValue,label:o.dictValue},{default:e(()=>[f(y(o.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(t,{xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[l(s,{label:"\u83DC\u5355\u540D\u79F0",prop:"menuName"},{default:e(()=>[l(b,{modelValue:u.ruleForm.menuName,"onUpdate:modelValue":r[2]||(r[2]=o=>u.ruleForm.menuName=o),placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(t,{xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[l(s,{label:"\u83DC\u5355\u6392\u5E8F",prop:"sort"},{default:e(()=>[l(h,{modelValue:u.ruleForm.sort,"onUpdate:modelValue":r[3]||(r[3]=o=>u.ruleForm.sort=o),placeholder:"\u83DC\u5355\u6392\u5E8F",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),u.ruleForm.menuType!="F"?(n(),d(t,{key:0,xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[l(s,{label:"\u83DC\u5355\u56FE\u6807",prop:"icon"},{default:e(()=>[l(T,{placeholder:"\u8BF7\u8F93\u5165\u83DC\u5355\u56FE\u6807",modelValue:u.ruleForm.icon,"onUpdate:modelValue":r[4]||(r[4]=o=>u.ruleForm.icon=o),type:"all"},null,8,["modelValue"])]),_:1})]),_:1})):F("",!0),l(t,{xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[l(c,{gutter:8},{default:e(()=>[l(t,{span:22},{default:e(()=>[l(s,{label:"\u6743\u9650\u6807\u8BC6",prop:"permission"},{default:e(()=>[l(b,{modelValue:u.ruleForm.permission,"onUpdate:modelValue":r[5]||(r[5]=o=>u.ruleForm.permission=o),placeholder:"\u8DEF\u7531\u6743\u9650\u6807\u8BC6",clearable:"",disabled:u.ruleForm.menuType=="M"},null,8,["modelValue","disabled"])]),_:1})]),_:1}),l(t,{span:2},{default:e(()=>[l(k,{content:"\u8DEF\u7531\u6743\u9650\u6807\u8BC6\uFF08\u591A\u4E2A\u8BF7\u7528\u9017\u53F7\u9694\u5F00\uFF09",placement:"top"},{default:e(()=>[X]),_:1})]),_:1})]),_:1})]),_:1}),u.ruleForm.menuType!="F"?(n(),d(t,{key:1,xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[l(c,{gutter:8},{default:e(()=>[l(t,{span:22},{default:e(()=>[l(s,{label:"\u7EC4\u4EF6\u5730\u5740"},{default:e(()=>[l(b,{modelValue:u.ruleForm.component,"onUpdate:modelValue":r[6]||(r[6]=o=>u.ruleForm.component=o),placeholder:"\u7EC4\u4EF6\u5730\u5740",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(t,{span:2},{default:e(()=>[l(k,{content:"\u83DC\u5355\u5BF9\u5E94\u7684\u5177\u4F53vue\u9875\u9762\u6587\u4EF6\u8DEF\u5F84views\u7684\u4E0B\u7EA7\u8DEF\u5F84/system/user/index,\u5916\u94FE\u8BF7\u586B\u5199/layout/routerView/link\uFF0C\u5185\u94FE\u8BF7\u586B\u5199/layout/routerView/iframes",placement:"top"},{default:e(()=>[Y]),_:1})]),_:1})]),_:1})]),_:1})):F("",!0),u.ruleForm.menuType!="F"?(n(),d(t,{key:2,xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[l(c,{gutter:8},{default:e(()=>[l(t,{span:22},{default:e(()=>[l(s,{label:"\u8DEF\u7531\u5730\u5740"},{default:e(()=>[l(b,{modelValue:u.ruleForm.path,"onUpdate:modelValue":r[7]||(r[7]=o=>u.ruleForm.path=o),placeholder:"\u8BF7\u8F93\u5165\u8DEF\u7531\u5730\u5740",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),l(t,{span:2},{default:e(()=>[l(k,{content:"\u8981\u548C\u9875\u9762name\u4FDD\u6301\u4E00\u81F4:\u4F8B\u5982 /system/role",placement:"top"},{default:e(()=>[Z]),_:1})]),_:1})]),_:1})]),_:1})):F("",!0),l(t,{xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[l(s,{label:"\u83DC\u5355\u72B6\u6001",prop:"status"},{default:e(()=>[l(p,{modelValue:u.ruleForm.status,"onUpdate:modelValue":r[8]||(r[8]=o=>u.ruleForm.status=o)},{default:e(()=>[(n(!0),V(g,null,_(u.statusOptions,o=>(n(),d(m,{key:o.dictValue,label:o.dictValue},{default:e(()=>[f(y(o.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),u.ruleForm.menuType!="F"?(n(),d(t,{key:3,xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[l(s,{label:"\u662F\u5426\u9690\u85CF"},{default:e(()=>[l(p,{modelValue:u.ruleForm.ishide,"onUpdate:modelValue":r[9]||(r[9]=o=>u.ruleForm.ishide=o)},{default:e(()=>[(n(!0),V(g,null,_(u.isHideOptions,o=>(n(),d(m,{key:o.dictValue,label:o.dictValue},{default:e(()=>[f(y(o.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):F("",!0),u.ruleForm.menuType!="F"?(n(),d(t,{key:4,xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[l(s,{label:"\u662F\u5426\u7F13\u5B58"},{default:e(()=>[l(p,{modelValue:u.ruleForm.iskeepalive,"onUpdate:modelValue":r[10]||(r[10]=o=>u.ruleForm.iskeepalive=o)},{default:e(()=>[(n(!0),V(g,null,_(u.yesOrNoOptions,o=>(n(),d(m,{key:o.dictValue,label:o.dictValue},{default:e(()=>[f(y(o.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):F("",!0),u.ruleForm.menuType!="F"?(n(),d(t,{key:5,xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[l(c,{gutter:8},{default:e(()=>[l(t,{span:22},{default:e(()=>[l(s,{label:"\u662F\u5426\u56FA\u5B9A"},{default:e(()=>[l(p,{modelValue:u.ruleForm.isaffix,"onUpdate:modelValue":r[11]||(r[11]=o=>u.ruleForm.isaffix=o)},{default:e(()=>[(n(!0),V(g,null,_(u.yesOrNoOptions,o=>(n(),d(m,{key:o.dictValue,label:o.dictValue},{default:e(()=>[f(y(o.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(t,{span:2},{default:e(()=>[u.ruleForm.menuType!="F"?(n(),d(k,{key:0,content:"\u662F\u5426\u8981\u56FA\u5B9A\u5230tag\u5934\u90E8",placement:"top"},{default:e(()=>[x]),_:1})):F("",!0)]),_:1})]),_:1})]),_:1})):F("",!0),u.ruleForm.menuType!="F"?(n(),d(t,{key:6,xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[l(s,{label:"\u662F\u5426\u5185\u5D4C"},{default:e(()=>[l(p,{modelValue:u.ruleForm.isiFrame,"onUpdate:modelValue":r[12]||(r[12]=o=>u.ruleForm.isiFrame=o)},{default:e(()=>[(n(!0),V(g,null,_(u.yesOrNoOptions,o=>(n(),d(m,{key:o.dictValue,label:o.dictValue},{default:e(()=>[f(y(o.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})):F("",!0),u.ruleForm.menuType!="F"?(n(),d(t,{key:7,xs:24,sm:12,md:12,lg:12,xl:12},{default:e(()=>[l(s,{label:"\u94FE\u63A5\u5730\u5740"},{default:e(()=>[l(b,{modelValue:u.ruleForm.islink,"onUpdate:modelValue":r[13]||(r[13]=o=>u.ruleForm.islink=o),placeholder:"\u5916\u94FE/\u5185\u5D4C\u65F6\u94FE\u63A5\u5730\u5740\uFF08http:xxx.com\uFF09",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})):F("",!0),l(t,{xs:24,sm:24,md:24,lg:24,xl:24},{default:e(()=>[l(s,{label:"\u5907\u6CE8"},{default:e(()=>[l(b,{modelValue:u.ruleForm.remark,"onUpdate:modelValue":r[14]||(r[14]=o=>u.ruleForm.remark=o),placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u5185\u5BB9",clearable:"",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}const se=q(G,[["render",oe]]);export{se as default};
