import{_ as e,D as o,k as n,c as t,m as l,l as a,p as i,r as c,o as s,a as r,h as f,w as d,f as p,z as I,N as u,v as m,x as h,b as S,t as x,y as v,F as y,e as w,G as b}from"./index.1704951491820.js";import{i as P}from"./getStyleSheets.1704951491820.js";const g={name:"iconSelector",emits:["update:modelValue","get","clear"],props:{prepend:{type:String,default:()=>"elementPointer"},placeholder:{type:String,default:()=>"请输入内容搜索图标或者选择图标"},size:{type:String,default:()=>"small"},title:{type:String,default:()=>"请选择图标"},type:{type:String,default:()=>"ele"},disabled:{type:Boolean,default:()=>!1},clearable:{type:Boolean,default:()=>!0},emptyDescription:{type:String,default:()=>"无相关图标"},modelValue:String},setup(e,{emit:c}){const s=o(),r=o(),f=n({fontIconPrefix:"",fontIconVisible:!1,fontIconWidth:0,fontIconSearch:"",fontIconTabsIndex:0,fontIconSheetsList:[],fontIconPlaceholder:"",fontIconType:"ali",fontIconShow:!0}),d=()=>{if(""===e.modelValue)return!1;f.fontIconPlaceholder=e.modelValue,f.fontIconPrefix=e.modelValue},p=t((()=>{if(!f.fontIconSearch)return f.fontIconSheetsList;let e=f.fontIconSearch.trim().toLowerCase();return f.fontIconSheetsList.filter((o=>{if(-1!==o.toLowerCase().indexOf(e))return o}))})),I=()=>{b((()=>{f.fontIconWidth=s.value.$el.offsetWidth}))},u=o=>{f.fontIconType=o,(async o=>{f.fontIconSheetsList=[],"ali"===o?await P.ali().then((e=>{f.fontIconSheetsList=e.map((e=>`iconfont ${e}`))})):"ele"===o?await P.ele().then((e=>{f.fontIconSheetsList=e})):"awe"===o&&await P.awe().then((e=>{f.fontIconSheetsList=e.map((e=>`fa ${e}`))})),f.fontIconPlaceholder=e.placeholder,d(),r.value.wrap$.scrollTop=0})(o)};return l((()=>{var o,n,t;"all"===e.type?(null==(o=e.modelValue)?void 0:o.indexOf("iconfont"))>-1?u("ali"):(null==(n=e.modelValue)?void 0:n.indexOf("element"))>-1?u("ele"):(null==(t=e.modelValue)?void 0:t.indexOf("fa"))>-1?u("awe"):u("ali"):u(e.type),window.addEventListener("resize",(()=>{I()})),I()})),a((()=>e.modelValue),(()=>{d()})),{inputWidthRef:s,fontIconSheetsFilterList:p,onColClick:e=>{f.fontIconPlaceholder=e,f.fontIconVisible=!1,(0===f.fontIconTabsIndex||1===f.fontIconTabsIndex||2===f.fontIconTabsIndex)&&(f.fontIconPrefix=`${e}`),c("get",f.fontIconPrefix),c("update:modelValue",f.fontIconPrefix)},selectorScrollbarRef:r,onIconChange:u,onClearFontIcon:()=>{f.fontIconPrefix="",c("clear",f.fontIconPrefix),c("update:modelValue",f.fontIconPrefix)},onIconFocus:()=>{if(!e.modelValue)return!1;f.fontIconSearch="",f.fontIconPlaceholder=e.modelValue},onIconBlur:()=>{setTimeout((()=>{f.fontIconSheetsList.filter((e=>e===f.fontIconSearch)).length<=0&&(f.fontIconSearch="")}),300)},...i(f)}}},V={class:"icon-selector"},C={class:"icon-selector-warp"},L={class:"icon-selector-warp-title flex"},k={class:"flex-auto"},F={key:0,class:"icon-selector-warp-title-tab"},T={class:"icon-selector-warp-row"},z={class:"flex-margin"},_={class:"icon-selector-warp-item-value"};const B=e(g,[["render",function(e,o,n,t,l,a){const i=c("SvgIcon"),b=c("el-input"),P=c("el-col"),g=c("el-row"),B=c("el-empty"),O=c("el-scrollbar"),W=c("el-popover");return s(),r("div",V,[f(W,{placement:"bottom",width:e.fontIconWidth,visible:e.fontIconVisible,"onUpdate:visible":o[4]||(o[4]=o=>e.fontIconVisible=o),"popper-class":"icon-selector-popper"},{reference:d((()=>[f(b,{modelValue:e.fontIconSearch,"onUpdate:modelValue":o[0]||(o[0]=o=>e.fontIconSearch=o),placeholder:e.fontIconPlaceholder,clearable:n.clearable,disabled:n.disabled,size:n.size,ref:"inputWidthRef",onClear:t.onClearFontIcon,onFocus:t.onIconFocus,onBlur:t.onIconBlur},{prepend:d((()=>{var o,t;return[(""===e.fontIconPrefix?(null==(o=n.prepend)?void 0:o.indexOf("element"))>-1:(null==(t=e.fontIconPrefix)?void 0:t.indexOf("element"))>-1)?(s(),p(i,{key:0,name:""===e.fontIconPrefix?n.prepend:e.fontIconPrefix,class:"font14"},null,8,["name"])):(s(),r("i",{key:1,class:I([""===e.fontIconPrefix?n.prepend:e.fontIconPrefix,"font14"])},null,2))]})),_:1},8,["modelValue","placeholder","clearable","disabled","size","onClear","onFocus","onBlur"])])),default:d((()=>[f(u,{name:"el-zoom-in-top"},{default:d((()=>[m(S("div",C,[S("div",L,[S("div",k,x(n.title),1),"all"===n.type?(s(),r("div",F,[S("span",{class:I([{"span-active":"ali"===e.fontIconType},"ml10"]),onClick:o[1]||(o[1]=e=>t.onIconChange("ali")),title:"iconfont 图标"},"ali",2),S("span",{class:I([{"span-active":"ele"===e.fontIconType},"ml10"]),onClick:o[2]||(o[2]=e=>t.onIconChange("ele")),title:"elementPlus 图标"},"ele",2),S("span",{class:I([{"span-active":"awe"===e.fontIconType},"ml10"]),onClick:o[3]||(o[3]=e=>t.onIconChange("awe")),title:"fontawesome 图标"},"awe",2)])):v("",!0)]),S("div",T,[f(O,{ref:"selectorScrollbarRef"},{default:d((()=>[t.fontIconSheetsFilterList.length>0?(s(),p(g,{key:0,gutter:10},{default:d((()=>[(s(!0),r(y,null,w(t.fontIconSheetsFilterList,((o,n)=>(s(),p(P,{xs:6,sm:4,md:4,lg:4,xl:4,onClick:e=>t.onColClick(o),key:n},{default:d((()=>[S("div",{class:I(["icon-selector-warp-item",{"icon-selector-active":e.fontIconPrefix===o}])},[S("div",z,[S("div",_,[f(i,{name:o},null,8,["name"])])])],2)])),_:2},1032,["onClick"])))),128))])),_:1})):v("",!0),t.fontIconSheetsFilterList.length<=0?(s(),p(B,{key:1,"image-size":100,description:n.emptyDescription},null,8,["description"])):v("",!0)])),_:1},512)])],512),[[h,e.fontIconVisible]])])),_:1})])),_:1},8,["width","visible"])])}]]);export{B as I};
