import{_ as T,D as N,k as G,p as I,r as i,U,a as _,h as l,w as o,ax as S,o as p,v as P,i as s,t as V,b as c,F as C,e as y,f as D,g as O}from"./index.1704797758166.js";const z={name:"editMenu",props:{title:{type:String,default:()=>""}},setup(){const{proxy:u}=O(),a=N(null),e=G({isShowDialog:!1,loading:!1,ruleForm:{jobId:0,jobName:"",jobGroup:"",jobType:"1",invokeTarget:"",args:"",cronExpression:"",concurrent:"",misfirePolicy:"1",status:"",remark:""},jobGroupOptions:[],statusOptions:[],ruleRules:{jobName:[{required:!0,message:"\u4EFB\u52A1\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],invokeTarget:[{required:!0,message:"\u8C03\u7528\u76EE\u6807\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],cronExpression:[{required:!0,message:"cron\u6267\u884C\u8868\u8FBE\u5F0F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}),b=t=>{console.log("\u6253\u5F00\u5F39\u7A97",t),t.jobId&&t.jobId!=null&&t.jobId!=""?(e.ruleForm=t,e.ruleForm.jobId=t.jobId,e.ruleForm.jobName=t.jobName,e.ruleForm.jobGroup=t.jobGroup,e.ruleForm.jobType=t.jobType,e.ruleForm.args=t.args,e.ruleForm.invokeTarget=t.invokeTarget,e.ruleForm.cronExpression=t.cronExpression,e.ruleForm.concurrent=t.concurrent,e.ruleForm.misfirePolicy=t.misfirePolicy,e.ruleForm.status=t.status,e.ruleForm.remark=t.remark):n(),e.isShowDialog=!0,e.loading=!1,u.getDicts("sys_normal_disable").then(d=>{e.statusOptions=d.data}),u.getDicts("sys_job_group").then(d=>{e.jobGroupOptions=d.data})},f=t=>{u.mittBus.emit("onEditJobModule",t),e.isShowDialog=!1},E=()=>{f()},m=()=>{const t=S(a);!t||t.validate(d=>{d&&(e.loading=!0,e.ruleForm.jobId!=null&&e.ruleForm.jobId!=0)})},n=()=>{e.ruleForm.jobId=0,e.ruleForm.jobName="",e.ruleForm.jobGroup="",e.ruleForm.invokeTarget="",e.ruleForm.jobType="1",e.ruleForm.args="",e.ruleForm.cronExpression="",e.ruleForm.concurrent="",e.ruleForm.misfirePolicy="1",e.ruleForm.status="",e.ruleForm.remark=""};return{ruleFormRef:a,openDialog:b,closeDialog:f,onCancel:E,initForm:n,onSubmit:m,...I(e)}}},R={class:"system-job-container"},q={style:{"font-size":"large"}},L=s(" \u8C03\u7528\u65B9\u6CD5 "),M=s(" \u4F7F\u7528\u793A\u4F8B\uFF1AcronHandle \u65B9\u6CD5\u540E\u7AEF\u5B9E\u73B0\u903B\u8F91, \u63A5\u53E3\u7C7B\u578B\u76F4\u63A5\u586B\u5199\u63A5\u53E3 "),H=c("i",{class:"fa fa-exclamation-circle"},null,-1),J=s(" \u8C03\u7528\u53C2\u6570 "),W=s(" \u4F7F\u7528\u793A\u4F8B\uFF1A\u7C7B\u578Bstring "),$=c("i",{class:"fa fa-exclamation-circle"},null,-1),K=s("\u63A5\u53E3"),Q=s("\u51FD\u6570"),X=s("\u7ACB\u5373\u6267\u884C"),Y=s("\u6267\u884C\u4E00\u6B21"),Z=s("\u653E\u5F03\u6267\u884C"),x={class:"dialog-footer"},w=s("\u53D6 \u6D88"),ee=s("\u7F16 \u8F91");function oe(u,a,e,b,f,E){const m=i("el-input"),n=i("el-form-item"),t=i("el-option"),d=i("el-select"),j=i("el-tooltip"),F=i("el-radio-button"),g=i("el-radio-group"),A=i("el-radio"),k=i("el-form"),B=i("el-button"),v=i("el-dialog"),h=U("drag");return p(),_("div",R,[l(v,{modelValue:u.isShowDialog,"onUpdate:modelValue":a[8]||(a[8]=r=>u.isShowDialog=r),width:"769px"},{title:o(()=>[P((p(),_("div",q,[s(V(e.title),1)])),[[h,[".system-job-container .el-dialog",".system-job-container .el-dialog__header"]]])]),footer:o(()=>[c("span",x,[l(B,{onClick:b.onCancel,size:"small"},{default:o(()=>[w]),_:1},8,["onClick"]),l(B,{type:"primary",onClick:b.onSubmit,loading:u.loading,size:"small"},{default:o(()=>[ee]),_:1},8,["onClick","loading"])])]),default:o(()=>[l(k,{model:u.ruleForm,rules:u.ruleRules,ref:"ruleFormRef","label-width":"100px"},{default:o(()=>[l(n,{label:"\u4EFB\u52A1\u540D\u79F0",prop:"jobName"},{default:o(()=>[l(m,{modelValue:u.ruleForm.jobName,"onUpdate:modelValue":a[0]||(a[0]=r=>u.ruleForm.jobName=r),placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0"},null,8,["modelValue"])]),_:1}),l(n,{label:"\u4EFB\u52A1\u5206\u7EC4",prop:"jobGroup"},{default:o(()=>[l(d,{modelValue:u.ruleForm.jobGroup,"onUpdate:modelValue":a[1]||(a[1]=r=>u.ruleForm.jobGroup=r),placeholder:"\u8BF7\u9009\u62E9"},{default:o(()=>[(p(!0),_(C,null,y(u.jobGroupOptions,r=>(p(),D(t,{key:r.dictValue,label:r.dictLabel,value:r.dictValue},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(n,{prop:"invokeTarget"},{label:o(()=>[c("span",null,[L,l(j,{placement:"top"},{content:o(()=>[M]),default:o(()=>[H]),_:1})])]),default:o(()=>[l(m,{modelValue:u.ruleForm.invokeTarget,"onUpdate:modelValue":a[2]||(a[2]=r=>u.ruleForm.invokeTarget=r),placeholder:"\u8BF7\u8F93\u5165\u8C03\u7528\u76EE\u6807"},null,8,["modelValue"])]),_:1}),l(n,{prop:"args"},{label:o(()=>[c("span",null,[J,l(j,{placement:"top"},{content:o(()=>[W]),default:o(()=>[$]),_:1})])]),default:o(()=>[l(m,{modelValue:u.ruleForm.args,"onUpdate:modelValue":a[3]||(a[3]=r=>u.ruleForm.args=r),placeholder:"\u8C03\u7528\u53C2\u6570"},null,8,["modelValue"])]),_:1}),l(n,{label:"cron\u8868\u8FBE\u5F0F",prop:"cronExpression"},{default:o(()=>[l(m,{modelValue:u.ruleForm.cronExpression,"onUpdate:modelValue":a[4]||(a[4]=r=>u.ruleForm.cronExpression=r),placeholder:"\u8BF7\u8F93\u5165cron\u6267\u884C\u8868\u8FBE\u5F0F"},null,8,["modelValue"])]),_:1}),l(n,{label:"\u4EFB\u52A1\u7C7B\u578B",prop:"jobType"},{default:o(()=>[l(g,{modelValue:u.ruleForm.jobType,"onUpdate:modelValue":a[5]||(a[5]=r=>u.ruleForm.jobType=r),size:"small"},{default:o(()=>[l(F,{label:"1"},{default:o(()=>[K]),_:1}),l(F,{label:"2"},{default:o(()=>[Q]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"\u9519\u8BEF\u7B56\u7565",prop:"misfirePolicy"},{default:o(()=>[l(g,{modelValue:u.ruleForm.misfirePolicy,"onUpdate:modelValue":a[6]||(a[6]=r=>u.ruleForm.misfirePolicy=r),size:"small"},{default:o(()=>[l(F,{label:"1"},{default:o(()=>[X]),_:1}),l(F,{label:"2"},{default:o(()=>[Y]),_:1}),l(F,{label:"3"},{default:o(()=>[Z]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(n,{label:"\u72B6\u6001"},{default:o(()=>[l(g,{modelValue:u.ruleForm.status,"onUpdate:modelValue":a[7]||(a[7]=r=>u.ruleForm.status=r)},{default:o(()=>[(p(!0),_(C,null,y(u.statusOptions,r=>(p(),D(A,{key:r.dictValue,label:r.dictValue},{default:o(()=>[s(V(r.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}const le=T(z,[["render",oe]]);export{le as default};
