import{at as e,_ as a,u as i,A as t,k as s,m as n,V as r,l as o,p as c,a as l,o as d,X as p,Y as m,b as y}from"./index.1706230354914.js";import{l as u,M as g}from"./mapconfig.1706230354914.js";const f={name:"map",components:{},setup(){const a=i();t();const l=s({});return n((async()=>{!async function(e){const[a,i,t,s,n,r,o,c,l,d,p,m,y]=await u(["esri/Map","esri/views/SceneView","esri/layers/TileLayer","esri/layers/ElevationLayer","esri/layers/FeatureLayer","esri/core/reactiveUtils","esri/widgets/Expand","esri/Camera","esri/widgets/Home","esri/widgets/Fullscreen","esri/widgets/LayerList","esri/widgets/Legend","esri/geometry/SpatialReference"],{url:g.jsapiurl,css:g.jscssurl}),f=new a({ground:{surfaceColor:"#021425",layers:[new s({url:e.marsElevation.url,copyright:e.marsElevation.copyright})]},layers:[new t({url:e.marsImagery.url,title:e.marsImagery.title,copyright:e.marsImagery.yright})]}),w=new i({spatialReference:{wkid:104971},container:"viewDiv_function_mars3d",qualityProfile:"high",map:f,camera:{position:{x:27.63423,y:-6.34466,z:1281525.766,spatialReference:104971},heading:332.28,tilt:37.12}}),v=new n({url:e.cratersLayer.url,definitionExpression:e.cratersLayer.definitionExpression,title:e.cratersLayer.title,renderer:e.cratersLayer.renderer,labelingInfo:e.cratersLayer.labelingInfo});f.add(v);const x=new t({url:e.shadedReliefLayer.url,copyright:e.shadedReliefLayer.copyright,title:e.shadedReliefLayer.title,visible:!1});f.add(x);const h=new l({view:w});w.ui.add(h,"top-left");const L=new d({view:w});w.ui.add(L,"top-left");const _=new p({container:document.createElement("div"),id:"geojson_maplayerlist",view:w,listItemCreatedFunction:async function(e){e.item.actionsSections=[[{title:"Go to full extent",className:"esri-icon-zoom-out-fixed",id:"full-extent"}],[{title:"Increase opacity",className:"esri-icon-up",id:"increase-opacity"},{title:"Decrease opacity",className:"esri-icon-down",id:"decrease-opacity"}]]}});_.on("trigger-action",(e=>{const a=e.item.layer,i=e.action.id;"full-extent"===i?w.goTo(a.fullExtent):"increase-opacity"===i?a.opacity<1&&(a.opacity+=.25):"decrease-opacity"===i&&a.opacity>0&&(a.opacity-=.25)}));const E=new o({id:"geojson_maplayerlistExpand",view:w,content:_.domNode,expandIconClass:"esri-icon-layers",expandTooltip:"LayerList",group:"top-left"});w.ui.add(E,"top-left");const I=new m({id:"geojson_legend",view:w}),R=new o({id:"geojson_legendExpand",view:w,content:I,expandIconClass:"esri-icon-legend",expandTooltip:"Legend",group:"top-left"});w.ui.add(R,"top-left");const j=new c({fov:e.camera.fov,heading:e.camera.heading,position:{x:e.camera.position.x,y:e.camera.position.y,z:e.camera.position.z,spatialReference:{wkid:3857}},tilt:e.camera.tilt,spatialReference:e.camera.position.spatialReference});r.once((()=>!0===(null==w?void 0:w.stationary))).then((()=>{w.goTo(j,e.cameraoptions)})),r.on((()=>w),"click",(e=>{console.log("Click event emitted: ",e),console.log("view camera: ",w.camera)}))}(await e({url:"/config/function/mars3d/mars3d.json",method:"get"}))})),r((()=>{})),o((()=>a.state.tagsViewRoutes.isTagsViewCurrenFull)),{...c(l)}}},w={class:"home-container"},v=[(e=>(p("data-v-0951548e"),e=e(),m(),e))((()=>y("div",{id:"viewDiv_function_mars3d"},null,-1)))];const x=a(f,[["render",function(e,a,i,t,s,n){return d(),l("div",w,v)}],["__scopeId","data-v-0951548e"]]);export{x as default};
