/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{s as t,d as e,q as r,a as n,i as o,h as s,c as a,p as i,k as f}from"./vec3.js";import{c}from"./vec3f64.js";import{geodesicArea as m}from"../geometry/geometryEngine.js";import u from"../geometry/Polygon.js";import p from"../geometry/SpatialReference.js";import{p as l}from"./projectPointToVector.js";import{p as g}from"./projectPointToWGS84ComparableLonLat.js";import{p as h}from"./projectVectorToWGS84ComparableLonLat.js";import{InverseGeodeticSolverResult as j,inverseGeodeticSolver as d}from"../geometry/support/geodesicUtils.js";import{p as y}from"./mathUtils2.js";function P(o,s){const a=s.center;t(a,0,0,0);for(let t=0;t<o.length;++t)e(a,a,o[t]);r(a,a,1/o.length);let i=0;for(let t=0;t<o.length;++t)i=Math.max(i,n(a,o[t]));s.radius=Math.sqrt(i)}function b(t,e){if(t.length<3)throw new Error("need at least 3 points to fit a plane");y(t[0],t[1],t[2],e)}function w(t,e){return o(t,e)+t[3]}function L(t,e,r){return l(t,W,r)&&l(e,v,r)?s(W,v):0}function S(t,e){if(!g(t,W)||!g(e,v))return 0;const r=new j;return d(r,[W[0],W[1]],[v[0],v[1]]),r.distance}function T(t,e,r){const n=new j;return d(n,[t[0],t[1]],[e[0],e[1]],r),n.distance}function q(t,e,r,n){const o=C;return h(t,n,W)&&h(e,n,v)&&h(r,n,x)?(o.setPoint(0,0,W),o.setPoint(0,1,v),o.setPoint(0,2,x),Math.abs(m(o,"square-meters"))):0}function G(r,n=null,s=!0){const c=(t,e)=>{if(0===e[0]&&0===e[1]&&0===e[2])return!1;for(let r=0;r<t.length;++r)if(o(e,t[r])<-1e-6)return!1;return!0};if(0===r.length)return!1;if(1===r.length)return n&&a(n,r[0]),!0;t(E,0,0,0);for(let t=0;t<r.length;++t)e(E,E,r[t]);if(i(E,E),c(r,E))return n&&a(n,E),!0;if(!s)return!1;for(let t=0;t<r.length;++t)for(let e=0;e<r.length;++e)if(t!==e&&(f(E,r[t],r[e]),i(E,E),c(r,E)))return n&&a(n,E),!0;return!1}function M(t){return"mouse"!==t.pointerType||0===t.button}const W=c(),v=c(),x=c(),C=new u({rings:[[W,v,x]],spatialReference:p.WGS84}),E=c();export{P as a,b,S as c,L as d,G as f,M as i,w as p,T as s,q as t};
