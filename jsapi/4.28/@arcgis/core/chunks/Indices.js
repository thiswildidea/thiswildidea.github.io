/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{q as r,p as n}from"./typedArrayUtil.js";function t(t){if(r(t)){if(t.length<n)return t}else if(t.length<n)return Array.from(t);let e=!0,i=!0;return t.some(((r,n)=>(e=e&&0===r,i=i&&r===n,!e&&!i))),e?y(t.length):i?l(t.length):r(t)||t.BYTES_PER_ELEMENT!==Uint16Array.BYTES_PER_ELEMENT?function(n){let t=!0;for(const e of n){if(e>=65536)return r(n)?new Uint32Array(n):n;e>=256&&(t=!1)}return t?new Uint8Array(n):new Uint16Array(n)}(t):t}function e(r){return r<=n?new Array(r):r<=65536?new Uint16Array(r):new Uint32Array(r)}function i(r){return r<=n?new Array(r):new Uint32Array(r)}let a=(()=>{const r=new Uint32Array(131072);for(let n=0;n<r.length;++n)r[n]=n;return r})();const f=[0],u=(()=>{const r=new Uint16Array(65536);for(let n=0;n<r.length;++n)r[n]=n;return r})();function l(r){if(1===r)return f;if(r<n)return Array.from(new Uint16Array(u.buffer,0,r));if(r<u.length)return new Uint16Array(u.buffer,0,r);if(r>a.length){const n=Math.max(2*a.length,r);a=new Uint32Array(n);for(let r=0;r<a.length;r++)a[r]=r}return new Uint32Array(a.buffer,0,r)}let o=new Uint8Array(65536);function y(r){if(1===r)return f;if(r<n)return new Array(r).fill(0);if(r>o.length){const n=Math.max(2*o.length,r);o=new Uint8Array(n)}return new Uint8Array(o.buffer,0,r)}export{l as a,i as b,t as c,y as g,e as n};
