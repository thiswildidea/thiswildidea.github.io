/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import"./mathUtils.js";import{a as t,b as s,d as n,c as r,i as a,h as e,j as o}from"./vec2.js";import{c}from"./vec2f64.js";function i(t,s){return t[0]*s[1]-t[1]*s[0]}function u(r,e,c,i,u=c){return t(N,i,c),t(m,e,u),function(t,r,a){const e=n(a,m)/s(a);o(t,a,e)}(y,0,N),a(r,u,y)}function f(s,n,a,o){t(N,n,a);const c=o/e(N);return r(s,a,N,c)}function p(s,n){const a=s.start,e=s.end,o=n.start,c=n.end,u=t(N,e,a),f=t(h,c,o),p=i(u,f);if(Math.abs(p)<=I)return[];const L=t(m,a,o),d=i(f,L)/p,j=i(u,L)/p;if(d>=0){if(j>=0||n.type===E.LINE)return[r(y,a,u,d)]}else if(s.type===E.LINE&&(j>=0||n.type===E.LINE))return[r(y,a,u,d)];return[]}function L(a,e,o){const c=[],i=t(N,a.end,a.start),u=t(h,a.start,e),f=s(i),p=2*n(i,u),L=p*p-4*f*(s(u)-o*o);if(0===L){const t=-p/(2*f);(a.type===E.LINE||t>=0)&&c.push(r(y,a.start,i,t))}else if(L>0){const t=Math.sqrt(L),s=(-p+t)/(2*f);(a.type===E.LINE||s>=0)&&c.push(r(y,a.start,i,s));const n=(-p-t)/(2*f);(a.type===E.LINE||n>=0)&&c.push(r(m,a.start,i,n))}return c}var E;!function(t){t[t.RAY=0]="RAY",t[t.LINE=1]="LINE"}(E||(E={}));const I=1e-6,N=c(),h=c(),m=c(),y=c();export{E as L,f as a,p as b,L as i,u as p};
