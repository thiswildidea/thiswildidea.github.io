/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{_ as e}from"./tslib.es6.js";import{i as t}from"./typedArrayUtil.js";import{d as o}from"./maybe.js";import{property as l}from"../core/accessorSupport/decorators/property.js";import"./ensureType.js";import{subclass as s}from"../core/accessorSupport/decorators/subclass.js";import i,{l as n}from"../widgets/Widget.js";import{g as p}from"./globalCss.js";import{l as r,L as a}from"../widgets/support/SnappingControls.js";import{l as d}from"./legacyIcon.js";import"./widgetUtils.js";import{m as c}from"./messageBundle.js";import{t as h}from"./jsxFactory.js";import b from"../core/Accessor.js";import g from"../views/interactive/sketch/SketchLabelOptions.js";import u from"../views/interactive/sketch/SketchTooltipOptions.js";let m=class extends b{constructor(e){super(e),this.header=!1,this.labelsToggle=!0,this.tooltipsToggle=!0}};e([l({type:Boolean,nonNullable:!0})],m.prototype,"header",void 0),e([l({type:Boolean,nonNullable:!0})],m.prototype,"labelsToggle",void 0),e([l({type:Boolean,nonNullable:!0})],m.prototype,"tooltipsToggle",void 0),m=e([s("esri.widgets.support.SketchTooltipControls.VisibleElements")],m);const w=m;let v=class extends b{constructor(e){super(e),this.labelOptions=new g,this.tooltipOptions=new u}};e([l({type:g,nonNullable:!0})],v.prototype,"labelOptions",void 0),e([l({type:u,nonNullable:!0})],v.prototype,"tooltipOptions",void 0),v=e([s("esri.widgets.support.SketchTooltipControls.SketchTooltipControlsViewModel")],v);const y=v,_="esri-sketch-tooltip-controls",T={base:_,widgetIcon:d.gear,block:`${_}__block`,blockContent:`${_}__block-content`,hintIcon:`${_}__hint-icon`};let k=class extends i{constructor(e,t){super(e,t),this._defaultViewModel=null,this.icon=null,this.iconClass=T.widgetIcon,this.visibleElements=new w,this.viewType=void 0,this._onTooltipsEnabledChange=e=>{this.tooltipOptions.enabled=e},this._onLabelsEnabledChange=e=>{this.labelOptions.enabled=e};const{tooltipOptions:o,labelOptions:l,viewModel:s}=e;this.viewModel=s??(this._defaultViewModel=new y({tooltipOptions:o,labelOptions:l}))}loadDependencies(){return Promise.all([n({block:()=>import("./calcite-block.js")}),r()])}render(){const{label:e,visibleElements:t}=this,o=this._renderContent();return h("div",{"aria-label":e,class:this.classes(T.base,p.widget)},o?h("calcite-block",{class:T.block,heading:t.header?this.label:"",key:"content-block",open:!0},h("div",{class:T.blockContent,key:"content"},o)):void 0)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get labelOptions(){return this.viewModel.labelOptions}set labelOptions(e){this.viewModel.labelOptions=e}get tooltipOptions(){return this.viewModel.tooltipOptions}set tooltipOptions(e){this.viewModel.tooltipOptions=e}set viewModel(e){e!==this._get("viewModel")&&(null!=this._defaultViewModel&&this._defaultViewModel===e||(this._defaultViewModel=o(this._defaultViewModel)),this._set("viewModel",e))}_renderContent(){const{visibleElements:e,viewType:o}=this,l=[e.tooltipsToggle?this._renderTooltipsToggle():null,e.labelsToggle&&"2d"!==o?this._renderLabelsToggle():null].filter(t);return 0===l.length?null:l}_renderTooltipsToggle(){const{messages:e,tooltipOptions:t}=this;return h(a,{checked:t.enabled,hint:e.tooltipsToggleHint,key:`${this.id}__tooltips`,label:e.tooltipsToggle,onChange:this._onTooltipsEnabledChange})}_renderLabelsToggle(){const{messages:e,labelOptions:t}=this;return h(a,{checked:t.enabled,hint:e.labelsToggleHint,key:`${this.id}__labels`,label:e.labelsToggle,onChange:this._onLabelsEnabledChange})}};e([l()],k.prototype,"icon",void 0),e([l()],k.prototype,"iconClass",void 0),e([l()],k.prototype,"label",null),e([l()],k.prototype,"labelOptions",null),e([l()],k.prototype,"tooltipOptions",null),e([l()],k.prototype,"viewModel",null),e([l({type:w,nonNullable:!0})],k.prototype,"visibleElements",void 0),e([l(),c("esri/widgets/support/SketchTooltipControls/t9n/SketchTooltipControls")],k.prototype,"messages",void 0),e([l({type:String})],k.prototype,"viewType",void 0),k=e([s("esri.widgets.support.SketchTooltipControls")],k);const O=k;export{w as S,O as a};
