/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.28/esri/copyright.txt for details.
*/
import{c as n}from"./unitFormatUtils.js";import{f as t,af as r,ae as e}from"./unitUtils.js";import{h as i,s as o}from"./vec3.js";import{c as l}from"./vec3f64.js";import{p as a}from"./projectVectorToVector.js";import{c}from"./measurementUtils2.js";var s;function u(n){return p(n,s.Direct)}function f(n){return p(n,s.Horizontal)}function p(t,r){const{hasZ:i,spatialReference:o}=t,l=c(o);let a=0;const u=e(l);if(null==u)return null;const f=r===s.Direct?x:R;for(const n of t.paths){if(n.length<2)continue;const t=n.length-1;for(let r=0;r<t;++r){const t=n[r];y[0]=t[0],y[1]=t[1],y[2]=i?t[2]:0;const e=n[r+1];d[0]=e[0],d[1]=e[1],d[2]=i?e[2]:0;const l=f(y,d,o);if(null==l)return null;a+=l.value}}return n(a,u)}function h(n,r){const{spatialReference:e}=n;return t(e,r.spatialReference)?(y[0]=n.x,y[1]=n.y,y[2]=n.hasZ?n.z:0,d[0]=r.x,d[1]=r.y,d[2]=r.hasZ?r.z:0,x(y,d,e)):null}function m(n,r){const{spatialReference:e}=n;return t(e,r.spatialReference)?(y[0]=n.x,y[1]=n.y,y[2]=n.hasZ?n.z:0,d[0]=r.x,d[1]=r.y,d[2]=r.hasZ?r.z:0,R(y,d,e)):null}function z(n,r){const{spatialReference:e}=n;return t(e,r.spatialReference)?(y[0]=n.x,y[1]=n.y,y[2]=n.hasZ?n.z:0,d[0]=r.x,d[1]=r.y,d[2]=r.hasZ?r.z:0,Z(y,d,e)):null}function v(t){return y[0]=t.x,y[1]=t.y,y[2]=t.hasZ?t.z:0,function(t,e){const i=r(e);return null!=i?n(t[2],i):null}(y,t.spatialReference)}function x(t,r,e){const i=j(t,r,e,s.Direct);return null!=i?n(i.direct,i.unit):null}function R(t,r,e){const i=j(t,r,e,s.Horizontal);return null!=i?n(i.horizontal,i.unit):null}function Z(t,r,e){const i=j(t,r,e,s.Vertical);return null!=i?n(i.verticalSigned,i.unit):null}function j(n,t,r,l){const u=c(r),f=e(u);if(null==f)return null;const p=t[2]-n[2];if(l===s.Vertical)return{verticalSigned:p,unit:f};if(!a(n,r,D,u)||!a(t,r,V,u))return null;if(l===s.Direct)return{direct:i(V,D),unit:f};if(o(g,n[0],n[1],t[2]),!a(g,r,g,u))return null;const h=i(g,V);return l===s.Horizontal?{horizontal:h,unit:f}:{direct:i(V,D),horizontal:h,vertical:Math.abs(p),unit:f}}!function(n){n[n.Direct=0]="Direct",n[n.Horizontal=1]="Horizontal",n[n.Vertical=2]="Vertical"}(s||(s={}));const y=l(),d=l(),D=l(),V=l(),g=l();export{u as a,m as b,h as c,R as d,f as e,x as f,v as g,Z as h,z as v};
