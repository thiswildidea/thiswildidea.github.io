// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
//>>built
require({cache:{"esri/smartMapping/statistics/support/utils":function(){define("exports ../../../geometry ../../../core/Error ../../../core/screenUtils ../../../core/timeUtils ../../../geometry/SpatialReference ../../../geometry/support/quantizationUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/support/fieldUtils ../../../renderers/support/heatmapUtils ../../support/utils ../../../statistics/utils ../../../support/arcadeOnDemand ../../../geometry/Point".split(" "),function(f,
g,w,h,x,l,y,H,D,m,p,F,u,k){function z(b){b=V.exec(b);if(!b)return null;const {hh:v,mm:G,ss:L,ms:U}=b.groups;return Number(v)*x.millisecondsPerTimeUnit.hours+Number(G)*x.millisecondsPerTimeUnit.minutes+Number(L)*x.millisecondsPerTimeUnit.seconds+Number(U||0)}function E(b,v){b=null!=b?b:"";null!=v&&v&&(b=b?"("+b+") AND ("+v+")":v);return b}function M(b){const v=b.layer;return b.fields.filter(G=>!v.getField(G))}function T(b){const v=b.layer;return b.fields.filter(G=>{G=v.getFieldUsageInfo(G);return!G||
!G.supportsStatistics})}let Q=null;const V=/^(?<hh>([0-1][0-9])|([2][0-3])):(?<mm>[0-5][0-9])(:(?<ss>[0-5][0-9]))?([.](?<ms>\d+))?$/;f.calculateHeatmapStats=function(b,v=18,G,L,U,C){const A=new Float64Array(U*C);v=Math.round(h.pt2px(v));let r=Number.POSITIVE_INFINITY,J=Number.NEGATIVE_INFINITY;var d=0;let e=0,q=0,B=0;G=m.createValueFunction(L,G);for(const {geometry:W,attributes:Z}of b){const {x:ca,y:da}=W;b=Math.max(0,ca-v);d=Math.max(0,da-v);L=Math.min(C,da+v);const na=Math.min(U,ca+v),oa=+G(Z);
for(let pa=d;pa<L;pa++)for(let qa=b;qa<na;qa++){d=pa*U+qa;const ia=m.evaluateDensityKernel(qa-ca,pa-da,v);var S=A[d];d=A[d]+=ia*oa;S=d-S;e+=S;q+=S*S;d<r&&(r=d);d>J&&(J=d);B++}}return B?{mean:e/B,stdDev:Math.sqrt((q-e*e/B)/B),min:r,max:J,mid:(J-r)/2,count:B}:{mean:0,stddev:0,min:0,max:0,mid:0,count:0}};f.getDataValues=async function(b,v,G=!0){if(!v)return[];const {field:L,field2:U,field3:C,fieldDelimiter:A,fieldInfos:r,timeZone:J}=b;var d=L&&r?.find(pa=>pa.name.toLowerCase()===L.toLowerCase());const e=
d?D.isTimeOnlyField(d):!1,q=d?p.isAnyDateField(d):!1,B=b.valueExpression,S=b.normalizationType,W=b.normalizationField,Z=b.normalizationTotal,ca=[];d=b.viewInfoParams;let da=null,na=null;if(B){if(!Q){const {arcadeUtils:pa}=await u.loadArcade();Q=pa}Q.hasGeometryOperations(B)&&await Q.enableGeometryOperations();da=Q.createFunction(B);na=d?Q.getViewInfo({viewingMode:d.viewingMode,scale:d.scale,spatialReference:new l(d.spatialReference)}):null}b=b.fieldInfos;const oa=v[0]&&"declaredClass"in v[0]&&"esri.Graphic"===
v[0].declaredClass||!b?null:{fields:b};v.forEach(pa=>{var qa=pa.attributes;if(B){var ia=Q.createExecContext(oa?{...pa,layer:oa}:pa,na,J);ia=Q.executeFunction(da,ia)}else qa&&(ia=qa[L],U?(ia=`${F.processNullValue(ia)}${A}${F.processNullValue(qa[U])}`,C&&(ia=`${ia}${A}${F.processNullValue(qa[C])}`)):"string"===typeof ia&&G&&(q?ia=ia?(new Date(ia)).getTime():null:e&&(ia=ia?z(ia):null)));S&&"number"===typeof ia&&isFinite(ia)&&(qa=qa&&parseFloat(qa[W]),ia=F.getNormalizedValue(ia,S,qa,Z));ca.push(ia)});
return ca};f.getRangeExpr=function(b,v,G){v=null!=v?b+" \x3e\x3d "+v:"";b=null!=G?b+" \x3c\x3d "+G:"";G="";return(G=v&&b?E(v,b):v||b)?"("+G+")":""};f.getSQLFilterForNormalization=function(b){const v=b.field,G=b.normalizationType;b=b.normalizationField;let L;if("field"===G)L="(NOT "+b+" \x3d 0)";else if("log"===G||"natural-log"===G||"square-root"===G)L=`(${v} > 0)`;return L};f.getSumOfAttributesExpr=function(b,v,G){const L=[],U=[],C=[],A=[],r=[];b.forEach((e,q)=>{const B=e.field?"field":"expression",
S=e.field||e.valueExpression;e.field?(r.push(S),U.push(`var ${B}${q} = Number($feature["${S}"]);`)):(L.push(`function getValueForExpr${q}() {\n  ${S} \n}`),U.push(`var ${B}${q} = Number(getValueForExpr${q}());`));G||C.push(`${B}${q} = IIf(${B}${q} < 0, 0, ${B}${q});`);A.push(`${B}${q}`)});b="return sum;";const J=L.length?null:r.reduce((e,q)=>`${e} + ${q}`);let d=null;v||G?v?G||(b="return IIf(sum \x3e\x3d 0, sum, null);",J&&(d=`(( ${J} ) >= 0)`)):(b="return IIf(sum !\x3d 0, sum, null);",J&&(d=`(( ${J} ) <> 0)`)):
(b="return IIf(sum \x3e 0, sum, null);",J&&(d=`(( ${J} ) > 0)`));return{valueExpression:[L.length?L.join("\n"):"",U.join("\n"),C.join("\n"),`var sum = ${A.join(" + ")};`,b].filter(Boolean).join("\n\n"),sqlExpression:J,sqlWhere:d}};f.mergeWhereClauses=E;f.quantizeFeatures=function(b,v,G,L){const U=H.isWrappable(G)?H.getInfo(G):null,C=U?Math.round((U.valid[1]-U.valid[0])/v.scale[0]):null;return b.map(A=>{const r=new k(A.geometry);y.quantizePoint(v,r,r,r.hasZ,r.hasM);if(U){var J=C??0,d=L[0];0>r.x?r.x+=
J:r.x>d&&(r.x-=J)}A.geometry=r;return A})};f.timeOnlyToMilliseconds=z;f.verifyBasicFieldValidity=function(b,v,G){const L=M({layer:b,fields:v});if(L.length)return new w(G,"Unknown fields: "+L.join(", ")+". You can only use fields defined in the layer schema");b=T({layer:b,fields:v});if(b.length)return new w(G,"Unsupported fields: "+b.join(", ")+". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true")};f.verifyFieldType=function(b,v,G,L){let U;v?v.name!==
b.objectIdField&&L.includes(v.type)||(U=new w(G,"'field' should be one of these types: "+L.join(","))):U=new w(G,"'field' is not defined in the layer schema");return U};f.verifyFilterValidty=function(b,v){if(b&&"intersects"!==b.spatialRelationship)return new w(v,"Only 'intersects' spatialRelationship is supported for featureFilter")};f.verifyNumericField=function(b,v,G){let L;v?v.name!==b.objectIdField&&D.isNumericField(v)||(L=new w(G,"'field' should be one of these numeric types: "+D.numericTypes.join(","))):
L=new w(G,"'field' is not defined in the layer schema");return L};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/screenUtils":function(){define(["exports"],function(f){function g(h){return h?72*h/96:0}const w=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;f.castRenderScreenPointArray=function(h){return h};f.castRenderScreenPointArray3=function(h){return h};f.castScreenPointArray=function(h){return h};f.createRenderScreenPoint=function(h=0,x=0){return{x:h,y:x}};f.createRenderScreenPointArray=
function(h=0,x=0){return[h,x]};f.createRenderScreenPointArray3=function(h=0,x=0,l=0){return[h,x,l]};f.createScreenPoint=function(h=0,x=0){return{x:h,y:x}};f.createScreenPointArray=function(h=0,x=0){return[h,x]};f.pt2px=function(h){return h?h/72*96:0};f.px2pt=g;f.screenPointArrayToObject=function(h,x){return x?(x.x=h[0],x.y=h[1],x):{x:h[0],y:h[1]}};f.screenPointObjectToArray=function(h,x){return x?(x[0]=h.x,x[1]=h.y,2<x.length&&(x[2]=0),x):[h.x,h.y]};f.toPt=function(h){if("string"===typeof h){var x=
h.match(w);if(x){var l=Number(x[1]);x=x[3]&&x[3].toLowerCase();h="-"===h.charAt(0);l="px"===x?g(l):l;return h?-l:l}console.warn("screenUtils.toPt: input not recognized!");return null}return h};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/timeUtils":function(){define(["exports","../intl/date","../time/timeZoneUtils","../chunks/datetime"],function(f,g,w,h){function x(H,D,m){return 0===H?0:H*y[D]/y[m]}function l(H){switch(H){case "milliseconds":return"millisecond";case "seconds":return"second";
case "minutes":return"minute";case "hours":return"hour";case "days":return"day";case "weeks":return"week";case "months":return"month";case "years":return"year"}}const y={milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8};f.convertTime=x;f.isValidDate=function(H){return H instanceof Date&&!isNaN(H.getTime())};f.makeUTCTime=function(H,D,m="milliseconds"){D=new Date(x(D,m,"milliseconds"));D.setUTCFullYear(H.getUTCFullYear(),
H.getUTCMonth(),H.getUTCDate());return D};f.mergeTimeExtents=function(H,D){return H&&D?H.intersection(D):H||D};f.millisecondsPerTimeUnit=y;f.offsetDate=function(H,D,m,p=w.system){p=new h.IANAZone(g.resolveTimeZone(p));H=h.DateTime.fromJSDate(H,{zone:p});p="decades"===m||"centuries"===m?"year":l(m);"decades"===m&&(D*=10);"centuries"===m&&(D*=100);return H.plus({[p]:D}).toJSDate()};f.offsetDateUTC=function(H,D,m="milliseconds"){H=H.getTime();D=x(D,m,"milliseconds");return new Date(H+D)};f.resetUTCDate=
function(H,D){H=new Date(H.getTime());H.setUTCFullYear(D.getFullYear(),D.getMonth(),D.getDate());return H};f.timeSinceUTCMidnight=function(H,D="milliseconds"){const m=x(H.getUTCHours(),"hours","milliseconds"),p=x(H.getUTCMinutes(),"minutes","milliseconds"),F=x(H.getUTCSeconds(),"seconds","milliseconds");H=H.getUTCMilliseconds();return x(m+p+F+H,"milliseconds",D)};f.truncateDate=function(H,D,m=w.system){m=new h.IANAZone(g.resolveTimeZone(m));H=h.DateTime.fromJSDate(H,{zone:m});if("decades"===D||"centuries"===
D)return H=H.startOf("year"),{year:m}=H,H.set({year:m-m%("decades"===D?10:100)}).toJSDate();D=l(D);return H.startOf(D).toJSDate()};f.truncateLocalTime=function(H){const D=new Date(0);D.setHours(0);D.setMinutes(0);D.setSeconds(0);D.setMilliseconds(0);D.setFullYear(H.getUTCFullYear(),H.getUTCMonth(),H.getUTCDate());return D};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/quantizationUtils":function(){define(["exports","./jsonUtils"],function(f,g){function w({scale:C,
translate:A},r){return Math.round((r-A[0])/C[0])}function h({scale:C,translate:A},r){return Math.round((A[1]-r)/C[1])}function x(C,A,r){const J=[];let d,e,q,B;for(let S=0;S<r.length;S++){const W=r[S];if(0<S){if(q=w(C,W[0]),B=h(C,W[1]),q!==d||B!==e)J.push(A(W,q-d,B-e)),d=q,e=B}else d=w(C,W[0]),e=h(C,W[1]),J.push(A(W,d,e))}return 0<J.length?J:null}function l(C,A,r,J){return x(C,r?J?U:L:J?L:G,A)}function y(C,A,r,J){const d=[];r=r?J?U:L:J?L:G;for(J=0;J<A.length;J++){const e=x(C,r,A[J]);e&&3<=e.length&&
d.push(e)}return d.length?d:null}function H(C,A,r,J){const d=[];r=r?J?U:L:J?L:G;for(J=0;J<A.length;J++){const e=x(C,r,A[J]);e&&2<=e.length&&d.push(e)}return d.length?d:null}function D({scale:C,translate:A},r){return r*C[0]+A[0]}function m({scale:C,translate:A},r){return A[1]-r*C[1]}function p(C,A,r){const J=Array(r.length);if(!r.length)return J;const [d,e]=C.scale;let q=D(C,r[0][0]);C=m(C,r[0][1]);J[0]=A(r[0],q,C);for(let B=1;B<r.length;B++){const S=r[B];q+=S[0]*d;C-=S[1]*e;J[B]=A(S,q,C)}return J}
function F(C,A,r){const J=Array(r.length);for(let d=0;d<r.length;d++)J[d]=p(C,A,r[d]);return J}function u(C,A,r,J){return p(C,r?J?U:L:J?L:G,A)}function k(C,A,r,J){return F(C,r?J?U:L:J?L:G,A)}function z(C,A,r,J){return F(C,r?J?U:L:J?L:G,A)}function E(C,A,r){let [J,d]=r[0],e=Math.min(J,A[0]),q=Math.min(d,A[1]),B=Math.max(J,A[2]);A=Math.max(d,A[3]);for(let S=1;S<r.length;S++){const [W,Z]=r[S];J+=W;d+=Z;0>W&&(e=Math.min(e,J));0<W&&(B=Math.max(B,J));0>Z?q=Math.min(q,d):0<Z&&(A=Math.max(A,d))}C[0]=e;C[1]=
q;C[2]=B;C[3]=A;return C}function M(C,A){if(!A.length)return null;C[0]=C[1]=Number.POSITIVE_INFINITY;C[2]=C[3]=Number.NEGATIVE_INFINITY;for(let r=0;r<A.length;r++)E(C,C,A[r]);return C}function T(C,A,r,J,d){A.xmin=w(C,r.xmin);A.ymin=h(C,r.ymin);A.xmax=w(C,r.xmax);A.ymax=h(C,r.ymax);A!==r&&(J&&(A.zmin=r.zmin,A.zmax=r.zmax),d&&(A.mmin=r.mmin,A.mmax=r.mmax));return A}function Q(C,A,r,J,d){A.points=l(C,r.points,J,d)??[];return A}function V(C,A,r,J,d){A.x=w(C,r.x);A.y=h(C,r.y);A!==r&&(J&&(A.z=r.z),d&&(A.m=
r.m));return A}function b(C,A,r,J,d){C=y(C,r.rings,J,d);if(!C)return null;A.rings=C;return A}function v(C,A,r,J,d){C=H(C,r.paths,J,d);if(!C)return null;A.paths=C;return A}const G=(C,A,r)=>[A,r],L=(C,A,r)=>[A,r,C[2]],U=(C,A,r)=>[A,r,C[2],C[3]];f.equals=function(C,A){if(C===A||null==C&&null==A)return!0;if(null==C||null==A)return!1;let r,J,d,e;C&&"upperLeft"===C.originPosition?(r=C.translate[0],J=C.translate[1],C=C.scale[0]):(r=null!=C.extent?C.extent.xmin:0,J=null!=C.extent?C.extent.ymax:0,C=C.tolerance);
A&&"upperLeft"===A.originPosition?(d=A.translate[0],e=A.translate[1],A=A.scale[0]):(d=null!=A.extent?A.extent.xmin:0,e=null!=A.extent?A.extent.ymax:0,A=A.tolerance);return r===d&&J===e&&C===A};f.getQuantizedBoundsCoordsArray=E;f.getQuantizedBoundsCoordsArrayArray=M;f.getQuantizedBoundsPaths=function(C){return M([0,0,0,0],C)};f.getQuantizedBoundsPoints=function(C){const A=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return E(A,A,C)};f.getQuantizedBoundsRings=
function(C){return M([0,0,0,0],C)};f.quantizeBounds=function(C,A,r){A[0]=w(C,r[0]);A[3]=h(C,r[1]);A[2]=w(C,r[2]);A[1]=h(C,r[3]);return A};f.quantizeExtent=T;f.quantizeGeometry=function(C,A){return C&&A?g.isPoint(A)?V(C,{},A,!1,!1):g.isPolyline(A)?v(C,{},A,!1,!1):g.isPolygon(A)?b(C,{},A,!1,!1):g.isMultipoint(A)?Q(C,{},A,!1,!1):g.isExtent(A)?T(C,{},A,!1,!1):null:null};f.quantizeMultipoint=Q;f.quantizePaths=H;f.quantizePoint=V;f.quantizePoints=l;f.quantizePolygon=b;f.quantizePolyline=v;f.quantizeRings=
y;f.quantizeX=w;f.quantizeY=h;f.toQuantizationTransform=function(C){return C?{originPosition:"upper-left"===C.originPosition?"upperLeft":"lower-left"===C.originPosition?"lowerLeft":C.originPosition,scale:C.tolerance?[C.tolerance,C.tolerance]:[1,1],translate:null!=C.extent?[C.extent.xmin,C.extent.ymax]:[0,0]}:null};f.unquantizeBounds=function(C,A,r){return r?(A[0]=D(C,r[0]),A[1]=m(C,r[3]),A[2]=D(C,r[2]),A[3]=m(C,r[1]),A):[D(C,A[0]),m(C,A[3]),D(C,A[2]),m(C,A[1])]};f.unquantizeCoordsArray=p;f.unquantizeCoordsArrayArray=
F;f.unquantizeExtent=function(C,A,r,J,d){A.xmin=D(C,r.xmin);A.ymin=m(C,r.ymin);A.xmax=D(C,r.xmax);A.ymax=m(C,r.ymax);A!==r&&(J&&(A.zmin=r.zmin,A.zmax=r.zmax),d&&(A.mmin=r.mmin,A.mmax=r.mmax));return A};f.unquantizeMultipoint=function(C,A,r,J,d){null!=r&&(A.points=u(C,r.points,J,d));return A};f.unquantizePaths=k;f.unquantizePoint=function(C,A,r,J,d){if(null==r)return A;A.x=D(C,r.x);A.y=m(C,r.y);A!==r&&(J&&(A.z=r.z),d&&(A.m=r.m));return A};f.unquantizePoints=u;f.unquantizePolygon=function(C,A,r,J,d){null!=
r&&(A.rings=z(C,r.rings,J,d));return A};f.unquantizePolyline=function(C,A,r,J,d){null!=r&&(A.paths=k(C,r.paths,J,d));return A};f.unquantizeRings=z;f.unquantizeX=D;f.unquantizeY=m;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/heatmapUtils":function(){define(["exports","../../core/mathUtils","../../core/screenUtils","../../chunks/vec4","../../chunks/vec4f64"],function(f,g,w,h,x){function l(m,p,F,u){let {color:k,ratio:z}=p,{color:E,ratio:M}=F;M===z&&(1===M?z-=
1E-6:M+=1E-6);p=g.clamp((u-z)/(M-z),0,1);h.lerp(m,k.toArray(),E.toArray(),p)}function y(m,p,F,u,k){m=new Uint32Array(m*m);p="buffer"in p?p:new Float64Array(p);F="buffer"in F?new Uint32Array(F.buffer):new Uint32Array((new Uint8Array(F)).buffer);k=F.length/(k-u);for(let z=0;z<p.length;z++)m[z]=F[g.clamp(Math.floor((p[z]-u)*k),0,F.length-1)];return m.buffer}function H(m,p,F){m=Math.sqrt(m**2+p**2)/F;return 1<m?0:3/(Math.PI*F**2)*(1-m**2)**2}function D(m,p){return null!=m?"string"===typeof p?F=>-1*+F.readAttribute(m):
F=>+F.readAttribute(m)+p:F=>1}f.calculateHeatmapIntensityInfoReaders=function(m,p,F,u){const {radius:k,fieldOffset:z,field:E}=p;p=Math.round(w.pt2px(k));const M=new Float64Array(F*u);let T=Number.NEGATIVE_INFINITY;const Q=D(E,z),V=new Set;for(const L of m)for(m=L.getCursor();m.next();){var b=m.getObjectId();if(V.has(b))continue;V.add(b);b=m.readLegacyPointGeometry();if(-128>b.x||b.x>=F+128||-128>b.y||b.y>u+128)continue;const U=+Q(m),C=Math.max(0,Math.round(b.x)-p);var v=Math.max(0,Math.round(b.y)-
p);const A=Math.min(u,Math.round(b.y)+p),r=Math.min(F,Math.round(b.x)+p);for(;v<A;v++)for(let J=C;J<r;J++){var G=v*F+J;const d=H(b.x-J,b.y-v,p);G=M[G]+=d*U;G>T&&(T=G)}}return{matrix:M.buffer,max:T}};f.createHeatmapImageData=y;f.createValueFunction=function(m,p){return"function"===typeof m?m:m?"string"===typeof p?F=>-1*+F[m]:F=>+F[m]+p:()=>1};f.createValueFunctionCursor=D;f.drawHeatmap=function(m,p,F,u,k,z){m.canvas.width=m.canvas.height=p;m.clearRect(0,0,p,p);const E=m.getImageData(0,0,p,p);F&&u&&
E.data.set(new Uint8ClampedArray(y(p,F,u,k,z)));m.putImageData(E,0,0)};f.evaluateDensityKernel=H;f.gaussianBlurRadiusPxToKernelDensityRadiusPt=function(m){return w.px2pt(2.4*m)};f.generateGradient=function(m){const p=new Uint8ClampedArray(2048);m=m.filter(({ratio:E})=>0<=E&&1>=E).sort((E,M)=>E.ratio-M.ratio).map(({color:E,ratio:M})=>({color:E,ratio:Math.max(M,.001)}));if(1>m.length)return p;let F=m[0],u=m[0],k=1;const z=x.create();for(let E=0;512>E;E++){const M=(E+.5)/512;for(;M>u.ratio&&k<m.length;)F=
u,u=m[k++];l(z,F,u,M);p.set(z,4*E)}return p};f.kernelDensityRadiusPtToGaussianBlurRadiusPx=function(m){return w.pt2px(m)/2.4};f.magicKernelDensityRadiusInflationFactor=2.4;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/smartMapping/support/utils":function(){define("exports ../../intl/date ../../layers/support/fieldUtils ../../support/arcadeOnDemand ../../support/basemapUtils ../../time/timeZoneUtils".split(" "),function(f,g,w,h,x,l){function y(k){return String(k).padStart(2,
"0")}function H(k,z,E){if("date"===z||"number"===z){"number"===z&&(k=new Date(k));z=E?k.getFullYear():k.getUTCFullYear();const M=y((E?k.getMonth():k.getUTCMonth())+1),T=y(E?k.getDate():k.getUTCDate()),Q=y(E?k.getHours():k.getUTCHours()),V=y(E?k.getMinutes():k.getUTCMinutes());k=y(E?k.getSeconds():k.getUTCSeconds());k=`TIMESTAMP'${z}-${M}-${T} ${Q}:${V}:${k}'`}return k}function D(k,z){if(z instanceof Date)return"date";if("number"===typeof z)return"number";if("string"===typeof z&&(k=k.getField(z),"\x3cnow\x3e"!==
z.toLowerCase()&&w.isDateField(k)))return"field"}const m={light:"streets gray topo terrain oceans osm gray-vector streets-vector topo-vector streets-relief-vector streets-navigation-vector topo-3d navigation-3d arcgis-light-gray arcgis-navigation arcgis-streets arcgis-streets-relief arcgis-topographic arcgis-oceans osm-standard osm-standard-relief osm-streets osm-streets-relief osm-light-gray arcgis-terrain arcgis-charted-territory arcgis-community arcgis-colored-pencil arcgis-modern-antique arcgis-midcentury arcgis-newspaper arcgis-hillshade-light".split(" "),
dark:"satellite hybrid dark-gray dark-gray-vector streets-night-vector navigation-dark-3d arcgis-imagery arcgis-imagery-standard arcgis-dark-gray arcgis-navigation-night arcgis-streets-night osm-dark-gray arcgis-nova arcgis-hillshade-dark".split(" ")},p={years:365,months:30,days:1,hours:1/24,minutes:1/1440,seconds:1/86400,milliseconds:1/864E5},F=new Set(["integer","small-integer"]);let u=null;f.castIntegerFieldToFloat=function(k){return`cast(${k} as float)`};f.dateTypes=["date","date-only","timestamp-offset"];
f.defaultBasemapGroups=m;f.fieldDelimiter=",";f.formatAnyDate=function(k,z){const {format:E,timeZoneOptions:M,fieldType:T}=z??{};let Q;M&&({timeZone:V,timeZoneName:Q}=l.getTimeZoneFormattingOptions(M.layerTimeZone,M.datesInUnknownTimezone,M.viewTimeZone,g.convertDateFormatToIntlOptions(E||"short-date-short-time"),T));if("string"===typeof k&&isNaN(Date.parse("time-only"===T?`1970-01-01T${k}Z`:k)))return k;switch(T){case "date-only":var V=g.convertDateFormatToIntlOptions(E||"short-date");return"string"===
typeof k?g.formatDateOnly(k,{...V}):g.formatDate(k,{...V,timeZone:l.utc});case "time-only":return V=g.convertDateFormatToIntlOptions(E||"short-time"),"string"===typeof k?g.formatTimeOnly(k,V):g.formatDate(k,{...V,timeZone:l.utc});case "timestamp-offset":if(!V&&"string"===typeof k&&(new Date(k)).toISOString()!==k)return k;V=(z=E||M?g.convertDateFormatToIntlOptions(E||"short-date-short-time"):void 0)?{...z,timeZone:V,timeZoneName:Q}:void 0;return"string"===typeof k?g.formatTimestamp(k,V):g.formatDate(k,
V);default:return z=E||M?g.convertDateFormatToIntlOptions(E||"short-date-short-time"):void 0,g.formatDate("string"===typeof k?new Date(k):k,z?{...z,timeZone:V,timeZoneName:Q}:void 0)}};f.getBasemapGroup=function(k,z=m){for(const E in z)if(z[E].includes(k))return E};f.getBasemapId=function(k,z,E=!0){let M=null;k&&("string"===typeof k?z.includes(k)&&(M=k):M=x.getWellKnownBasemapId(k));return E?M||"gray":M};f.getDateDiffSQL=function(k,z,E,M){const {hasQueryEngine:T}=k;E=H(E,D(k,E),T);k=H(z,D(k,z),T);
k=`(${E} - ${k})`;M=p[M];z="/";1>M&&(M=1/M,z="*");return{sqlExpression:1===M?k:`(${k} ${z} ${M})`,sqlWhere:null}};f.getDateType=D;f.getFieldsList=async function(k){const {field:z,field2:E,field3:M,normalizationField:T,valueExpression:Q}=k;k=[];Q&&(u||({arcadeUtils:k}=await h.loadArcade(),u=k),k=u.extractFieldNames(Q));z&&k.push(z);E&&k.push(E);M&&k.push(M);T&&k.push(T);return k};f.getNormalizationType=function(k){let z=k.normalizationType;z||(k.normalizationField?z="field":null!=k.normalizationTotal&&
(z="percent-of-total"));return z??void 0};f.isAnyDateField=function(k){return w.isDateField(k)||w.isDateOnlyField(k)||w.isTimestampOffsetField(k)};f.isIntegerField=function(k,z){k=z&&k.getField(z);return!!k&&F.has(k.type)};f.unitValueInDays=p;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/support/basemapUtils":function(){define("exports ../Basemap ../config ../core/Collection ../core/Logger ../core/maybe ../core/urlUtils ../core/accessorSupport/ensureType ../layers/effects/utils ./basemapDefinitions".split(" "),
function(f,g,w,h,x,l,y,H,D,m){function p(d,e){let q;if("string"===typeof d){const B=d in m.esriBasemapDefinitions,S=!B&&d.includes("/");if(!B&&!S)return e=Object.entries(m.esriBasemapDefinitions).filter(([,W])=>w.apiKey&&!W.classic||!w.apiKey&&(W.classic||W.is3d)).map(([W])=>`"${W}"`).sort().join(", "),A.warn(`Unable to find basemap definition for: ${d}. Try one of these: ${e}`),null;e&&(q=e[d]);q||(q=B?g.fromId(d):new g({style:{id:d}}),e&&(e[d]=q))}else q=H.ensureType(g,d);q?.destroyed&&(A.warn("The provided basemap is already destroyed",
{basemap:q}),q=null);return q}function F(d){if(r)return r(d);let e=null;d=E(d);const q=!d?.baseLayers.length;for(const S in m.esriBasemapDefinitions){var B=V(m.esriBasemapDefinitions[S]);B=v(d,B,{mustMatchReferences:q});if("equal"===B){e=S;break}"base-layers-equal"===B&&(e=S)}return e}function u(d,e){const q=new h;d.forEach(B=>{const S=e.find(W=>"scene"!==W.type&&L(T(B),T(W)))||B;q.includes(S)?q.push(B):q.push(S)});return q}function k(d){if(z(d.url))return!0;if("vector-tile"===d.type)for(const e in d.sourceNameToSource)if(z(d.sourceNameToSource[e]?.sourceUrl))return!0;
return!1}function z(d){if(!d)return!1;d=new y.Url(y.makeAbsolute(d));return!!d.authority&&J.test(d.authority)}function E(d){return d?!d.loaded&&d.resourceInfo?V(d.resourceInfo.data):{baseLayers:M(d.baseLayers),referenceLayers:M(d.referenceLayers)}:null}function M(d){return(h.isCollection(d)?d.toArray():d).map(T)}function T(d){return{type:d.type,effect:"effect"in d?d.effect:void 0,url:U("urlTemplate"in d&&d.urlTemplate||d.url||"styleUrl"in d&&d.styleUrl||""),minScale:"minScale"in d&&null!=d.minScale?
d.minScale:0,maxScale:"maxScale"in d&&null!=d.maxScale?d.maxScale:0,opacity:null!=d.opacity?d.opacity:1,visible:null!=d.visible?!!d.visible:!0,sublayers:"map-image"!==d.type&&"wms"!==d.type||null==d.sublayers?void 0:d.sublayers?.map(e=>({id:e.id,visible:e.visible})),activeLayerId:"wmts"===d.type?d.activeLayer?.id:void 0}}function Q(d){return d.isReference||"ArcGISSceneServiceLayer"===d.layerType}function V(d){return d?{baseLayers:b((d.baseMapLayers??[]).filter(e=>!Q(e))),referenceLayers:b((d.baseMapLayers??
[]).filter(e=>Q(e)))}:null}function b(d){return d.map(e=>{let q;switch(e.layerType){case "VectorTileLayer":q="vector-tile";break;case "ArcGISTiledMapServiceLayer":q="tile";break;case "ArcGISSceneServiceLayer":q="scene";break;default:q="unknown"}return{type:q,effect:e.effect,url:U(e.templateUrl||e.urlTemplate||e.styleUrl||e.url),minScale:e.minScale??0,maxScale:e.maxScale??0,opacity:e.opacity??1,visible:null!=e.visibility?!!e.visibility:!0,sublayers:void 0,activeLayerId:void 0}})}function v(d,e,q){return null!=
d!==(null!=e)?"not-equal":d&&e?G(d.baseLayers,e.baseLayers)?G(d.referenceLayers,e.referenceLayers)?"equal":q.mustMatchReferences?"not-equal":"base-layers-equal":"not-equal":"equal"}function G(d,e){if(d.length!==e.length)return!1;for(let q=0;q<d.length;q++)if(!L(d[q],e[q]))return!1;return!0}function L(d,e){if(d.type!==e.type||d.url!==e.url||d.minScale!==e.minScale||d.maxScale!==e.maxScale||d.visible!==e.visible||d.opacity!==e.opacity||!D.effectEquals(d.effect,e.effect))return!1;if(null!=d.activeLayerId||
null!=e.activeLayerId)return d.activeLayerId===e.activeLayerId;if(null!=d.sublayers||null!=e.sublayers){if(null==d.sublayers||null==e.sublayers||d.sublayers.length!==e.sublayers.length)return!1;for(let q=0;q<d.sublayers.length;q++){const B=d.sublayers.at(q),S=e.sublayers.at(q);if(B?.id!==S?.id||B?.visible!==S?.visible)return!1}}return!0}function U(d){return d?y.normalize(d).replace(/^\s*https?:/i,"").toLowerCase():""}function C(d){return"portalItem"in d?d.portalItem?.thumbnailUrl:void 0}const A=x.getLogger("esri.support.basemapUtils");
let r;const J=/^(basemaps|ibasemaps).*-api\.arcgis\.com$/i;f.clonePreservingTiledLayers=function(d,e=null){d=p(d);if(!d)return null;d=d.clone();e&&(d.baseLayers=u(d.baseLayers,e.baseLayers),d.referenceLayers=u(d.referenceLayers,e.referenceLayers));return d};f.contentEquals=function(d,e){if(d===e||null!=d?.portalItem?.id&&d.portalItem.id===e?.portalItem?.id)return!0;d=E(d);e=E(e);return"equal"===v(d,e,{mustMatchReferences:!0})};f.createCache=function(){return{}};f.destroyCache=function(d){for(const e in d)l.destroyMaybe(d[e]),
delete d[e]};f.ensureType=p;f.findSpatialReference=function(d,e){if(null==e||null==d)return{spatialReference:null,updating:!1};if("not-loaded"===e.loadStatus)return e.load(),{spatialReference:null,updating:!0};if(e.spatialReference)return{spatialReference:e.spatialReference,updating:!1};if(0===e.baseLayers.length)return{spatialReference:null,updating:!1};e=e.baseLayers.at(0);switch(e.loadStatus){case "not-loaded":e.load();case "loading":return{spatialReference:null,updating:!0};case "failed":return{spatialReference:null,
updating:!1}}e=(("supportedSpatialReferences"in e?e.supportedSpatialReferences:null)||["tileInfo"in e?e.tileInfo?.spatialReference:e.spatialReference]).filter(Boolean);const q=d.spatialReference;return q?{spatialReference:e.find(B=>q.equals(B))??e[0]??null,updating:!1}:{spatialReference:e[0],updating:!1}};f.getBasemapThumbnailUrl=function(d){if(!d)return null;var {thumbnailUrl:e}=d;return e?e:(e=F(d))?m.esriBasemapDefinitions[e].thumbnailUrl:l.mappedFind(d.baseLayers,C)};f.getWellKnownBasemapId=F;
f.hasDeveloperBasemapLayer=function(d){return!!d?.baseLayers.concat(d.referenceLayers).some(k)};f.isBasemap3D=function(d){return"Web Scene"===d.portalItem?.type};f.isBasemapInBeta=function(d){return!!d?.portalItem?.tags?.some(e=>"beta"===e.toLowerCase())};f.isBasemapLayer=function(d,e){return d.basemap?.referenceLayers?.some(q=>q.uid===e)||d.basemap?.baseLayers?.some(q=>q.uid===e)};f.isDeveloperBasemapLayer=k;f.overrideGetWellKnownBasemapId=function(d){r=d};Object.defineProperty(f,Symbol.toStringTag,
{value:"Module"})})},"esri/Basemap":function(){define("require ./chunks/tslib.es6 ./request ./core/Collection ./core/collectionUtils ./core/JSONSupport ./core/lang ./core/Loadable ./core/loadAll ./core/Logger ./core/maybe ./core/promiseUtils ./core/urlUtils ./core/accessorSupport/decorators/property ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer ./geometry/SpatialReference ./portal/Portal ./portal/PortalItem ./support/basemapDefinitions ./support/BasemapStyle ./webdoc/support/writeUtils".split(" "),
function(f,g,w,h,x,l,y,H,D,m,p,F,u,k,z,E,M,T,Q,V,b,v,G){var L;let U=0;l=L=class extends l.JSONSupportMixin(H){constructor(r){super(r);this.thumbnailUrl=this.style=this.spatialReference=this.portalItem=this.id=null;this.title="Basemap";this.id=Date.now().toString(16)+"-basemap-"+U++;this.baseLayers=new h;this.referenceLayers=new h;const J=d=>{d.parent&&d.parent!==this&&"remove"in d.parent&&d.parent.remove(d);d.parent=this;"elevation"===d.type&&m.getLogger(this).error(`Layer '${d.title}, id:${d.id}' of type '${d.type}' is not supported as a basemap layer and will therefore be ignored.`)};
this.addHandles([this.baseLayers.on("after-add",d=>J(d.item)),this.referenceLayers.on("after-add",d=>J(d.item)),this.baseLayers.on("after-remove",d=>{d.item.parent=null}),this.referenceLayers.on("after-remove",d=>{d.item.parent=null})])}initialize(){this.when().catch(r=>{m.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,r)});this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){var r=this.baseLayers.toArray();for(const J of r)J.destroy();
r=this.referenceLayers.toArray();for(const J of r)J.destroy();this.baseLayers.destroy();this.referenceLayers.destroy();this.portalItem=p.destroyMaybe(this.portalItem)}normalizeCtorArgs(r){r&&"resourceInfo"in r&&(this._set("resourceInfo",r.resourceInfo),r={...r},delete r.resourceInfo);return r}set baseLayers(r){this._set("baseLayers",x.referenceSetter(r,this._get("baseLayers")))}_writeBaseLayers(r,J,d){const e=[];r&&(d={...d,layerContainerType:"basemap"},this.baseLayers.forEach(q=>{q=G.getLayerJSON(q,
d.webmap?d.webmap.getLayerJSONFromResourceInfo(q):null,d);null!=q&&e.push(q)}),this.referenceLayers.forEach(q=>{const B=G.getLayerJSON(q,d.webmap?d.webmap.getLayerJSONFromResourceInfo(q):null,d);null!=B&&("scene"!==q.type&&(B.isReference=!0),e.push(B))}));J.baseMapLayers=e}set referenceLayers(r){this._set("referenceLayers",x.referenceSetter(r,this._get("referenceLayers")))}writeTitle(r,J){J.title=r||"Basemap"}load(r){this.addResolvingPromise(this._loadFromSource(r));return Promise.resolve(this)}loadAll(){return D.loadAll(this,
r=>{r(this.baseLayers,this.referenceLayers)})}clone(){const r={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(J=>y.isClonable(J)?J.clone():J),referenceLayers:this.referenceLayers.map(J=>y.isClonable(J)?J.clone():J)};this.loaded&&(r.loadStatus="loaded");return(new L({resourceInfo:this.resourceInfo})).set(r)}read(r,J){this.resourceInfo||this._set("resourceInfo",{data:r,context:J});super.read(r,J)}write(r,J){r=r||{};J?.origin||(J={origin:"web-map",...J});super.write(r,
J);!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(r.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(d=>{d=y.clone(d);d.url&&u.isProtocolRelative(d.url)&&(d.url=`https:${d.url}`);d.templateUrl&&u.isProtocolRelative(d.templateUrl)&&(d.templateUrl=`https:${d.templateUrl}`);return d}));return r}async _loadFromSource(r){const {resourceInfo:J,portalItem:d,style:e}=this;F.throwIfAborted(r);const q=[];J?(q.push(this._loadLayersFromJSON(J.data,J.context?J.context.url:null,r)),J.data.id&&!J.data.title&&
q.push(b.getBasemapTitle(J.data.id).then(B=>{B&&this.read({title:B},J.context)}))):d?q.push(this._loadFromItem(d,r)):e&&q.push(this._loadFromStylesService(e,r));await Promise.all(q)}async _loadLayersFromJSON(r,J,d){const e=this.resourceInfo?.context,q=this.portalItem?.portal||e?.portal||null,B=A[e?.origin||""]??"web-map",{populateOperationalLayers:S}=await new Promise((Z,ca)=>f(["./layers/support/layersCreator"],Z,ca)),W=[];F.throwIfAborted(d);if(r.baseMapLayers&&Array.isArray(r.baseMapLayers)){J=
{context:{...e,origin:B,url:J,portal:q,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"};const Z=ca=>"web-scene"===B&&"ArcGISSceneServiceLayer"===ca.layerType||ca.isReference;d=S(this.baseLayers,r.baseMapLayers.filter(ca=>!Z(ca)),J);W.push(d);r=S(this.referenceLayers,r.baseMapLayers.filter(Z),J);W.push(r)}await Promise.allSettled(W)}async _loadFromItem(r,J){const d=await (await r.load(J)).fetchData("json",J),e=u.urlToObject(r.itemUrl??"");this._set("resourceInfo",{data:d.baseMap??
{},context:{origin:C[r.type||""]??"web-map",portal:r.portal||Q.getDefault(),url:e}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:d.spatialReference},this.resourceInfo.context);this.read({title:r.title,thumbnailUrl:r.thumbnailUrl},{origin:"portal-item",portal:r.portal||Q.getDefault(),url:e});return this._loadLayersFromJSON(this.resourceInfo.data,e,J)}async _loadFromStylesService(r,J){var d=`${r.serviceUrl}/${r.id}`;r=(await w(d,{query:{language:r.getLanguageParamValue()},
signal:J?.signal})).data;if(r.baseMap&&Array.isArray(r.baseMap.baseMapLayers))for(const e of r.baseMap.baseMapLayers)if(!e.customParameters&&e.styleUrl?.includes("?")){const q=u.urlToObject(e.styleUrl);q.query&&(e.styleUrl=q.path,e.customParameters=q.query)}d=u.urlToObject(d);this._set("resourceInfo",{data:r.baseMap??{},context:{origin:"web-map",url:d}});this.read(this.resourceInfo.data,this.resourceInfo.context);this.read({spatialReference:r.spatialReference},this.resourceInfo.context);return this._loadLayersFromJSON(this.resourceInfo.data,
d,J)}static fromId(r){return(r=b.esriBasemapDefinitions[r])?r.itemId?new L({portalItem:{id:r.itemId,portal:{url:"https://www.arcgis.com"}}}):L.fromJSON(r,{origin:r.is3d?"web-scene":"web-map"}):null}};g.__decorate([k.property({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(r,J,d,e){this._writeBaseLayers(r,J,e)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:h}},writer(r,J,d,e){this._writeBaseLayers(r,J,e)}}}}}})],l.prototype,"baseLayers",null);g.__decorate([k.property({type:String,
json:{origins:{"web-scene":{write:!0}}}})],l.prototype,"id",void 0);g.__decorate([k.property({type:V})],l.prototype,"portalItem",void 0);g.__decorate([k.property()],l.prototype,"referenceLayers",null);g.__decorate([k.property({readOnly:!0})],l.prototype,"resourceInfo",void 0);g.__decorate([k.property({type:T})],l.prototype,"spatialReference",void 0);g.__decorate([k.property({type:v})],l.prototype,"style",void 0);g.__decorate([k.property()],l.prototype,"thumbnailUrl",void 0);g.__decorate([k.property({type:String,
json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],l.prototype,"title",void 0);g.__decorate([M.writer("title")],l.prototype,"writeTitle",null);l=L=g.__decorate([E.subclass("esri.Basemap")],l);const C={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},A={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"};return l})},"esri/core/collectionUtils":function(){define(["exports","./Collection"],function(f,g){f.castForReferenceSetter=function(w){return w};f.referenceSetter=
function(w,h,x=g){h||(h=new x);if(h===w)return h;h.removeAll();w&&(Array.isArray(w)||"items"in w&&Array.isArray(w.items))?h.addMany(w):w&&h.add(w);return h};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/Loadable":function(){define("../chunks/tslib.es6 ./Error ./maybe ./Promise ./promiseUtils ./Warning ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),function(f,g,w,h,x,l,y,H){const D=m=>{m=class extends m{constructor(...p){super(...p);
this.loadError=this._loadController=null;this.loadStatus="not-loaded";this._set("loadWarnings",[]);this.addResolvingPromise(new Promise(F=>{const u=this.load.bind(this);this.load=k=>{const z=new Promise((E,M)=>{const T=x.onAbortOrThrow(k,M);this.destroyed&&M(new g("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this}));this.when(E,M).finally(()=>{T&&T.remove()})});if("not-loaded"===this.loadStatus){this._set("loadStatus","loading");
const E=this._loadController=new AbortController;u({signal:E.signal})}F();return z}}));this.when(()=>{this._set("loadStatus","loaded");this._loadController=null},F=>{this._set("loadStatus","failed");this._set("loadError",F);this._loadController=null})}destroy(){this._loadController&&(this._loadController=w.abortMaybe(this._loadController),this._promiseProps.abort());this._set("loadError",null);this._set("loadWarnings",[])}get loaded(){return"loaded"===this.loadStatus}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){if(this.isFulfilled())return this;
this._set("loadError",new g("load:cancelled","Cancelled"));this._loadController?.abort();this._promiseProps.abort();return this}};f.__decorate([y.property({readOnly:!0})],m.prototype,"loaded",null);f.__decorate([y.property({readOnly:!0})],m.prototype,"loadError",void 0);f.__decorate([y.property({clonable:!1})],m.prototype,"loadStatus",void 0);f.__decorate([y.property({type:[l],readOnly:!0})],m.prototype,"loadWarnings",null);return m=f.__decorate([H.subclass("esri.core.Loadable")],m)};h=class extends D(h.EsriPromise){};
h=f.__decorate([H.subclass("esri.core.Loadable")],h);(function(m){m.LoadableMixin=D;m.isLoadable=function(p){return!(!p||!p.load)}})(h||(h={}));return h})},"esri/core/Promise":function(){define(["exports","../chunks/tslib.es6","./Accessor","./promiseUtils","./accessorSupport/decorators/subclass"],function(f,g,w,h,x){var l;(function(D){D[D.PENDING=0]="PENDING";D[D.RESOLVED=1]="RESOLVED";D[D.REJECTED=2]="REJECTED"})(l||(l={}));class y{constructor(){this._resolver=h.createResolver();this._status=l.PENDING;
this._resolvingPromises=[];this._resolver.promise.then(()=>{this._status=l.RESOLVED;this._cleanUp()},()=>{this._status=l.REJECTED;this._cleanUp()});this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(D){this._resolvingPromises.push(D);this._tryResolve()}isResolved(){return this._status===l.RESOLVED}isRejected(){return this._status===l.REJECTED}isFulfilled(){return this._status!==l.PENDING}abort(){this._resolver.reject(h.createAbortError())}_cleanUp(){this._resolvingPromises=
this._allPromise=null}_tryResolve(){if(!this.isFulfilled()){var D=h.createResolver(),m=[...this._resolvingPromises,D.promise],p=this._allPromise=Promise.all(m);p.then(()=>{this.isFulfilled()||this._allPromise!==p||this._resolver.resolve()},F=>{this.isFulfilled()||this._allPromise!==p||h.isAbortError(F)||this._resolver.reject(F)});D.resolve()}}}const H=D=>{D=class extends D{constructor(...m){super(...m);this._promiseProps=new y;this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(m,
p){return this._promiseProps.promise.then(()=>this).then(m,p)}catch(m){return this.when(null,m)}addResolvingPromise(m){m&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in m?m.when():m)}};return D=g.__decorate([x.subclass("esri.core.Promise")],D)};f.EsriPromise=class extends H(w){};f.EsriPromise=g.__decorate([x.subclass("esri.core.Promise")],f.EsriPromise);f.EsriPromiseMixin=H;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/core/loadAll":function(){define(["exports",
"./asyncUtils","./Collection","./Loadable"],function(f,g,w,h){async function x(l,y){const H=[],D=(...p)=>{for(const F of p)null!=F&&(Array.isArray(F)?D(...F):w.isCollection(F)?F.forEach(u=>D(u)):h.isLoadable(F)&&H.push(F))};y(D);let m=null;await g.map(H,async p=>{p=await g.result("loadAll"in p&&"function"===typeof p.loadAll?p.loadAll():p.load());!1!==p.ok||m||(m=p)});if(m)throw m.error;return l}f.loadAll=async function(l,y){await l.load();return x(l,y)};f.loadAllChildren=x;Object.defineProperty(f,
Symbol.toStringTag,{value:"Module"})})},"esri/portal/Portal":function(){define("require ../chunks/tslib.es6 ../config ../kernel ../request ../core/Error ../core/JSONSupport ../core/Loadable ../core/maybe ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ../intl/locale ./portalDefault ./PortalGroup ./PortalQueryParams ./PortalQueryResult ./PortalUser ../support/apiKeyUtils".split(" "),
function(f,g,w,h,x,l,y,H,D,m,p,F,u,k,z,E,M,T,Q,V,b,v,G,L){function U(e){const q=h.id;return()=>{const B=e.deref();B&&q.findCredential(B.restUrl)&&B.signIn().catch(()=>{})}}const C=e=>Object.freeze(Object.defineProperty({__proto__:null,default:e},Symbol.toStringTag,{value:"Module"}));var A;let r;const J={PortalGroup:()=>Promise.resolve({default:V}),PortalItem:()=>new Promise((e,q)=>f(["./PortalItem"],B=>e(C(B)),q)),PortalUser:()=>Promise.resolve({default:G})};y=A=class extends y.JSONSupportMixin(H){constructor(e){super(e);
this.access=this._esriIdCredentialCreateHandle=null;this.allSSL=!1;this.authMode="auto";this.bingKey=this.basemapGalleryGroupQuery3D=this.basemapGalleryGroupQuery=this.authorizedCrossOriginDomains=null;this.canProvisionDirectPurchase=this.canListPreProvisionedItems=this.canListData=this.canListApps=!1;this.canSearchPublic=!0;this.canSignInIDP=this.canSignInArcGIS=this.canSharePublic=this.canShareBingPublic=!1;this.colorSetsGroupQuery=null;this.commentsEnabled=!1;this.livingAtlasGroupQuery=this.galleryTemplatesGroupQuery=
this.featuredItemsGroupQuery=this.featuredGroups=this.eueiEnabled=this.devBasemapGalleryGroupQuery=this.description=this.defaultVectorBasemap=this.defaultExtent=this.defaultDevBasemap=this.defaultBasemap=this.customBaseUrl=this.culture=this.created=null;this.hasCategorySchema=!1;this.ipCntryCode=this.id=this.httpsPort=this.httpPort=this.homePageFeaturedContentCount=this.homePageFeaturedContent=this.helperServices=null;this.isReadOnly=this.isPortal=!1;this.rotatorPanels=this.region=this.portalProperties=
this.portalMode=this.portalHostname=this.name=this.modified=this.maxTokenExpirationMinutes=this.layerTemplatesGroupQuery=null;this.showHomePageDescription=!1;this.sourceJSON=null;this.supportsHostedServices=!1;this.units=this.templatesGroupQuery=this.symbolSetsGroupQuery=null;this.url=w.portalUrl;this.user=this.urlKey=null;this.use3dBasemaps=!0;this.useVectorBasemaps=this.useStandardizedQuery=!1;this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return"string"===typeof e?{url:e}:e}destroy(){d.unregister(this);
this.defaultBasemap=D.destroyMaybe(this.defaultBasemap);this.defaultDevBasemap=D.destroyMaybe(this.defaultDevBasemap);this.defaultVectorBasemap=D.destroyMaybe(this.defaultVectorBasemap);this._esriIdCredentialCreateHandle=D.removeMaybe(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const q of e)w.request.trustedServers.includes(q)||w.request.trustedServers.push(q);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=
!this.user?.orgId||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let e=this.url;if(e){const q=e.indexOf("/sharing");e=0<q?e.substring(0,q):this.url.replace(/\/+$/,"");e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,q=this.thumbnail;return e&&q?this._normalizeSSL(e+"/portals/self/resources/"+q):null}readUrlKey(e){return e?e.toLowerCase():
e}readUser(e){let q=null;e&&(q=G.fromJSON(e),q.portal=this);return q}load(e){const q=(new Promise((B,S)=>f(["../Basemap"],W=>B(C(W)),S))).then(({default:B})=>{m.throwIfAborted(e);r=B}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(B=>{if(h.id){const S=h.id;this.credential=S.findCredential(this.restUrl);this.credential||this.authMode!==A.AUTH_MODE_AUTO||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=S.on("credential-create",U(new WeakRef(this))),
d.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=B;this.read(B)});this.addResolvingPromise(q);return Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),q=(await new Promise((B,S)=>f(["../layers/ElevationLayer"],W=>B(C(W)),S))).default;return e?e.map(B=>new q({id:B.id,url:B.url})):[]}async fetchBasemaps(e,q){const B=await this._fetchBasemaps(e,q);!0===q?.include3d&&!1!==this.use3dBasemaps&&(e=await this._fetchBasemaps3D(e,
q),B.unshift(...e));return B}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(q=>q.categorySchema):m.isAborted(e)?Promise.reject(m.createAbortError()):Promise.resolve([])}fetchFeaturedGroups(e){const q=this.featuredGroups,B=new b;B.num=100;B.sortField="title";if(q&&q.length){const S=[];for(const W of q)S.push(`(title:"${W.title}" AND owner:${W.owner})`);B.query=S.join(" OR ");return this.queryGroups(B,e).then(W=>W.results)}return m.isAborted(e)?
Promise.reject(m.createAbortError()):Promise.resolve([])}fetchRegions(e){const q=this.user?.culture||this.culture||T.getLocale();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:q}})}fetchSettings(e){const q=this.user?.culture||this.culture||T.getLocale();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:q}})}static getDefault(){return Q.ensureDefaultPortalInstance(()=>new A)}queryGroups(e,q){return this.queryPortal("/community/groups",e,"PortalGroup",
q)}queryItems(e,q){return this.queryPortal("/search",e,"PortalItem",q)}queryUsers(e,q){e.sortField||(e.sortField="username");return this.queryPortal("/community/users",e,"PortalUser",q)}fetchSelf(e=this.authMode,q=!1,B){const S=this.restUrl+"/portals/self";e={authMode:e,query:{culture:T.getLocale().toLowerCase()},...B};"auto"===e.authMode&&(e.authMode="no-prompt");q&&(e.query.default=!0);return this.request(S,e)}queryPortal(e,q,B,S){const W=F.ensureType(b,q),Z=ca=>this.request(this.restUrl+e,{...W.toRequestOptions(this),
...S}).then(da=>{const na=W.clone();na.start=da.nextStart;return new v({nextQueryParams:na,queryParams:W,total:da.total,results:A._resultsToTypedArray(ca,{portal:this},da,S)})}).then(da=>Promise.all(da.results.map(na=>"function"===typeof na.when?na.when():da)).then(()=>da,na=>{m.throwIfAbortError(na);return da}));return B&&J[B]?J[B]().then(({default:ca})=>{m.throwIfAborted(S);return Z(ca)}):Z()}signIn(){if(this.authMode===A.AUTH_MODE_ANONYMOUS)return Promise.reject(new l("portal:invalid-auth-mode",
`Current "authMode"' is "${this.authMode}"`));if("failed"===this.loadStatus)return Promise.reject(this.loadError);const e=q=>Promise.resolve().then(()=>{if("not-loaded"===this.loadStatus)return q||(this.authMode="immediate"),this.load().then(()=>null);if("loading"===this.loadStatus)return this.load().then(()=>{if(this.credential)return null;this.credential=q;return this.fetchSelf("immediate")});if(this.user&&this.credential===q)return null;this.credential=q;return this.fetchSelf("immediate")}).then(B=>
{B&&(this.sourceJSON=B,this.read(B))});return h.id?h.id.getCredential(this.restUrl).then(q=>e(q)):e(this.credential)}normalizeUrl(e){const q=this.credential?.token;return this._normalizeSSL(q?e+(e.includes("?")?"\x26":"?")+"token\x3d"+q:e)}requestToTypedArray(e,q,B){return this.request(e,q).then(S=>{const W=A._resultsToTypedArray(B,{portal:this},S);return Promise.all(W.map(Z=>"function"===typeof Z.when?Z.when():S)).then(()=>W,()=>W)})}request(e,q={}){const B={f:"json",...q.query},{authMode:S=this.authMode===
A.AUTH_MODE_ANONYMOUS?"anonymous":"auto",body:W=null,cacheBust:Z=!1,method:ca="auto",responseType:da="json",signal:na}=q;q={authMode:S,body:W,cacheBust:Z,method:ca,query:B,responseType:da,timeout:0,signal:na};return x(this._normalizeSSL(e),q).then(oa=>oa.data)}toJSON(){throw new l("internal:not-yet-implemented","Portal.toJSON is not yet implemented");}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw Error("JSON object is already hydrated");return new A({sourceJSON:e})}_getHelperService(e){const q=
this.helperServices&&this.helperServices[e];if(!q)throw new l("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return q}async _fetchBasemaps(e,q){const B=new b;B.query=e||(w.apiKey&&L.supportsApiKey(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);B.disableExtraQuery=!0;e=await this.queryGroups(B,q);if(!e.total)return[];e=e.results[0];B.num=100;B.query='type:"Web Map" -type:"Web Application"';
B.sortField=e.sortField||"name";B.sortOrder=e.sortOrder||"desc";q=await e.queryItems(B,q);return q.total?q.results.filter(S=>"Web Map"===S.type).map(S=>new r({portalItem:S})):[]}async _fetchBasemaps3D(e,q){e=e||this.basemapGalleryGroupQuery3D;if(!e)return[];e=new b({query:e,disableExtraQuery:!0});var B=await this.queryGroups(e,q);if(!B.total)return[];B=B.results[0];e.num=100;e.query='type:"Web Scene"';e.sortField=B.sortField||"name";e.sortOrder=B.sortOrder||"desc";q=await B.queryItems(e,q);return q.total?
q.results.filter(S=>"Web Scene"===S.type).map(S=>new r({portalItem:S})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){return e?(e=r.fromJSON(e),e.portalItem={portal:this},e):null}static _resultsToTypedArray(e,q,B,S){let W=[];if(B){const Z=null!=S?S.signal:null;W=B.listings||B.notifications||B.userInvitations||B.tags||B.items||B.groups||B.comments||B.provisions||B.results||B.relatedItems||B;if(e||q)W=W.map(ca=>{ca=Object.assign(e?e.fromJSON(ca):ca,
q);"function"===typeof ca.load&&ca.load(Z);return ca})}else W=[];return W}};y.AUTH_MODE_ANONYMOUS="anonymous";y.AUTH_MODE_AUTO="auto";y.AUTH_MODE_IMMEDIATE="immediate";g.__decorate([p.property()],y.prototype,"access",void 0);g.__decorate([p.property()],y.prototype,"allSSL",void 0);g.__decorate([p.property()],y.prototype,"authMode",void 0);g.__decorate([p.property()],y.prototype,"authorizedCrossOriginDomains",void 0);g.__decorate([z.reader("authorizedCrossOriginDomains")],y.prototype,"readAuthorizedCrossOriginDomains",
null);g.__decorate([p.property()],y.prototype,"basemapGalleryGroupQuery",void 0);g.__decorate([p.property({json:{name:"3DBasemapGalleryGroupQuery"}})],y.prototype,"basemapGalleryGroupQuery3D",void 0);g.__decorate([p.property()],y.prototype,"bingKey",void 0);g.__decorate([p.property()],y.prototype,"canListApps",void 0);g.__decorate([p.property()],y.prototype,"canListData",void 0);g.__decorate([p.property()],y.prototype,"canListPreProvisionedItems",void 0);g.__decorate([p.property()],y.prototype,"canProvisionDirectPurchase",
void 0);g.__decorate([p.property()],y.prototype,"canSearchPublic",void 0);g.__decorate([p.property()],y.prototype,"canShareBingPublic",void 0);g.__decorate([p.property()],y.prototype,"canSharePublic",void 0);g.__decorate([p.property()],y.prototype,"canSignInArcGIS",void 0);g.__decorate([p.property()],y.prototype,"canSignInIDP",void 0);g.__decorate([p.property()],y.prototype,"colorSetsGroupQuery",void 0);g.__decorate([p.property()],y.prototype,"commentsEnabled",void 0);g.__decorate([p.property({type:Date})],
y.prototype,"created",void 0);g.__decorate([p.property()],y.prototype,"credential",void 0);g.__decorate([p.property()],y.prototype,"culture",void 0);g.__decorate([p.property()],y.prototype,"currentVersion",void 0);g.__decorate([p.property()],y.prototype,"customBaseUrl",void 0);g.__decorate([p.property()],y.prototype,"defaultBasemap",void 0);g.__decorate([z.reader("defaultBasemap")],y.prototype,"readDefaultBasemap",null);g.__decorate([p.property()],y.prototype,"defaultDevBasemap",void 0);g.__decorate([z.reader("defaultDevBasemap")],
y.prototype,"readDefaultDevBasemap",null);g.__decorate([p.property({type:M})],y.prototype,"defaultExtent",void 0);g.__decorate([p.property()],y.prototype,"defaultVectorBasemap",void 0);g.__decorate([z.reader("defaultVectorBasemap")],y.prototype,"readDefaultVectorBasemap",null);g.__decorate([p.property()],y.prototype,"description",void 0);g.__decorate([p.property()],y.prototype,"devBasemapGalleryGroupQuery",void 0);g.__decorate([p.property()],y.prototype,"eueiEnabled",void 0);g.__decorate([p.property({readOnly:!0})],
y.prototype,"extraQuery",null);g.__decorate([p.property()],y.prototype,"featuredGroups",void 0);g.__decorate([p.property()],y.prototype,"featuredItemsGroupQuery",void 0);g.__decorate([p.property()],y.prototype,"galleryTemplatesGroupQuery",void 0);g.__decorate([p.property()],y.prototype,"livingAtlasGroupQuery",void 0);g.__decorate([p.property()],y.prototype,"hasCategorySchema",void 0);g.__decorate([p.property()],y.prototype,"helpBase",void 0);g.__decorate([p.property()],y.prototype,"helperServices",
void 0);g.__decorate([p.property()],y.prototype,"helpMap",void 0);g.__decorate([p.property()],y.prototype,"homePageFeaturedContent",void 0);g.__decorate([p.property()],y.prototype,"homePageFeaturedContentCount",void 0);g.__decorate([p.property()],y.prototype,"httpPort",void 0);g.__decorate([p.property()],y.prototype,"httpsPort",void 0);g.__decorate([p.property()],y.prototype,"id",void 0);g.__decorate([p.property()],y.prototype,"ipCntryCode",void 0);g.__decorate([p.property({readOnly:!0})],y.prototype,
"isOrganization",null);g.__decorate([p.property()],y.prototype,"isPortal",void 0);g.__decorate([p.property()],y.prototype,"isReadOnly",void 0);g.__decorate([p.property({readOnly:!0})],y.prototype,"itemPageUrl",null);g.__decorate([p.property()],y.prototype,"layerTemplatesGroupQuery",void 0);g.__decorate([p.property()],y.prototype,"maxTokenExpirationMinutes",void 0);g.__decorate([p.property({type:Date})],y.prototype,"modified",void 0);g.__decorate([p.property()],y.prototype,"name",void 0);g.__decorate([p.property()],
y.prototype,"portalHostname",void 0);g.__decorate([p.property()],y.prototype,"portalMode",void 0);g.__decorate([p.property()],y.prototype,"portalProperties",void 0);g.__decorate([p.property()],y.prototype,"region",void 0);g.__decorate([p.property({readOnly:!0})],y.prototype,"restUrl",null);g.__decorate([p.property()],y.prototype,"rotatorPanels",void 0);g.__decorate([p.property()],y.prototype,"showHomePageDescription",void 0);g.__decorate([p.property()],y.prototype,"sourceJSON",void 0);g.__decorate([p.property()],
y.prototype,"staticImagesUrl",void 0);g.__decorate([p.property({json:{name:"2DStylesGroupQuery"}})],y.prototype,"stylesGroupQuery2d",void 0);g.__decorate([p.property({json:{name:"stylesGroupQuery"}})],y.prototype,"stylesGroupQuery3d",void 0);g.__decorate([p.property()],y.prototype,"supportsHostedServices",void 0);g.__decorate([p.property()],y.prototype,"symbolSetsGroupQuery",void 0);g.__decorate([p.property()],y.prototype,"templatesGroupQuery",void 0);g.__decorate([p.property()],y.prototype,"thumbnail",
void 0);g.__decorate([p.property({readOnly:!0})],y.prototype,"thumbnailUrl",null);g.__decorate([p.property()],y.prototype,"units",void 0);g.__decorate([p.property()],y.prototype,"url",void 0);g.__decorate([p.property()],y.prototype,"urlKey",void 0);g.__decorate([z.reader("urlKey")],y.prototype,"readUrlKey",null);g.__decorate([p.property()],y.prototype,"user",void 0);g.__decorate([z.reader("user")],y.prototype,"readUser",null);g.__decorate([p.property()],y.prototype,"use3dBasemaps",void 0);g.__decorate([p.property()],
y.prototype,"useStandardizedQuery",void 0);g.__decorate([p.property()],y.prototype,"useVectorBasemaps",void 0);g.__decorate([p.property()],y.prototype,"vectorBasemapGalleryGroupQuery",void 0);g=y=A=g.__decorate([E.subclass("esri.portal.Portal")],y);const d=new FinalizationRegistry(e=>{e.remove()});return g})},"esri/portal/portalDefault":function(){define(["exports"],function(f){let g;f.clearDefaultPortalInstance=function(){g=void 0};f.ensureDefaultPortalInstance=function(w){if(!g||g.destroyed)g=w();
return g};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/portal/PortalGroup":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./PortalQueryParams".split(" "),function(f,g,w,h,x,l,y,H,D){var m;w=m=class extends w.JSONSupport{constructor(p){super(p);this.id=this.description=this.created=this.access=null;
this.isInvitationOnly=!1;this.title=this.tags=this.sourceJSON=this.sortOrder=this.sortField=this.snippet=this.portal=this.owner=this.modified=null}get thumbnailUrl(){const p=this.url,F=this.thumbnail;return p&&F&&this.portal?this.portal?.normalizeUrl(`${p}/info/${F}?f=json`):null}get url(){const p=this.portal?.restUrl;return p?p+"/community/groups/"+this.id:null}fetchCategorySchema(p){return this.portal.request(this.url+"/categorySchema",p).then(F=>{F=F.categorySchema||[];return F.some(u=>"contentCategorySetsGroupQuery.LivingAtlas"===
u.source)?this._fetchCategorySchemaSet("LivingAtlas",p):F})}fetchMembers(p){return this.portal.request(this.url+"/users",p)}getThumbnailUrl(p){let F=this.thumbnailUrl;F&&p&&(F+=`&w=${p}`);return F}toJSON(){throw new g("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");}static fromJSON(p){if(!p)return null;if(p.declaredClass)throw Error("JSON object is already hydrated");const F=new m;F.sourceJSON=p;F.read(p);return F}queryItems(p,F){p=x.ensureType(D,p);const u=this.portal;
if(5<parseFloat(u.currentVersion))return p=p||new D,u.queryPortal(`/content/groups/${this.id}/search`,p,"PortalItem",F);p=p?p.clone():new D;p.query="group:"+this.id+(p.query?" "+p.query:"");return u.queryItems(p,F)}_fetchCategorySchemaSet(p,F){const u=this.portal;return u.fetchSelf(u.authMode,!0,F).then(k=>{if(k=k.contentCategorySetsGroupQuery){const z=new D;z.disableExtraQuery=!0;z.num=1;z.query=k;return u.queryGroups(z,F)}throw new g("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");
}).then(k=>{if(k.total){k=k.results[0];const z=new D;z.num=1;z.query=`typekeywords:"${p}"`;return k.queryItems(z,F)}throw new g("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");}).then(k=>k.total?k.results[0].fetchData("json",F).then(z=>{z=z?.categorySchema;return z?.length?z:[]}):[])}};f.__decorate([h.property()],w.prototype,"access",void 0);f.__decorate([h.property({type:Date})],w.prototype,"created",void 0);f.__decorate([h.property()],w.prototype,"description",
void 0);f.__decorate([h.property()],w.prototype,"id",void 0);f.__decorate([h.property()],w.prototype,"isInvitationOnly",void 0);f.__decorate([h.property({type:Date})],w.prototype,"modified",void 0);f.__decorate([h.property()],w.prototype,"owner",void 0);f.__decorate([h.property()],w.prototype,"portal",void 0);f.__decorate([h.property()],w.prototype,"snippet",void 0);f.__decorate([h.property()],w.prototype,"sortField",void 0);f.__decorate([h.property()],w.prototype,"sortOrder",void 0);f.__decorate([h.property()],
w.prototype,"sourceJSON",void 0);f.__decorate([h.property()],w.prototype,"tags",void 0);f.__decorate([h.property()],w.prototype,"thumbnail",void 0);f.__decorate([h.property({readOnly:!0})],w.prototype,"thumbnailUrl",null);f.__decorate([h.property()],w.prototype,"title",void 0);f.__decorate([h.property({readOnly:!0})],w.prototype,"url",null);return w=m=f.__decorate([H.subclass("esri.portal.PortalGroup")],w)})},"esri/portal/PortalQueryParams":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/jsonMap ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(f,g,w,h,x,l,y,H,D,m){var p;const F=new w.JSONMap({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});g=p=class extends g{constructor(u){super(u);this.categories=null;this.disableExtraQuery=!1;this.filter=this.extent=null;this.num=10;this.sortField=this.query=null;this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(u){"asc"!==u&&"desc"!==u||this._set("sortOrder",u)}clone(){return new p({categories:this.categories?h.clone(this.categories):
null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(u,k){let z=[];this.categories&&(z=this.categories.map(T=>Array.isArray(T)?JSON.stringify(T):T));let E="";if(this.extent){var M=m.project(this.extent,D.WGS84);null!=M&&(E=`${M.xmin},${M.ymin},${M.xmax},${M.ymax}`)}M=this.query;!this.disableExtraQuery&&u.extraQuery&&(M="("+M+")"+
u.extraQuery);u={categories:z,bbox:E,q:M,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(u.sortField=this.sortField.split(",").map(T=>F.toJSON(T.trim())).join(","),u.sortOrder=this.sortOrder);return{query:{...k,...u}}}};f.__decorate([x.property()],g.prototype,"categories",void 0);f.__decorate([x.property()],g.prototype,"disableExtraQuery",void 0);f.__decorate([x.property({type:H})],g.prototype,"extent",void 0);f.__decorate([x.property()],g.prototype,
"filter",void 0);f.__decorate([x.property()],g.prototype,"num",void 0);f.__decorate([x.property()],g.prototype,"query",void 0);f.__decorate([x.property()],g.prototype,"sortField",void 0);f.__decorate([x.property()],g.prototype,"sortOrder",null);f.__decorate([x.property()],g.prototype,"start",void 0);return g=p=f.__decorate([y.subclass("esri.portal.PortalQueryParams")],g)})},"esri/portal/PortalQueryResult":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(f,g,w,h,x,l,y){g=class extends g{constructor(H){super(H);this.total=this.results=this.queryParams=this.nextQueryParams=null}};f.__decorate([w.property()],g.prototype,"nextQueryParams",void 0);f.__decorate([w.property()],g.prototype,"queryParams",void 0);f.__decorate([w.property()],g.prototype,"results",void 0);f.__decorate([w.property()],g.prototype,"total",void 0);return g=f.__decorate([y.subclass("esri.portal.PortalQueryResult")],g)})},"esri/portal/PortalUser":function(){define("require ../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./PortalFolder ./PortalGroup".split(" "),
function(f,g,w,h,x,l,y,H,D,m,p){var F;h=F=class extends h.JSONSupport{constructor(...u){super(...u);this.userType=this.username=this.units=this.sourceJSON=this.roleId=this.role=this.region=this.privileges=this.preferredView=this.portal=this.orgId=this.modified=this.fullName=this.email=this.description=this.culture=this.created=this.access=null}get thumbnailUrl(){const u=this.url,k=this.thumbnail;return u&&k?this.portal.normalizeUrl(`${u}/info/${k}?f=json`):null}get userContentUrl(){const u=this.portal?.restUrl;
return u?`${u}/content/users/${this.username}`:null}get url(){const u=this.portal?.restUrl;return u?`${u}/community/users/${this.username}`:null}addItem(u){const k=u&&u.item;var z=u?.data;u=u?.folder;const E={method:"post"};k&&(E.query=k.createPostQuery(),null!=z&&("string"===typeof z?E.query.text=z:"object"===typeof z&&(E.query.text=JSON.stringify(z))));z=this.userContentUrl;u&&(z+="/"+("string"===typeof u?u:u.id));return this.portal.request(z+"/addItem",E).then(M=>{k.id=M.id;k.portal=this.portal;
return k.loaded?k.reload():k.load()})}deleteItem(u){let k=this.userContentUrl;u.ownerFolder&&(k+="/"+u.ownerFolder);return this.portal.request(k+`/items/${u.id}/delete`,{method:"post"}).then(()=>{u.id=null;u.portal=null})}deleteItems(u){const k=this.userContentUrl+"/deleteItems";var z=u.map(E=>E.id);return z.length?(z={method:"post",query:{items:z.join(",")}},this.portal.request(k,z).then(()=>{u.forEach(E=>{E.id=null;E.portal=null})})):Promise.resolve(void 0)}fetchFolders(){return this.portal.request(this.userContentUrl??
"",{query:{num:1}}).then(u=>u&&u.folders?u.folders.map(k=>{k=m.fromJSON(k);k.portal=this.portal;return k}):[])}fetchGroups(){return this.portal.request(this.url??"").then(u=>u&&u.groups?u.groups.map(k=>{k=p.fromJSON(k);k.portal=this.portal;return k}):[])}fetchItems(u){const k=u??{};let z=this.userContentUrl??"";k.folder&&(z+="/"+k.folder.id);let E;return(new Promise((M,T)=>f(["./PortalItem"],Q=>M(Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}))),
T))).then(({default:M})=>{E=M;return this.portal.request(z,{query:{folders:!1,num:k.num||10,start:k.start||1,sortField:k.sortField||"created",sortOrder:k.sortOrder||"asc"}})}).then(M=>{let T;return M?.items?(T=M.items.map(Q=>{Q=E.fromJSON(Q);Q.portal=this.portal;return Q}),Promise.all(T.map(Q=>Q.load())).catch(Q=>Q).then(()=>({items:T,nextStart:M.nextStart,total:M.total}))):{items:[],nextStart:-1,total:0}})}fetchTags(){return this.portal.request(this.url+"/tags").then(u=>u.tags)}getThumbnailUrl(u){let k=
this.thumbnailUrl;k&&u&&(k+=`&w=${u}`);return k}queryFavorites(u){return this.favGroupId?(this._favGroup||(this._favGroup=new p({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(u)):Promise.reject(new w("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}toJSON(){throw new w("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented");}static fromJSON(u){if(!u)return null;if(u.declaredClass)throw Error("JSON object is already hydrated");
const k=new F;k.sourceJSON=u;k.read(u);return k}};g.__decorate([x.property()],h.prototype,"access",void 0);g.__decorate([x.property({type:Date})],h.prototype,"created",void 0);g.__decorate([x.property()],h.prototype,"culture",void 0);g.__decorate([x.property()],h.prototype,"description",void 0);g.__decorate([x.property()],h.prototype,"email",void 0);g.__decorate([x.property()],h.prototype,"favGroupId",void 0);g.__decorate([x.property()],h.prototype,"fullName",void 0);g.__decorate([x.property({type:Date})],
h.prototype,"modified",void 0);g.__decorate([x.property()],h.prototype,"orgId",void 0);g.__decorate([x.property()],h.prototype,"portal",void 0);g.__decorate([x.property()],h.prototype,"preferredView",void 0);g.__decorate([x.property()],h.prototype,"privileges",void 0);g.__decorate([x.property()],h.prototype,"region",void 0);g.__decorate([x.property()],h.prototype,"role",void 0);g.__decorate([x.property()],h.prototype,"roleId",void 0);g.__decorate([x.property()],h.prototype,"sourceJSON",void 0);g.__decorate([x.property()],
h.prototype,"thumbnail",void 0);g.__decorate([x.property({readOnly:!0})],h.prototype,"thumbnailUrl",null);g.__decorate([x.property()],h.prototype,"units",void 0);g.__decorate([x.property({readOnly:!0})],h.prototype,"userContentUrl",null);g.__decorate([x.property({readOnly:!0})],h.prototype,"url",null);g.__decorate([x.property()],h.prototype,"username",void 0);g.__decorate([x.property()],h.prototype,"userType",void 0);return h=F=g.__decorate([D.subclass("esri.portal.PortalUser")],h)})},"esri/portal/PortalFolder":function(){define("../chunks/tslib.es6 ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),
function(f,g,w,h,x,l,y,H){w=class extends w.JSONSupport{constructor(D){super(D);this.username=this.title=this.portal=this.id=this.created=null}get url(){const D=this.portal?.restUrl;return D?`${D}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new g("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");}};f.__decorate([h.property({type:Date})],w.prototype,"created",void 0);f.__decorate([h.property()],w.prototype,"id",void 0);f.__decorate([h.property()],w.prototype,
"portal",void 0);f.__decorate([h.property()],w.prototype,"title",void 0);f.__decorate([h.property({readOnly:!0})],w.prototype,"url",null);f.__decorate([h.property()],w.prototype,"username",void 0);return w=f.__decorate([H.subclass("esri.portal.PortalFolder")],w)})},"esri/portal/PortalItem":function(){define("require ../chunks/tslib.es6 ../assets ../kernel ../core/Error ../core/JSONSupport ../core/lang ../core/Loadable ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../geometry/Extent ./Portal ./PortalItemResource ./PortalRating".split(" "),
function(f,g,w,h,x,l,y,H,D,m,p,F,u,k,z,E,M){var T;const Q=new Set("Map Service;Feature Service;Feature Collection;Scene Service;Image Service;Stream Service;Vector Tile Service;GeoJson;CSV;KML;WFS;WMTS;WMS;Feed".split(";")),V=new Set(["KML","GeoJson","CSV"]);l=T=class extends l.JSONSupportMixin(H){static from(b){return p.ensureClass(T,b)}constructor(b){super(b);this.id=this.groupCategories=this.extent=this.description=this.culture=this.created=this.categories=this.avgRating=this.applicationProxies=
this.apiKey=this.accessInformation=this.access=null;this.isOrgItem=!1;this.url=this.typeKeywords=this.type=this.title=this.tags=this.spatialReference=this.sourceUrl=this.sourceJSON=this.snippet=this.size=this.screenshots=this.portal=this.ownerFolder=this.owner=this.numViews=this.numRatings=this.numComments=this.name=this.modified=this.licenseInfo=this.itemControl=null}destroy(){this.portal=null}get displayName(){const b=this.type,v=this.typeKeywords||[];let G=b;"Feature Service"===b||"Feature Collection"===
b?G=v.includes("Table")?"Table":v.includes("Route Layer")?"Route Layer":v.includes("Markup")?"Markup":"Feature Layer":"Image Service"===b?G=v.includes("Elevation 3D Layer")?"Elevation Layer":v.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":"Scene Service"===b?G="Scene Layer":"Video Service"===b?G="Video Layer":"Scene Package"===b?G="Scene Layer Package":"Stream Service"===b?G="Feature Layer":"Geoprocessing Service"===b?G=v.includes("Web Tool")?"Tool":"Geoprocessing Service":"Geocoding Service"===
b?G="Locator":"Geoenrichment Service"===b?G="GeoEnrichment Service":"Microsoft Powerpoint"===b?G="Microsoft PowerPoint":"GeoJson"===b?G="GeoJSON":"Globe Service"===b?G="Globe Layer":"Vector Tile Service"===b?G="Tile Layer":"netCDF"===b?G="NetCDF":"Map Service"===b?G=v.includes("Spatiotemporal")||!v.includes("Hosted Service")&&!v.includes("Tiled")||v.includes("Relational")?"Map Image Layer":"Tile Layer":b&&b.toLowerCase().includes("add in")?G=b.replaceAll(/(add in)/gi,"Add-In"):"datastore catalog service"===
b?G="Big Data File Share":"Compact Tile Package"===b?G="Tile Package (tpkx)":"OGCFeatureServer"===b?G="OGC Feature Layer":"web mapping application"===b&&v.includes("configurableApp")?G="Instant App":"Insights Page"===b?G="Insights Report":"Excalibur Imagery Project"===b&&(G="Excalibur Project");return G}readExtent(b){return b&&b.length?new k(b[0][0],b[0][1],b[1][0],b[1][1]):null}get iconUrl(){var b=this.type?.toLowerCase()||"";const v=this.typeKeywords||[];var G=!1;let L=!1,U=!1,C=!1,A=!1,r=!1;G=
!1;0<b.indexOf("service")||"feature collection"===b||"kml"===b||"wms"===b||"wmts"===b||"wfs"===b?(G=v.includes("Hosted Service"),"feature service"===b||"feature collection"===b||"kml"===b||"wfs"===b?(L=v.includes("Table"),U=v.includes("Route Layer"),C=v.includes("Markup"),A=v.includes("Spatiotemporal"),r=v.includes("UtilityNetwork"),b=A&&L?"spatiotemporaltable":L?"table":U?"routelayer":C?"markup":A?"spatiotemporal":G?"featureshosted":r?"utilitynetwork":"features"):b="map service"===b||"wms"===b||
"wmts"===b?G||v.includes("Tiled")||"wmts"===b?"maptiles":"mapimages":"scene service"===b?v.includes("Line")?"sceneweblayerline":v.includes("3DObject")?"sceneweblayermultipatch":v.includes("Point")?"sceneweblayerpoint":v.includes("IntegratedMesh")?"sceneweblayermesh":v.includes("PointCloud")?"sceneweblayerpointcloud":v.includes("Polygon")?"sceneweblayerpolygon":v.includes("Building")?"sceneweblayerbuilding":v.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":"image service"===b?v.includes("Elevation 3D Layer")?
"elevationlayer":v.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":"stream service"===b?"streamlayer":"video service"===b?v.includes("Live Stream")?"livestreamvideolayer":"videolayer":"vector tile service"===b?"vectortile":"datastore catalog service"===b?"datastorecollection":"geocoding service"===b?"geocodeservice":"geoprocessing service"===b?v.includes("Web Tool")?"tool":"layers":"geodata service"===b?"geodataservice":"3dtiles service"===b?"3dtileslayer":"layers"):b="web map"===b||"cityengine web scene"===
b?"maps":"web scene"===b?v.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":"web mapping application"===b&&v.includes("configurableApp")?"instantapps":"web mapping application"===b||"mobile application"===b||"application"===b||"operation view"===b||"desktop application"===b?"apps":"map document"===b||"map package"===b||"published map"===b||"scene document"===b||"globe document"===b||"basemap package"===b||"mobile basemap package"===b||"mobile map package"===b||"project package"===b||
"project template"===b||"pro map"===b||"layout"===b||"layer"===b&&v.includes("ArcGIS Pro")||"explorer map"===b&&v.indexOf("Explorer Document")?"mapsgray":"service definition"===b||"csv"===b||"shapefile"===b||"cad drawing"===b||"geojson"===b||"netcdf"===b||"administrative report"===b?"datafiles":"explorer add in"===b||"desktop add in"===b||"windows viewer add in"===b||"windows viewer configuration"===b?"appsgray":"360 vr experience"===b?"360vr":"arcgis pro add in"===b||"arcgis pro configuration"===
b?"addindesktop":"rule package"===b||"file geodatabase"===b||"sqlite geodatabase"===b||"csv collection"===b||"kml collection"===b||"windows mobile package"===b||"map template"===b||"desktop application template"===b||"gml"===b||"arcpad package"===b||"code sample"===b||"document link"===b||"earth configuration"===b||"operations dashboard add in"===b||"rules package"===b||"image"===b||"workflow manager package"===b||"explorer map"===b&&v.includes("Explorer Mapping Application")||v.includes("Document")?
"datafilesgray":"network analysis service"===b||"geoprocessing service"===b||"geodata service"===b||"geometry service"===b||"geoprocessing package"===b||"locator package"===b||"geoprocessing sample"===b||"workflow manager service"===b?"toolsgray":"layer"===b||"layer package"===b||"explorer layer"===b?"layersgray":"scene package"===b?"scenepackage":"3dtiles package"===b?"3dtileslayerpackage":"mobile scene package"===b?"mobilescenepackage":"tile package"===b||"compact tile package"===b?"tilepackage":
"task file"===b?"taskfile":"report template"===b?"report-template":"statistical data collection"===b?"statisticaldatacollection":"insights workbook"===b?"workbook":"insights model"===b?"insightsmodel":"insights page"===b?"insightspage":"insights theme"===b?"insightstheme":"hub initiative"===b?"hubinitiative":"hubpage"===b?"hubpage":"hub event"===b?"hubevent":"hub site application"===b?"hubsite":"hub project"===b?"hubproject":"relational database connection"===b?"relationaldatabaseconnection":"big data file share"===
b?"datastorecollection":"image collection"===b?"imagecollection":"style"===b?"style":"desktop style"===b?"desktopstyle":"dashboard"===b?"dashboard":"raster function template"===b?"rasterprocessingtemplate":"vector tile package"===b?"vectortilepackage":"ortho mapping project"===b?"orthomappingproject":"ortho mapping template"===b?"orthomappingtemplate":"solution"===b?"solutions":"geopackage"===b?"geopackage":"deep learning package"===b?"deeplearningpackage":"real time analytic"===b?"realtimeanalytics":
"big data analytic"===b?"bigdataanalytics":"feed"===b?"feed":"excalibur imagery project"===b?"excaliburimageryproject":"notebook"===b?"notebook":"storymap"===b?"storymap":"survey123 add in"===b?"survey123addin":"mission"===b?"mission":"mission report"===b?"missionreport":"mission template"===b?"missiontemplate":"quickcapture project"===b?"quickcaptureproject":"pro report"===b?"proreport":"pro report template"===b?"proreporttemplate":"urban model"===b?"urbanmodel":"web experience"===b?"experiencebuilder":
"web experience template"===b?"webexperiencetemplate":"experience builder widget"===b?"experiencebuilderwidget":"experience builder widget package"===b?"experiencebuilderwidgetpackage":"workflow"===b?"workflow":"insights script"===b?"insightsscript":"kernel gateway connection"===b?"kernelgatewayconnection":"hub initiative template"===b?"hubinitiativetemplate":"storymap theme"===b?"storymaptheme":"knowledge graph"===b?"knowledgegraph":"knowledge studio project"===b?"knowledgestudio":"native application"===
b?"nativeapp":"native application installer"===b?"nativeappinstaller":"link chart"===b?"linkchart":"investigation"===b?"investigation":"ogcfeatureserver"===b?"features":"pro project"===b?"proproject":"insights workbook package"===b?"insightsworkbookpackage":"apache parquet"===b?"apacheparquet":"notebook code snippets"===b||"notebook code snippet library"===b?"notebookcodesnippets":"suitability model"===b?"suitabilitymodel":"esri classifier definition"===b?"classifierdefinition":"esri classification schema"===
b?"classificationschema":"insights data engineering workbook"===b?"dataengineeringworkbook":"insights data engineering model"===b?"dataengineeringmodel":"deep learning studio project"===b?"deeplearningproject":"discussion"===b?"discussion":"allsource project"===b?"allsourceproject":"api key"===b?"apikey":"data pipeline"===b?"datapipelines":"group layer"===b?(G=v.includes("Map"))?"layergroup2d":"layergroup":"media layer"===b?"onlinemedialayer":"form"===b?v.includes("Survey123")?"survey":"datafilesgray":
"maps";return b?w.getAssetUrl("esri/images/portal/"+b+"16.png"):null}get isLayer(){return null!=this.type&&Q.has(this.type)}get itemCdnUrl(){let b=this.itemUrl;b&&h.id&&!h.id.findCredential(b)&&(b=h.id._normalizeAGOLorgDomain(b),b=b.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),b=b.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),b=b.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com"));return b}get itemPageUrl(){const b=this.portal?.itemPageUrl;
return b&&this.id?`${b}?id=${this.id}`:null}get itemUrl(){const b=this.portal?.restUrl;return b&&this.id?`${b}/content/items/${this.id}`:null}get thumbnailUrl(){const b=this.itemUrl,v=this.thumbnail;return b&&v?this.portal?.normalizeUrl(`${b}/info/${v}?f=json`)??null:null}get userItemUrl(){const b=this.portal?.restUrl;if(!b)return null;const v=this.owner||this.portal?.user?.username;return v?`${b}/content/users/${this.ownerFolder?`${v}/${this.ownerFolder}`:v}/items/${this.id}`:null}load(b){const v=
this.portal??(this.portal=z.getDefault()),G=v.load(b).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?v.request(this.itemUrl,{signal:null!=b?b.signal:null,query:{token:this.apiKey}}):{}).then(L=>{this.sourceJSON=L;this.read(L)});this.addResolvingPromise(G);return Promise.resolve(this)}async addRating(b){const v={method:"post",query:{}};b instanceof M&&(b=b.rating);null==b||isNaN(b)||"number"!==typeof b||(v.query.rating=b);if(!this.portal)return null;await this.portal.request(this.itemUrl+
"/addRating",v);return new M({rating:b,created:new Date})}clone(){var b={access:this.access,accessInformation:this.accessInformation,applicationProxies:y.clone(this.applicationProxies),avgRating:this.avgRating,categories:y.clone(this.categories),created:y.clone(this.created),culture:this.culture,description:this.description,extent:y.clone(this.extent),groupCategories:y.clone(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:y.clone(this.modified),
name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:y.clone(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:y.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:y.clone(this.typeKeywords),url:this.url};this.loaded&&(b.loadStatus="loaded");b=(new T({sourceJSON:this.sourceJSON})).set(b);
b._set("isOrgItem",this.isOrgItem);return b}createPostQuery(){const b=this.toJSON();for(var v of["tags","typeKeywords","categories"])b[v]=b[v]?.join(", ");({extent:v}=b);v&&(b.extent=JSON.stringify(v));return b}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(b="json",v){return this.portal.request(this.itemUrl+"/data",{responseType:b,...v,query:{token:this.apiKey}})}async fetchRating(b){b=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},
...b});return null!=b.rating?(b.created=new Date(b.created),new M(b)):null}fetchRelatedItems(b,v){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...b,token:this.apiKey},...v},T)}getThumbnailUrl(b){let v=this.thumbnailUrl;v&&b&&(v+=`&w=${b}`);return v}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(b=>{this.sourceJSON=b;this.read(b);return this})}update(b){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>
{const v=b?.data,G={method:"post"};G.query=this.createPostQuery();for(const L in G.query)null===G.query[L]&&(G.query[L]="");G.query.clearEmptyFields=!0;null!=v&&("string"===typeof v?G.query.text=v:"object"===typeof v&&(G.query.text=JSON.stringify(v)));return this.portal.request(`${this.userItemUrl}/update`,G).then(()=>this.reload())}):Promise.reject(new x("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(b){if(!this.id)throw new x("portal:item-does-not-exist",
"The item does not exist yet");await this.load();const {portal:v,itemUrl:G}=this;await v.signIn();const {copyResources:L,folder:U,tags:C,title:A}=b||{};b={method:"post",query:{copyPrivateResources:"all"===L,folder:"string"===typeof U?U:U?.id,includeResources:!!L,tags:C?.join(","),title:A}};({itemId:b}=await v.request(`${G}/copy`,b));return new T({id:b,portal:v})}updateThumbnail(b){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const v=b.thumbnail,G=b.filename,L={method:"post"};
if("string"===typeof v)D.isDataProtocol(v)?L.query={data:v}:L.query={url:D.makeAbsolute(v)},null!=G&&(L.query.filename=G);else{const U=new FormData;null!=G?U.append("file",v,G):U.append("file",v);L.body=U}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,L).then(()=>this.reload())}):Promise.reject(new x("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(b={},v){const {fetchResources:G}=await new Promise((L,U)=>f(["./support/resourceUtils"],
L,U));return G(this,b,v)}async addResource(b,v,G){const {addOrUpdateResource:L}=await new Promise((U,C)=>f(["./support/resourceUtils"],U,C));b.portalItem=this;return L(b,"add",v,G)}async removeResource(b,v){const {removeResource:G}=await new Promise((L,U)=>f(["./support/resourceUtils"],L,U));if(b.portalItem&&b.portalItem.itemUrl!==this.itemUrl)throw new x("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return G(this,b,v)}async removeAllResources(b){const {removeAllResources:v}=
await new Promise((G,L)=>f(["./support/resourceUtils"],G,L));return v(this,b)}resourceFromPath(b){return new E({portalItem:this,path:b})}toJSON(){var b=this.extent;b={accessInformation:this.accessInformation,categories:y.clone(this.categories),created:this.created?.getTime(),description:this.description,extent:b&&[[b.xmin,b.ymin],[b.xmax,b.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,
snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:y.clone(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:y.clone(this.typeKeywords),url:this.url};return y.fixJson(b)}static fromJSON(b){if(!b)return null;if(b.declaredClass)throw Error("JSON object is already hydrated");return new T({sourceJSON:b})}_getPostQuery(){const b=this.toJSON();for(const v in b)"tags"===v&&null!==b[v]&&(b[v]=b[v].join(", ")),"typeKeywords"===v&&null!==
b[v]&&(b[v]=b[v].join(", ")),"extent"===v&&b[v]&&(b[v]=JSON.stringify(b[v]));return b}};g.__decorate([m.property({type:["private","shared","org","public"]})],l.prototype,"access",void 0);g.__decorate([m.property()],l.prototype,"accessInformation",void 0);g.__decorate([m.property({type:String})],l.prototype,"apiKey",void 0);g.__decorate([m.property({json:{read:{source:"appProxies"}}})],l.prototype,"applicationProxies",void 0);g.__decorate([m.property()],l.prototype,"avgRating",void 0);g.__decorate([m.property()],
l.prototype,"categories",void 0);g.__decorate([m.property({type:Date})],l.prototype,"created",void 0);g.__decorate([m.property()],l.prototype,"culture",void 0);g.__decorate([m.property()],l.prototype,"description",void 0);g.__decorate([m.property({readOnly:!0})],l.prototype,"displayName",null);g.__decorate([m.property({type:k})],l.prototype,"extent",void 0);g.__decorate([F.reader("extent")],l.prototype,"readExtent",null);g.__decorate([m.property()],l.prototype,"groupCategories",void 0);g.__decorate([m.property({readOnly:!0})],
l.prototype,"iconUrl",null);g.__decorate([m.property()],l.prototype,"id",void 0);g.__decorate([m.property({readOnly:!0})],l.prototype,"isLayer",null);g.__decorate([m.property({type:Boolean,readOnly:!0})],l.prototype,"isOrgItem",void 0);g.__decorate([m.property()],l.prototype,"itemControl",void 0);g.__decorate([m.property({readOnly:!0})],l.prototype,"itemPageUrl",null);g.__decorate([m.property({readOnly:!0})],l.prototype,"itemUrl",null);g.__decorate([m.property()],l.prototype,"licenseInfo",void 0);
g.__decorate([m.property({type:Date})],l.prototype,"modified",void 0);g.__decorate([m.property()],l.prototype,"name",void 0);g.__decorate([m.property()],l.prototype,"numComments",void 0);g.__decorate([m.property()],l.prototype,"numRatings",void 0);g.__decorate([m.property()],l.prototype,"numViews",void 0);g.__decorate([m.property()],l.prototype,"owner",void 0);g.__decorate([m.property()],l.prototype,"ownerFolder",void 0);g.__decorate([m.property({type:z})],l.prototype,"portal",void 0);g.__decorate([m.property()],
l.prototype,"screenshots",void 0);g.__decorate([m.property()],l.prototype,"size",void 0);g.__decorate([m.property()],l.prototype,"snippet",void 0);g.__decorate([m.property()],l.prototype,"sourceJSON",void 0);g.__decorate([m.property({type:String})],l.prototype,"sourceUrl",void 0);g.__decorate([m.property({type:String})],l.prototype,"spatialReference",void 0);g.__decorate([m.property()],l.prototype,"tags",void 0);g.__decorate([m.property()],l.prototype,"thumbnail",void 0);g.__decorate([m.property({readOnly:!0})],
l.prototype,"thumbnailUrl",null);g.__decorate([m.property()],l.prototype,"title",void 0);g.__decorate([m.property()],l.prototype,"type",void 0);g.__decorate([m.property()],l.prototype,"typeKeywords",void 0);g.__decorate([m.property({type:String,json:{read(b,v){V.has(v.type)&&(v=this.portal?.restUrl,b||(b=v&&this.id?`${v}/content/items/${this.id}/data`:null));return b}}})],l.prototype,"url",void 0);g.__decorate([m.property({readOnly:!0})],l.prototype,"userItemUrl",null);return l=T=g.__decorate([u.subclass("esri.portal.PortalItem")],
l)})},"esri/portal/PortalItemResource":function(){define("require ../chunks/tslib.es6 ../core/Accessor ../core/Error ../core/Logger ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(f,g,w,h,x,l,y,H,D,m,p){w=class extends w{constructor(F){super(F);this.portalItem=null}normalizeCtorArgs(F){return F?.portalItem&&F.path?{...F,path:this._normalizePath(F.path,
F.portalItem)}:F}set path(F){null!=F&&l.isAbsolute(F)?x.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",F)}_castPath(F){return this._normalizePath(F,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?
`./resources/${this.path}`:null}fetch(F="json",u){const k=this.cdnUrl;if(null==k)throw new h("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(k,{responseType:F,query:{token:this.portalItem.apiKey},signal:u?.signal})}async update(F,u){const {addOrUpdateResource:k}=await new Promise((z,E)=>f(["./support/resourceUtils"],z,E));return k(this,"update",F,u)}hasPath(){return null!=this.path}_normalizePath(F,u){if(null==F)return F;
F=F.replace(/^\/+/,"");null!=u&&l.isAbsolute(F)&&(F=l.makeRelative(F,u.itemUrl));return F?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,"")}};g.__decorate([y.property()],w.prototype,"portalItem",void 0);g.__decorate([y.property({type:String,value:null})],w.prototype,"path",null);g.__decorate([H.cast("path")],w.prototype,"_castPath",null);g.__decorate([y.property({type:String,readOnly:!0})],w.prototype,"url",null);g.__decorate([y.property({type:String,readOnly:!0})],w.prototype,"cdnUrl",null);
g.__decorate([y.property({type:String,readOnly:!0})],w.prototype,"itemRelativeUrl",null);return w=g.__decorate([p.subclass("esri.portal.PortalItemResource")],w)})},"esri/portal/PortalRating":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass".split(" "),function(f,g,w,h,x,l,y){g=class extends g{constructor(H){super(H);this.rating=this.created=
null}};f.__decorate([w.property()],g.prototype,"created",void 0);f.__decorate([w.property()],g.prototype,"rating",void 0);return g=f.__decorate([y.subclass("esri.portal.PortalRating")],g)})},"esri/support/basemapDefinitions":function(){define(["exports","../assets","../intl/messages"],function(f,g,w){f.esriBasemapDefinitions={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",
layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",
styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get "dark-gray"(){return{...this["dark-gray-vector"],
id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,
opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",
layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,
opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",
title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},
"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",
layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",
is3d:!0,get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",
layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",
layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",
layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},
"arcgis-imagery-standard":{get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",
isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/dark-gray.jpg")},
title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",
styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/streets-relief.jpg")},
title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/topo.jpg")},title:"Topographic",
baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return g.getAssetUrl("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",
baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",
title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",
title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",
title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,
title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",
baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",
title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",
showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",
title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",
title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}};f.getBasemapTitle=async function(h){if(h){var x=h.includes("-vector")?h.slice(0,h.indexOf("-vector")):
h.includes("-3d")?h.slice(0,h.indexOf("-3d")):h,l=await w.fetchMessageBundle("esri/t9n/basemaps");return l[h]||l[x]}};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/support/BasemapStyle":function(){define("../chunks/tslib.es6 ../core/Accessor ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ../intl/locale".split(" "),function(f,g,w,h,x,l,y,H){const D=new Set("ar bs ca hr cs da nl en et fi fr de el he hu id it ja ko lv lt nb pl ro ru sr es sv th tr uk vi".split(" "));
g=class extends g{constructor(m){super(m);this.language=this.id=null;this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps"}getLanguageParamValue(){if(this.language)return this.language;var m=H.getLocale().toLowerCase();switch(m){case "pt-br":return"pt-BR";case "pt-pt":return"pt-PT";case "zh-cn":return"zh-CN";case "zh-hk":return"zh-HK";case "zh-tw":return"zh-TW"}m=H.getLanguage(m);return"pt"===m?"pt-BR":m&&D.has(m)?m:"global"}};f.__decorate([w.property()],g.prototype,
"id",void 0);f.__decorate([w.property()],g.prototype,"language",void 0);f.__decorate([w.property()],g.prototype,"serviceUrl",void 0);return g=f.__decorate([y.subclass("esri.support.BasemapStyle")],g)})},"esri/webdoc/support/writeUtils":function(){define("exports ../../core/Error ../../core/lang ../../core/object ../../core/accessorSupport/extensions/serializableProperty/writer ../../layers/support/layerUtils".split(" "),function(f,g,w,h,x,l){function y(m,p){"maxScale"in m&&(p.maxScale=x.numberToJSON(m.maxScale)??
void 0);"minScale"in m&&(p.minScale=x.numberToJSON(m.minScale)??void 0)}const H=new Set("bing-maps imagery imagery-tile map-image open-street-map tile unknown unsupported vector-tile web-tile wms wmts".split(" ")),D=new Set("csv feature geo-rss geojson group imagery imagery-tile kml map-image map-notes media ogc-feature oriented-imagery route stream subtype-group tile unknown unsupported vector-tile web-tile wfs wms wmts".split(" "));f.disableRestrictedWriting=function(m){H.add(m);D.add(m)};f.enableRestrictedWriting=
function(m){H.delete(m);D.delete(m)};f.getLayerJSON=function(m,p,F){if(!m.persistenceEnabled)return null;if(!("write"in m&&m.write))return F?.messages&&F.messages.push(new g("layer:unsupported",`Layers (${m.title}, ${m.id}) of type '${m.declaredClass}' cannot be persisted`,{layer:m})),null;if(l.isFeatureCollectionLayer(m)&&!m.isTable)p=m.resourceInfo;else{if(F.restrictedWebMapWriting){var u="basemap"===F.layerContainerType?H:"operational-layers"===F.layerContainerType?D:null;u=null!=u?u.has(m.type)&&
!l.isFeatureCollectionLayer(m):!0}else u=!0;if(u)return p={},m.write(p,F)?p:null}if(null!=p){p=w.clone(p);if(F=p)l.isFeatureCollectionLayer(m)?(u=h.getDeepValue("featureCollection.layers",F)?.[0]?.layerDefinition)&&y(m,u):"group"!==m.type&&y(m,F);if(F&&(F.id=m.id,"blendMode"in m&&(F.blendMode=m.blendMode,"normal"===F.blendMode&&delete F.blendMode),F.opacity=x.numberToJSON(m.opacity)??void 0,F.title=m.title||"Layer",F.visibility=m.visible,"legendEnabled"in m&&"wmts"!==m.type))if(l.isFeatureCollectionLayer(m)){if(F=
F.featureCollection)F.showLegend=m.legendEnabled}else F.showLegend=m.legendEnabled}return p};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/layerUtils":function(){define(["exports","../../kernel","../../request"],function(f,g,w){function h(l){return"scene"===l?.type}function x(l){l=l?.type;return"imagery-tile"===l||"tile"===l||"open-street-map"===l||"vector-tile"===l||"web-tile"===l||"wmts"===l}f.getEffectiveEditingEnabled=function(l){a:if("editingEnabled"in l)switch(l.type){case "csv":case "feature":case "geojson":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":var y=
!0;break a;default:y=!1}else y=!1;return y?"effectiveEditingEnabled"in l?l.effectiveEditingEnabled:l.editingEnabled:!1};f.getEffectiveLayerCapabilities=function(l){a:if("capabilities"in l)switch(l.type){case "csv":case "feature":case "geojson":case "imagery":case "knowledge-graph-sublayer":case "ogc-feature":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":case "wfs":var y=!0;break a;default:y=!1}else y=!1;return y?"effectiveCapabilities"in l?l.effectiveCapabilities:
l.capabilities:null};f.getOwningPortalUrl=async function(l,y){var H=g.id?.findServerInfo(l);if(null!=H?.currentVersion)return H.owningSystemUrl||null;H=l.toLowerCase().indexOf("/rest/services");if(-1===H)return null;l=`${l.substring(0,H)}/rest/info`;({data:y}=await w(l,{query:{f:"json"},responseType:"json",signal:null!=y?y.signal:null}));return y?.owningSystemUrl||null};f.getTileMaxtrixSetFromActiveLayer=function(l){if(l.activeLayer){const y=l.activeLayer.tileMatrixSet;if(y)return y;if(l=l.activeLayer.tileMatrixSets)return l}return null};
f.isBaseLayer=function(l){return null!=l?.parent&&"declaredClass"in l.parent&&"esri.Basemap"===l.parent.declaredClass&&l.parent.baseLayers.includes(l)};f.isBasemap3DSupportedLayer=function(l){return x(l)||h(l)};f.isBasemapSupportedTiledLayer=x;f.isFeatureCollectionLayer=function(l){return"feature"===l?.type&&!l.url&&"memory"===l.source?.type};f.isFeatureLayer=function(l){return null!=l&&"object"===typeof l&&"type"in l&&"feature"===l.type};f.isFeatureServiceLayer=function(l){return"feature"===l?.type&&
"feature-layer"===l.source?.type};f.isGraphicsLayer=function(l){return null!=l&&"object"===typeof l&&"type"in l&&"graphics"===l.type};f.isGroupLayer=function(l){return null!=l&&"type"in l&&"group"===l.type};f.isImageryTileLayer=function(l){return"imagery-tile"===l?.type};f.isKnowledgeGraphLayer=function(l){return null!=l&&"object"===typeof l&&"type"in l&&"knowledge-graph"===l.type&&"layers"in l};f.isLayerWithFeatureLayerSource=function(l){return("feature"===l?.type||"subtype-group"===l?.type)&&"feature-layer"===
l.source?.type};f.isMapNotesLayer=function(l){return null!=l&&"object"===typeof l&&"type"in l&&"map-notes"===l.type&&"sublayers"in l};f.isSceneLayer=h;f.isSceneServiceLayer=function(l){l=l?.type;return"building-scene"===l||"integrated-mesh"===l||"point-cloud"===l||"scene"===l};f.isSubtypeGroupLayer=function(l){return null!=l&&"object"===typeof l&&"type"in l&&"subtype-group"===l.type&&"sublayers"in l};f.isTable=function(l){return null!=l&&"object"===typeof l&&"isTable"in l&&!!l.isTable};f.isTiledLayer=
function(l){l=l?.type;return"base-tile"===l||"tile"===l||"elevation"===l||"imagery-tile"===l||"base-elevation"===l||"open-street-map"===l||"wcs"===l||"web-tile"===l||"wmts"===l||"vector-tile"===l};f.isVoxelLayer=function(l){return"voxel"===l?.type};f.sceneServiceLayerTypeToClassName={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};f.serializeLayerDefinitions=function(l){const y=/[:;]/,H=[];let D=!1;if(l&&(l.forEach((m,
p)=>{H.push([p,m]);!D&&y.test(m)&&(D=!0)}),0<H.length)){if(D){const m={};H.forEach(p=>{m[p[0]]=p[1]});l=JSON.stringify(m)}else{const m=[];H.forEach(p=>{m.push(p[0]+":"+p[1])});l=m.join(";")}return l}return null};f.serializeTimeOptions=function(l){if(l){var y=[];l.forEach((H,D)=>{y.push('"'+D+'":'+JSON.stringify(H))});if(y.length)return"{"+y.join(",")+"}"}};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/layers/effects/utils":function(){define(["exports","./effects"],function(f,
g){f.canInterpolateEffects=function(w,h){const x=w.length>h.length?w:h;return(w.length>h.length?h:w).every((l,y)=>l.type===x[y].type)};f.effectEquals=function(w,h){w=JSON.stringify(w??null);h=JSON.stringify(h??null);return w===h};f.isEffectFunctions=function(w){return(w=w[0])?"type"in w:!1};f.normalizeEffects=function(w,h){const x=w.length>h.length?w:h;w=w.length>h.length?h:w;for(h=w.length;h<x.length;h++)w.push(g.createEffectWithInitialValues(x[h]))};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/effects/effects":function(){define(["exports","../../colorUtils","../../core/screenUtils","../../chunks/mat4f32","./colorMatrixFunctions"],function(f,g,w,h,x){function l(k,z,E){return k+(z-k)*E}function y(k){return Math.round(1E3*w.px2pt(k))/1E3}class H{constructor(k,z,E){this.strength=k;this.radius=z;this.threshold=E;this.type="bloom"}interpolate(k,z,E){this.strength=l(k.strength,z.strength,E);this.radius=l(k.radius,z.radius,E);this.threshold=l(k.threshold,z.threshold,E)}clone(){return new H(this.strength,
this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:y(this.radius),strength:this.strength,threshold:this.threshold}}}class D{constructor(k){this.radius=k;this.type="blur"}interpolate(k,z,E){this.radius=Math.round(l(k.radius,z.radius,E))}clone(){return new D(this.radius)}toJSON(){return{type:"blur",radius:y(this.radius)}}}class m{constructor(k,z){this.type=k;this.amount=z;if("invert"===this.type||"grayscale"===this.type||"sepia"===this.type)this.amount=Math.min(this.amount,1)}get colorMatrix(){this._colorMatrix||
this._updateMatrix();return this._colorMatrix}interpolate(k,z,E){this.amount=l(k.amount,z.amount,E);this._updateMatrix()}clone(){return new m(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const k=this._colorMatrix||h.create();switch(this.type){case "brightness":this._colorMatrix=x.brightness(k,this.amount);break;case "contrast":this._colorMatrix=x.contrast(k,this.amount);break;case "grayscale":this._colorMatrix=x.grayscale(k,this.amount);break;case "invert":this._colorMatrix=
x.invert(k,this.amount);break;case "saturate":this._colorMatrix=x.saturate(k,this.amount);break;case "sepia":this._colorMatrix=x.sepia(k,this.amount)}}}class p{constructor(k,z,E,M){this.offsetX=k;this.offsetY=z;this.blurRadius=E;this.color=M;this.type="drop-shadow"}interpolate(k,z,E){this.offsetX=l(k.offsetX,z.offsetX,E);this.offsetY=l(k.offsetY,z.offsetY,E);this.blurRadius=l(k.blurRadius,z.blurRadius,E);this.color[0]=Math.round(l(k.color[0],z.color[0],E));this.color[1]=Math.round(l(k.color[1],z.color[1],
E));this.color[2]=Math.round(l(k.color[2],z.color[2],E));this.color[3]=l(k.color[3],z.color[3],E)}clone(){return new p(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const k=[...this.color];k[3]*=255;return{type:"drop-shadow",xoffset:y(this.offsetX),yoffset:y(this.offsetY),blurRadius:y(this.blurRadius),color:k}}}class F{constructor(k){this.angle=k;this.type="hue-rotate"}get colorMatrix(){this._colorMatrix||this._updateMatrix();return this._colorMatrix}interpolate(k,z,E){this.angle=
l(k.angle,z.angle,E);this._updateMatrix()}clone(){return new F(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const k=this._colorMatrix||h.create();this._colorMatrix=x.rotateHue(k,this.angle)}}class u{constructor(k){this.amount=k;this.type="opacity";this.amount=Math.min(this.amount,1)}interpolate(k,z,E){this.amount=l(k.amount,z.amount,E)}clone(){return new u(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}}f.BloomEffect=H;f.BlurEffect=D;f.ColorMatrixEffect=
m;f.DropShadowEffect=p;f.HueRotateEffect=F;f.OpacityEffect=u;f.createEffectWithInitialValues=function(k){switch(k.type){case "grayscale":case "sepia":case "invert":return new m(k.type,0);case "saturate":case "brightness":case "contrast":return new m(k.type,1);case "opacity":return new u(1);case "hue-rotate":return new F(0);case "blur":return new D(0);case "drop-shadow":return new p(0,0,0,[...g.getNamedColor("transparent")]);case "bloom":return new H(0,0,1)}};Object.defineProperty(f,Symbol.toStringTag,
{value:"Module"})})},"esri/chunks/mat4f32":function(){define(["exports"],function(f){function g(){const H=new Float32Array(16);H[0]=1;H[5]=1;H[10]=1;H[15]=1;return H}function w(H){const D=new Float32Array(16);D[0]=H[0];D[1]=H[1];D[2]=H[2];D[3]=H[3];D[4]=H[4];D[5]=H[5];D[6]=H[6];D[7]=H[7];D[8]=H[8];D[9]=H[9];D[10]=H[10];D[11]=H[11];D[12]=H[12];D[13]=H[13];D[14]=H[14];D[15]=H[15];return D}function h(H,D,m,p,F,u,k,z,E,M,T,Q,V,b,v,G){const L=new Float32Array(16);L[0]=H;L[1]=D;L[2]=m;L[3]=p;L[4]=F;L[5]=
u;L[6]=k;L[7]=z;L[8]=E;L[9]=M;L[10]=T;L[11]=Q;L[12]=V;L[13]=b;L[14]=v;L[15]=G;return L}function x(H,D){return new Float32Array(H,D,16)}const l=g(),y=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:l,clone:w,create:g,createView:x,fromValues:h},Symbol.toStringTag,{value:"Module"}));f.IDENTITY=l;f.clone=w;f.create=g;f.createView=x;f.fromValues=h;f.mat4f32=y})},"esri/layers/effects/colorMatrixFunctions":function(){define(["exports","../../chunks/mat4"],function(f,g){f.brightness=(w,h)=>{w=
g.set(w,h,0,0,0,0,h,0,0,0,0,h,0,0,0,0,1);return g.transpose(w,w)};f.contrast=(w,h)=>{w=g.set(w,h,0,0,.5-.5*h,0,h,0,.5-.5*h,0,0,h,.5-.5*h,0,0,0,1);return g.transpose(w,w)};f.grayscale=(w,h)=>{h=1-h;w=g.set(w,.2126+.7874*h,.7152-.7152*h,.0722-.0722*h,0,.2126-.2126*h,.7152+.2848*h,.0722-.0722*h,0,.2126-.2126*h,.7152-.7152*h,.0722+.9278*h,0,0,0,0,1);return g.transpose(w,w)};f.invert=(w,h)=>{const x=1-2*h;w=g.set(w,x,0,0,h,0,x,0,h,0,0,x,h,0,0,0,1);return g.transpose(w,w)};f.rotateHue=(w,h)=>{const x=Math.sin(h*
Math.PI/180);h=Math.cos(h*Math.PI/180);w=g.set(w,.213+.787*h-.213*x,.715-.715*h-.715*x,.072-.072*h+.928*x,0,.213-.213*h+.143*x,.715+.285*h+.14*x,.072-.072*h-.283*x,0,.213-.213*h-.787*x,.715-.715*h+.715*x,.072+.928*h+.072*x,0,0,0,0,1);return g.transpose(w,w)};f.saturate=(w,h)=>{w=g.set(w,.213+.787*h,.715-.715*h,.072-.072*h,0,.213-.213*h,.715+.285*h,.072-.072*h,0,.213-.213*h,.715-.715*h,.072+.928*h,0,0,0,0,1);return g.transpose(w,w)};f.sepia=(w,h)=>{h=1-h;w=g.set(w,.393+.607*h,.769-.769*h,.189-.189*
h,0,.349-.349*h,.686+.314*h,.168-.168*h,0,.272-.272*h,.534-.534*h,.131+.869*h,0,0,0,0,1);return g.transpose(w,w)};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(f,g,w){function h(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];a[6]=c[6];a[7]=c[7];a[8]=c[8];a[9]=c[9];a[10]=c[10];a[11]=c[11];a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a}function x(a,c,n,t,I,N,O,R,K,P,X,Y,ba,
aa,ha,fa,ea){a[0]=c;a[1]=n;a[2]=t;a[3]=I;a[4]=N;a[5]=O;a[6]=R;a[7]=K;a[8]=P;a[9]=X;a[10]=Y;a[11]=ba;a[12]=aa;a[13]=ha;a[14]=fa;a[15]=ea;return a}function l(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function y(a,c){if(a===c){const n=c[1],t=c[2],I=c[3],N=c[6],O=c[7],R=c[11];a[1]=c[4];a[2]=c[8];a[3]=c[12];a[4]=n;a[6]=c[9];a[7]=c[13];a[8]=t;a[9]=N;a[11]=c[14];a[12]=I;a[13]=O;a[14]=R}else a[0]=c[0],a[1]=c[4],a[2]=c[8],
a[3]=c[12],a[4]=c[1],a[5]=c[5],a[6]=c[9],a[7]=c[13],a[8]=c[2],a[9]=c[6],a[10]=c[10],a[11]=c[14],a[12]=c[3],a[13]=c[7],a[14]=c[11],a[15]=c[15];return a}function H(a,c){D(a,c)||l(a);return a}function D(a,c){const n=c[0],t=c[1],I=c[2],N=c[3],O=c[4],R=c[5],K=c[6],P=c[7],X=c[8],Y=c[9],ba=c[10],aa=c[11],ha=c[12],fa=c[13],ea=c[14];c=c[15];const ra=n*R-t*O,ja=n*K-I*O,ka=n*P-N*O,la=t*K-I*R,ma=t*P-N*R,ua=I*P-N*K,va=X*fa-Y*ha,wa=X*ea-ba*ha,xa=X*c-aa*ha,ya=Y*ea-ba*fa,za=Y*c-aa*fa,Aa=ba*c-aa*ea;let sa=ra*Aa-ja*
za+ka*ya+la*xa-ma*wa+ua*va;if(!sa)return null;sa=1/sa;a[0]=(R*Aa-K*za+P*ya)*sa;a[1]=(I*za-t*Aa-N*ya)*sa;a[2]=(fa*ua-ea*ma+c*la)*sa;a[3]=(ba*ma-Y*ua-aa*la)*sa;a[4]=(K*xa-O*Aa-P*wa)*sa;a[5]=(n*Aa-I*xa+N*wa)*sa;a[6]=(ea*ka-ha*ua-c*ja)*sa;a[7]=(X*ua-ba*ka+aa*ja)*sa;a[8]=(O*za-R*xa+P*va)*sa;a[9]=(t*xa-n*za-N*va)*sa;a[10]=(ha*ma-fa*ka+c*ra)*sa;a[11]=(Y*ka-X*ma-aa*ra)*sa;a[12]=(R*wa-O*ya-K*va)*sa;a[13]=(n*ya-t*wa+I*va)*sa;a[14]=(fa*ja-ha*la-ea*ra)*sa;a[15]=(X*la-Y*ja+ba*ra)*sa;return a}function m(a,c){const n=
c[0],t=c[1],I=c[2],N=c[3],O=c[4],R=c[5],K=c[6],P=c[7],X=c[8],Y=c[9],ba=c[10],aa=c[11],ha=c[12],fa=c[13],ea=c[14];c=c[15];a[0]=R*(ba*c-aa*ea)-Y*(K*c-P*ea)+fa*(K*aa-P*ba);a[1]=-(t*(ba*c-aa*ea)-Y*(I*c-N*ea)+fa*(I*aa-N*ba));a[2]=t*(K*c-P*ea)-R*(I*c-N*ea)+fa*(I*P-N*K);a[3]=-(t*(K*aa-P*ba)-R*(I*aa-N*ba)+Y*(I*P-N*K));a[4]=-(O*(ba*c-aa*ea)-X*(K*c-P*ea)+ha*(K*aa-P*ba));a[5]=n*(ba*c-aa*ea)-X*(I*c-N*ea)+ha*(I*aa-N*ba);a[6]=-(n*(K*c-P*ea)-O*(I*c-N*ea)+ha*(I*P-N*K));a[7]=n*(K*aa-P*ba)-O*(I*aa-N*ba)+X*(I*P-N*K);
a[8]=O*(Y*c-aa*fa)-X*(R*c-P*fa)+ha*(R*aa-P*Y);a[9]=-(n*(Y*c-aa*fa)-X*(t*c-N*fa)+ha*(t*aa-N*Y));a[10]=n*(R*c-P*fa)-O*(t*c-N*fa)+ha*(t*P-N*R);a[11]=-(n*(R*aa-P*Y)-O*(t*aa-N*Y)+X*(t*P-N*R));a[12]=-(O*(Y*ea-ba*fa)-X*(R*ea-K*fa)+ha*(R*ba-K*Y));a[13]=n*(Y*ea-ba*fa)-X*(t*ea-I*fa)+ha*(t*ba-I*Y);a[14]=-(n*(R*ea-K*fa)-O*(t*ea-I*fa)+ha*(t*K-I*R));a[15]=n*(R*ba-K*Y)-O*(t*ba-I*Y)+X*(t*K-I*R);return a}function p(a){const c=a[0],n=a[1],t=a[2],I=a[3],N=a[4],O=a[5],R=a[6],K=a[7],P=a[8],X=a[9],Y=a[10],ba=a[11],aa=
a[12],ha=a[13],fa=a[14];a=a[15];return(c*O-n*N)*(Y*a-ba*fa)-(c*R-t*N)*(X*a-ba*ha)+(c*K-I*N)*(X*fa-Y*ha)+(n*R-t*O)*(P*a-ba*aa)-(n*K-I*O)*(P*fa-Y*aa)+(t*K-I*R)*(P*ha-X*aa)}function F(a,c,n){const t=c[0],I=c[1],N=c[2],O=c[3],R=c[4],K=c[5],P=c[6],X=c[7],Y=c[8],ba=c[9],aa=c[10],ha=c[11],fa=c[12],ea=c[13],ra=c[14];c=c[15];let ja=n[0],ka=n[1],la=n[2],ma=n[3];a[0]=ja*t+ka*R+la*Y+ma*fa;a[1]=ja*I+ka*K+la*ba+ma*ea;a[2]=ja*N+ka*P+la*aa+ma*ra;a[3]=ja*O+ka*X+la*ha+ma*c;ja=n[4];ka=n[5];la=n[6];ma=n[7];a[4]=ja*t+
ka*R+la*Y+ma*fa;a[5]=ja*I+ka*K+la*ba+ma*ea;a[6]=ja*N+ka*P+la*aa+ma*ra;a[7]=ja*O+ka*X+la*ha+ma*c;ja=n[8];ka=n[9];la=n[10];ma=n[11];a[8]=ja*t+ka*R+la*Y+ma*fa;a[9]=ja*I+ka*K+la*ba+ma*ea;a[10]=ja*N+ka*P+la*aa+ma*ra;a[11]=ja*O+ka*X+la*ha+ma*c;ja=n[12];ka=n[13];la=n[14];ma=n[15];a[12]=ja*t+ka*R+la*Y+ma*fa;a[13]=ja*I+ka*K+la*ba+ma*ea;a[14]=ja*N+ka*P+la*aa+ma*ra;a[15]=ja*O+ka*X+la*ha+ma*c;return a}function u(a,c,n){const t=n[0],I=n[1];n=n[2];if(c===a)a[12]=c[0]*t+c[4]*I+c[8]*n+c[12],a[13]=c[1]*t+c[5]*I+c[9]*
n+c[13],a[14]=c[2]*t+c[6]*I+c[10]*n+c[14],a[15]=c[3]*t+c[7]*I+c[11]*n+c[15];else{const N=c[0],O=c[1],R=c[2],K=c[3],P=c[4],X=c[5],Y=c[6],ba=c[7],aa=c[8],ha=c[9],fa=c[10],ea=c[11];a[0]=N;a[1]=O;a[2]=R;a[3]=K;a[4]=P;a[5]=X;a[6]=Y;a[7]=ba;a[8]=aa;a[9]=ha;a[10]=fa;a[11]=ea;a[12]=N*t+P*I+aa*n+c[12];a[13]=O*t+X*I+ha*n+c[13];a[14]=R*t+Y*I+fa*n+c[14];a[15]=K*t+ba*I+ea*n+c[15]}return a}function k(a,c,n){const t=n[0],I=n[1];n=n[2];a[0]=c[0]*t;a[1]=c[1]*t;a[2]=c[2]*t;a[3]=c[3]*t;a[4]=c[4]*I;a[5]=c[5]*I;a[6]=
c[6]*I;a[7]=c[7]*I;a[8]=c[8]*n;a[9]=c[9]*n;a[10]=c[10]*n;a[11]=c[11]*n;a[12]=c[12];a[13]=c[13];a[14]=c[14];a[15]=c[15];return a}function z(a,c,n,t){let I=t[0],N=t[1];t=t[2];let O=Math.sqrt(I*I+N*N+t*t);var R=void 0,K=void 0;let P=void 0,X=void 0,Y=void 0,ba=void 0,aa=void 0,ha=void 0,fa=void 0,ea=void 0,ra=void 0,ja=void 0,ka=void 0,la=void 0,ma=void 0,ua=void 0,va=void 0,wa=void 0,xa=void 0,ya=void 0,za=void 0,Aa=void 0;K=R=void 0;if(O<w.getEpsilon())return null;O=1/O;I*=O;N*=O;t*=O;R=Math.sin(n);
K=Math.cos(n);P=1-K;X=c[0];Y=c[1];ba=c[2];aa=c[3];ha=c[4];fa=c[5];ea=c[6];ra=c[7];ja=c[8];ka=c[9];la=c[10];ma=c[11];ua=I*I*P+K;va=N*I*P+t*R;wa=t*I*P-N*R;xa=I*N*P-t*R;ya=N*N*P+K;za=t*N*P+I*R;Aa=I*t*P+N*R;R=N*t*P-I*R;K=t*t*P+K;a[0]=X*ua+ha*va+ja*wa;a[1]=Y*ua+fa*va+ka*wa;a[2]=ba*ua+ea*va+la*wa;a[3]=aa*ua+ra*va+ma*wa;a[4]=X*xa+ha*ya+ja*za;a[5]=Y*xa+fa*ya+ka*za;a[6]=ba*xa+ea*ya+la*za;a[7]=aa*xa+ra*ya+ma*za;a[8]=X*Aa+ha*R+ja*K;a[9]=Y*Aa+fa*R+ka*K;a[10]=ba*Aa+ea*R+la*K;a[11]=aa*Aa+ra*R+ma*K;c!==a&&(a[12]=
c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);return a}function E(a,c,n){const t=Math.sin(n);n=Math.cos(n);const I=c[4],N=c[5],O=c[6],R=c[7],K=c[8],P=c[9],X=c[10],Y=c[11];c!==a&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[4]=I*n+K*t;a[5]=N*n+P*t;a[6]=O*n+X*t;a[7]=R*n+Y*t;a[8]=K*n-I*t;a[9]=P*n-N*t;a[10]=X*n-O*t;a[11]=Y*n-R*t;return a}function M(a,c,n){const t=Math.sin(n);n=Math.cos(n);const I=c[0],N=c[1],O=c[2],R=c[3],K=c[8],P=c[9],X=c[10],Y=c[11];c!==a&&
(a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=I*n-K*t;a[1]=N*n-P*t;a[2]=O*n-X*t;a[3]=R*n-Y*t;a[8]=I*t+K*n;a[9]=N*t+P*n;a[10]=O*t+X*n;a[11]=R*t+Y*n;return a}function T(a,c,n){const t=Math.sin(n);n=Math.cos(n);const I=c[0],N=c[1],O=c[2],R=c[3],K=c[4],P=c[5],X=c[6],Y=c[7];c!==a&&(a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);a[0]=I*n+K*t;a[1]=N*n+P*t;a[2]=O*n+X*t;a[3]=R*n+Y*t;a[4]=K*n-I*t;a[5]=P*n-N*t;a[6]=
X*n-O*t;a[7]=Y*n-R*t;return a}function Q(a,c){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a}function V(a,c){a[0]=c[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=c[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function b(a,c,n){if(0===c)return l(a);let t=n[0],I=n[1];n=n[2];let N=Math.sqrt(t*t+I*I+n*n),O=void 0,R=void 0,K=void 0;if(N<w.getEpsilon())return null;N=1/N;t*=N;I*=N;
n*=N;O=Math.sin(c);R=Math.cos(c);K=1-R;a[0]=t*t*K+R;a[1]=I*t*K+n*O;a[2]=n*t*K-I*O;a[3]=0;a[4]=t*I*K-n*O;a[5]=I*I*K+R;a[6]=n*I*K+t*O;a[7]=0;a[8]=t*n*K+I*O;a[9]=I*n*K-t*O;a[10]=n*n*K+R;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function v(a,c){const n=Math.sin(c);c=Math.cos(c);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=n;a[7]=0;a[8]=0;a[9]=-n;a[10]=c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function G(a,c){const n=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=0;a[2]=-n;a[3]=0;a[4]=0;a[5]=
1;a[6]=0;a[7]=0;a[8]=n;a[9]=0;a[10]=c;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function L(a,c){const n=Math.sin(c);c=Math.cos(c);a[0]=c;a[1]=n;a[2]=0;a[3]=0;a[4]=-n;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function U(a,c,n){var t=c[0],I=c[1],N=c[2],O=c[3],R=t+t,K=I+I;const P=N+N;c=t*R;const X=t*K;t*=P;const Y=I*K;I*=P;N*=P;R*=O;K*=O;O*=P;a[0]=1-(Y+N);a[1]=X+O;a[2]=t-K;a[3]=0;a[4]=X-O;a[5]=1-(c+N);a[6]=I+R;a[7]=0;a[8]=t+K;a[9]=I-R;a[10]=1-
(c+Y);a[11]=0;a[12]=n[0];a[13]=n[1];a[14]=n[2];a[15]=1;return a}function C(a,c){const n=Ia,t=-c[0],I=-c[1],N=-c[2],O=c[3],R=c[4],K=c[5],P=c[6],X=c[7],Y=t*t+I*I+N*N+O*O;0<Y?(n[0]=2*(R*O+X*t+K*N-P*I)/Y,n[1]=2*(K*O+X*I+P*t-R*N)/Y,n[2]=2*(P*O+X*N+R*I-K*t)/Y):(n[0]=2*(R*O+X*t+K*N-P*I),n[1]=2*(K*O+X*I+P*t-R*N),n[2]=2*(P*O+X*N+R*I-K*t));U(a,c,n);return a}function A(a,c){a[0]=c[12];a[1]=c[13];a[2]=c[14];return a}function r(a,c){const n=c[0],t=c[1],I=c[2],N=c[4],O=c[5],R=c[6],K=c[8],P=c[9];c=c[10];a[0]=Math.sqrt(n*
n+t*t+I*I);a[1]=Math.sqrt(N*N+O*O+R*R);a[2]=Math.sqrt(K*K+P*P+c*c);return a}function J(a,c){const n=c[0]+c[5]+c[10];let t=0;0<n?(t=2*Math.sqrt(n+1),a[3]=.25*t,a[0]=(c[6]-c[9])/t,a[1]=(c[8]-c[2])/t,a[2]=(c[1]-c[4])/t):c[0]>c[5]&&c[0]>c[10]?(t=2*Math.sqrt(1+c[0]-c[5]-c[10]),a[3]=(c[6]-c[9])/t,a[0]=.25*t,a[1]=(c[1]+c[4])/t,a[2]=(c[8]+c[2])/t):c[5]>c[10]?(t=2*Math.sqrt(1+c[5]-c[0]-c[10]),a[3]=(c[8]-c[2])/t,a[0]=(c[1]+c[4])/t,a[1]=.25*t,a[2]=(c[6]+c[9])/t):(t=2*Math.sqrt(1+c[10]-c[0]-c[5]),a[3]=(c[1]-
c[4])/t,a[0]=(c[8]+c[2])/t,a[1]=(c[6]+c[9])/t,a[2]=.25*t);return a}function d(a,c,n,t){var I=c[0],N=c[1],O=c[2],R=c[3],K=I+I,P=N+N,X=O+O;c=I*K;const Y=I*P;I*=X;const ba=N*P;N*=X;O*=X;K*=R;P*=R;R*=X;X=t[0];const aa=t[1];t=t[2];a[0]=(1-(ba+O))*X;a[1]=(Y+R)*X;a[2]=(I-P)*X;a[3]=0;a[4]=(Y-R)*aa;a[5]=(1-(c+O))*aa;a[6]=(N+K)*aa;a[7]=0;a[8]=(I+P)*t;a[9]=(N-K)*t;a[10]=(1-(c+ba))*t;a[11]=0;a[12]=n[0];a[13]=n[1];a[14]=n[2];a[15]=1;return a}function e(a,c,n,t,I){var N=c[0],O=c[1],R=c[2],K=c[3],P=N+N,X=O+O,Y=
R+R;c=N*P;var ba=N*X,aa=N*Y;N=O*X;O*=Y;var ha=R*Y;R=K*P;X*=K;const fa=K*Y;var ea=t[0],ra=t[1];Y=t[2];t=I[0];K=I[1];I=I[2];P=(1-(N+ha))*ea;const ja=(ba+fa)*ea;ea*=aa-X;ba=(ba-fa)*ra;ha=(1-(c+ha))*ra;ra*=O+R;aa=(aa+X)*Y;O=(O-R)*Y;c=(1-(c+N))*Y;a[0]=P;a[1]=ja;a[2]=ea;a[3]=0;a[4]=ba;a[5]=ha;a[6]=ra;a[7]=0;a[8]=aa;a[9]=O;a[10]=c;a[11]=0;a[12]=n[0]+t-(P*t+ba*K+aa*I);a[13]=n[1]+K-(ja*t+ha*K+O*I);a[14]=n[2]+I-(ea*t+ra*K+c*I);a[15]=1;return a}function q(a,c){var n=c[0],t=c[1],I=c[2];c=c[3];var N=n+n,O=t+t;
const R=I+I;n*=N;const K=t*N;t*=O;const P=I*N,X=I*O;I*=R;N*=c;O*=c;c*=R;a[0]=1-t-I;a[1]=K+c;a[2]=P-O;a[3]=0;a[4]=K-c;a[5]=1-n-I;a[6]=X+N;a[7]=0;a[8]=P+O;a[9]=X-N;a[10]=1-n-t;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function B(a,c,n,t,I,N,O){const R=1/(n-c),K=1/(I-t),P=1/(N-O);a[0]=2*N*R;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*N*K;a[6]=0;a[7]=0;a[8]=(n+c)*R;a[9]=(I+t)*K;a[10]=(O+N)*P;a[11]=-1;a[12]=0;a[13]=0;a[14]=O*N*2*P;a[15]=0;return a}function S(a,c,n,t,I){c=1/Math.tan(c/2);let N=void 0;a[0]=
c/n;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=c;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=I&&Infinity!==I?(N=1/(t-I),a[10]=(I+t)*N,a[14]=2*I*t*N):(a[10]=-1,a[14]=-2*t);return a}function W(a,c,n,t){const I=Math.tan(c.upDegrees*Math.PI/180),N=Math.tan(c.downDegrees*Math.PI/180),O=Math.tan(c.leftDegrees*Math.PI/180);c=Math.tan(c.rightDegrees*Math.PI/180);const R=2/(O+c),K=2/(I+N);a[0]=R;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=K;a[6]=0;a[7]=0;a[8]=-((O-c)*R*.5);a[9]=(I-N)*K*.5;a[10]=t/(n-t);
a[11]=-1;a[12]=0;a[13]=0;a[14]=t*n/(n-t);a[15]=0;return a}function Z(a,c,n,t,I,N,O){const R=1/(c-n),K=1/(t-I),P=1/(N-O);a[0]=-2*R;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*K;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*P;a[11]=0;a[12]=(c+n)*R;a[13]=(I+t)*K;a[14]=(O+N)*P;a[15]=1;return a}function ca(a,c,n,t){const I=c[0],N=c[1];c=c[2];let O=I-n[0],R=N-n[1];n=c-n[2];var K=w.getEpsilon();if(Math.abs(O)<K&&Math.abs(R)<K&&Math.abs(n)<K)l(a);else{var P=1/Math.sqrt(O*O+R*R+n*n);O*=P;R*=P;n*=P;P=t[0];var X=t[1];K=t[2];
t=X*n-K*R;K=K*O-P*n;X=P*R-X*O;(P=Math.sqrt(t*t+K*K+X*X))?(P=1/P,t*=P,K*=P,X*=P):X=K=t=0;var Y=R*X-n*K,ba=n*t-O*X,aa=O*K-R*t;(P=Math.sqrt(Y*Y+ba*ba+aa*aa))?(P=1/P,Y*=P,ba*=P,aa*=P):aa=ba=Y=0;a[0]=t;a[1]=Y;a[2]=O;a[3]=0;a[4]=K;a[5]=ba;a[6]=R;a[7]=0;a[8]=X;a[9]=aa;a[10]=n;a[11]=0;a[12]=-(t*I+K*N+X*c);a[13]=-(Y*I+ba*N+aa*c);a[14]=-(O*I+R*N+n*c);a[15]=1}}function da(a,c,n,t){const I=c[0],N=c[1];c=c[2];var O=t[0];const R=t[1];var K=t[2];t=I-n[0];let P=N-n[1];n=c-n[2];let X=t*t+P*P+n*n;0<X&&(X=1/Math.sqrt(X),
t*=X,P*=X,n*=X);let Y=R*n-K*P;K=K*t-O*n;O=O*P-R*t;X=Y*Y+K*K+O*O;0<X&&(X=1/Math.sqrt(X),Y*=X,K*=X,O*=X);a[0]=Y;a[1]=K;a[2]=O;a[3]=0;a[4]=P*O-n*K;a[5]=n*Y-t*O;a[6]=t*K-P*Y;a[7]=0;a[8]=t;a[9]=P;a[10]=n;a[11]=0;a[12]=I;a[13]=N;a[14]=c;a[15]=1;return a}function na(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function oa(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**
2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function pa(a,c,n){a[0]=c[0]+n[0];a[1]=c[1]+n[1];a[2]=c[2]+n[2];a[3]=c[3]+n[3];a[4]=c[4]+n[4];a[5]=c[5]+n[5];a[6]=c[6]+n[6];a[7]=c[7]+n[7];a[8]=c[8]+n[8];a[9]=c[9]+n[9];a[10]=c[10]+n[10];a[11]=c[11]+n[11];a[12]=c[12]+n[12];a[13]=c[13]+n[13];a[14]=c[14]+n[14];a[15]=c[15]+n[15];return a}function qa(a,c,n){a[0]=c[0]-n[0];a[1]=c[1]-n[1];a[2]=c[2]-n[2];a[3]=c[3]-n[3];a[4]=c[4]-n[4];a[5]=c[5]-n[5];a[6]=
c[6]-n[6];a[7]=c[7]-n[7];a[8]=c[8]-n[8];a[9]=c[9]-n[9];a[10]=c[10]-n[10];a[11]=c[11]-n[11];a[12]=c[12]-n[12];a[13]=c[13]-n[13];a[14]=c[14]-n[14];a[15]=c[15]-n[15];return a}function ia(a,c,n){a[0]=c[0]*n;a[1]=c[1]*n;a[2]=c[2]*n;a[3]=c[3]*n;a[4]=c[4]*n;a[5]=c[5]*n;a[6]=c[6]*n;a[7]=c[7]*n;a[8]=c[8]*n;a[9]=c[9]*n;a[10]=c[10]*n;a[11]=c[11]*n;a[12]=c[12]*n;a[13]=c[13]*n;a[14]=c[14]*n;a[15]=c[15]*n;return a}function Ba(a,c,n,t){a[0]=c[0]+n[0]*t;a[1]=c[1]+n[1]*t;a[2]=c[2]+n[2]*t;a[3]=c[3]+n[3]*t;a[4]=c[4]+
n[4]*t;a[5]=c[5]+n[5]*t;a[6]=c[6]+n[6]*t;a[7]=c[7]+n[7]*t;a[8]=c[8]+n[8]*t;a[9]=c[9]+n[9]*t;a[10]=c[10]+n[10]*t;a[11]=c[11]+n[11]*t;a[12]=c[12]+n[12]*t;a[13]=c[13]+n[13]*t;a[14]=c[14]+n[14]*t;a[15]=c[15]+n[15]*t;return a}function Ca(a,c){return a[0]===c[0]&&a[1]===c[1]&&a[2]===c[2]&&a[3]===c[3]&&a[4]===c[4]&&a[5]===c[5]&&a[6]===c[6]&&a[7]===c[7]&&a[8]===c[8]&&a[9]===c[9]&&a[10]===c[10]&&a[11]===c[11]&&a[12]===c[12]&&a[13]===c[13]&&a[14]===c[14]&&a[15]===c[15]}function Da(a,c){if(a===c)return!0;const n=
a[0],t=a[1],I=a[2],N=a[3],O=a[4],R=a[5],K=a[6],P=a[7],X=a[8],Y=a[9],ba=a[10],aa=a[11],ha=a[12],fa=a[13],ea=a[14];a=a[15];const ra=c[0],ja=c[1],ka=c[2],la=c[3],ma=c[4],ua=c[5],va=c[6],wa=c[7],xa=c[8],ya=c[9],za=c[10],Aa=c[11],sa=c[12],Ea=c[13],Fa=c[14];c=c[15];const ta=w.getEpsilon();return Math.abs(n-ra)<=ta*Math.max(1,Math.abs(n),Math.abs(ra))&&Math.abs(t-ja)<=ta*Math.max(1,Math.abs(t),Math.abs(ja))&&Math.abs(I-ka)<=ta*Math.max(1,Math.abs(I),Math.abs(ka))&&Math.abs(N-la)<=ta*Math.max(1,Math.abs(N),
Math.abs(la))&&Math.abs(O-ma)<=ta*Math.max(1,Math.abs(O),Math.abs(ma))&&Math.abs(R-ua)<=ta*Math.max(1,Math.abs(R),Math.abs(ua))&&Math.abs(K-va)<=ta*Math.max(1,Math.abs(K),Math.abs(va))&&Math.abs(P-wa)<=ta*Math.max(1,Math.abs(P),Math.abs(wa))&&Math.abs(X-xa)<=ta*Math.max(1,Math.abs(X),Math.abs(xa))&&Math.abs(Y-ya)<=ta*Math.max(1,Math.abs(Y),Math.abs(ya))&&Math.abs(ba-za)<=ta*Math.max(1,Math.abs(ba),Math.abs(za))&&Math.abs(aa-Aa)<=ta*Math.max(1,Math.abs(aa),Math.abs(Aa))&&Math.abs(ha-sa)<=ta*Math.max(1,
Math.abs(ha),Math.abs(sa))&&Math.abs(fa-Ea)<=ta*Math.max(1,Math.abs(fa),Math.abs(Ea))&&Math.abs(ea-Fa)<=ta*Math.max(1,Math.abs(ea),Math.abs(Fa))&&Math.abs(a-c)<=ta*Math.max(1,Math.abs(a),Math.abs(c))}function Ga(a){const c=w.getEpsilon(),n=a[0],t=a[1],I=a[2],N=a[4],O=a[5],R=a[6],K=a[8],P=a[9];a=a[10];return Math.abs(1-(n*n+N*N+K*K))<=c&&Math.abs(1-(t*t+O*O+P*P))<=c&&Math.abs(1-(I*I+R*R+a*a))<=c}function Ha(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===
a[10]}const Ia=g.create();g=Object.freeze(Object.defineProperty({__proto__:null,add:pa,adjoint:m,copy:h,determinant:p,equals:Da,exactEquals:Ca,frob:oa,fromQuat:q,fromQuat2:C,fromRotation:b,fromRotationTranslation:U,fromRotationTranslationScale:d,fromRotationTranslationScaleOrigin:e,fromScaling:V,fromTranslation:Q,fromXRotation:v,fromYRotation:G,fromZRotation:L,frustum:B,getRotation:J,getScaling:r,getTranslation:A,hasIdentityRotation:Ha,identity:l,invert:D,invertOrIdentity:H,isOrthoNormal:Ga,lookAt:ca,
mul:F,multiply:F,multiplyScalar:ia,multiplyScalarAndAdd:Ba,ortho:Z,perspective:S,perspectiveFromFieldOfView:W,rotate:z,rotateX:E,rotateY:M,rotateZ:T,scale:k,set:x,str:na,sub:qa,subtract:qa,targetTo:da,translate:u,transpose:y},Symbol.toStringTag,{value:"Module"}));f.add=pa;f.adjoint=m;f.copy=h;f.determinant=p;f.equals=Da;f.exactEquals=Ca;f.frob=oa;f.fromQuat=q;f.fromQuat2=C;f.fromRotation=b;f.fromRotationTranslation=U;f.fromRotationTranslationScale=d;f.fromRotationTranslationScaleOrigin=e;f.fromScaling=
V;f.fromTranslation=Q;f.fromXRotation=v;f.fromYRotation=G;f.fromZRotation=L;f.frustum=B;f.getRotation=J;f.getScaling=r;f.getTranslation=A;f.hasIdentityRotation=Ha;f.identity=l;f.invert=D;f.invertOrIdentity=H;f.isOrthoNormal=Ga;f.lookAt=ca;f.mat4=g;f.mul=F;f.multiply=F;f.multiplyScalar=ia;f.multiplyScalarAndAdd=Ba;f.ortho=Z;f.perspective=S;f.perspectiveFromFieldOfView=W;f.rotate=z;f.rotateX=E;f.rotateY=M;f.rotateZ=T;f.scale=k;f.set=x;f.str=na;f.sub=qa;f.subtract=qa;f.targetTo=da;f.translate=u;f.transpose=
y})},"esri/statistics/utils":function(){define(["exports","../rest/support/ClassBreaksDefinition","../rest/support/generateRendererUtils"],function(f,g,w){function h(d){return null==d||"string"===typeof d&&!d?"\x3cNull\x3e":d}function x(d){const e=null!=d.minValue||null!=d.maxValue,q=!!d.sqlExpression&&d.supportsSQLExpression;return!(null!=d.normalizationField||null!=d.normalizationType)&&!e&&!q}function l(d){const {values:e,useSampleStdDev:q,supportsNullCount:B}=d;var S=Number.POSITIVE_INFINITY;
let W=Number.NEGATIVE_INFINITY,Z=null,ca=null;var da=null;let na=null,oa=0;const pa=null==d.minValue?-Infinity:d.minValue,qa=null==d.maxValue?Infinity:d.maxValue;for(const ia of e)Number.isFinite(ia)?ia>=pa&&ia<=qa&&(Z=null===Z?ia:Z+ia,S=Math.min(S,ia),W=Math.max(W,ia),oa++):"string"===typeof ia&&oa++;if(oa&&null!=Z){ca=Z/oa;da=0;for(const ia of e)Number.isFinite(ia)&&ia>=pa&&ia<=qa&&(da+=(ia-ca)**2);na=q?1<oa?da/(oa-1):0:0<oa?da/oa:0;da=Math.sqrt(na)}else W=S=null;S={avg:ca,count:oa,max:W,min:S,
stddev:da,sum:Z,variance:na};B&&(S.nullcount=e.length-oa);d.percentileParams&&(S.median=y(e,d.percentileParams));return S}function y(d,e){const {fieldType:q,value:B,orderBy:S,isDiscrete:W}=e,Z=H(q,"desc"===S);d=[...d].filter(oa=>null!=oa).sort((oa,pa)=>Z(oa,pa));if(0===d.length)return null;if(0>=B)return d[0];if(1<=B)return d[d.length-1];var ca=(d.length-1)*B,da=Math.floor(ca);e=da+1;ca%=1;da=d[da];const na=d[e];return e>=d.length||W||"string"===typeof da||"string"===typeof na?da:da*(1-ca)+na*ca}
function H(d,e){if(d){if(Q.has(d))return e?r:J;if(V.has(d))return D(e,!1);if("esriFieldTypeTimestampOffset"===d)return e?U:L;const W=D(e,!0);if("esriFieldTypeString"===d)return W;if("esriFieldTypeGUID"===d||"esriFieldTypeGlobalID"===d)return(Z,ca)=>W(m(Z),m(ca))}const q=e?1:-1,B=e?r:J,S=D(e,!0);return(W,Z)=>"number"===typeof W&&"number"===typeof Z?B(W,Z):"string"===typeof W&&"string"===typeof Z?S(W,Z):q}function D(d,e){if(!e)return d?A:C;const q=d?v:G;return d?(B,S)=>{const W=q(B,S);if(null!=W)return W;
B=B.toUpperCase();S=S.toUpperCase();return B>S?-1:B<S?1:0}:(B,S)=>{const W=q(B,S);if(null!=W)return W;B=B.toUpperCase();S=S.toUpperCase();return B<S?-1:B>S?1:0}}function m(d){return d.substr(24,12)+d.substr(19,4)+d.substr(16,2)+d.substr(14,2)+d.substr(11,2)+d.substr(9,2)+d.substr(6,2)+d.substr(4,2)+d.substr(2,2)+d.substr(0,2)}function p(d){return"coded-value"!==d?.type?[]:d.codedValues.map(e=>e.code)}function F(d,e){const q=k({field:e.field,normalizationType:e.normalizationType,normalizationField:e.normalizationField,
classificationMethod:e.classificationMethod,standardDeviationInterval:e.standardDeviationInterval,breakCount:e.numClasses||5});d=u(d,e.minValue,e.maxValue);return w.createGenerateRendererClassBreaks({definition:q,values:d,normalizationTotal:e.normalizationTotal})}function u(d,e,q){const B=null==e?-Infinity:e,S=null==q?Infinity:q;return d.filter(W=>Number.isFinite(W)&&W>=B&&W<=S)}function k(d){const {breakCount:e,field:q,normalizationField:B,normalizationType:S}=d,W=d.classificationMethod||"equal-interval";
return new g({breakCount:e,classificationField:q,classificationMethod:W,normalizationField:"field"===S?B:void 0,normalizationType:S,standardDeviationInterval:"standard-deviation"===W?d.standardDeviationInterval||1:void 0})}function z(d,e){const {field:q,classificationMethod:B,standardDeviationInterval:S,normalizationType:W,normalizationField:Z,normalizationTotal:ca,minValue:da,maxValue:na}=e,oa=e.numBins||10;let pa=e=null,qa=null;B&&"equal-interval"!==B||W?({classBreaks:d}=F(d,{field:q,normalizationType:W,
normalizationField:Z,normalizationTotal:ca,classificationMethod:B,standardDeviationInterval:S,minValue:da,maxValue:na,numClasses:oa}),e=d[0].minValue,pa=d[d.length-1].maxValue,qa=d.map(ia=>[ia.minValue,ia.maxValue])):(null!=da&&null!=na?(e=da,pa=na):(d=l({values:d,minValue:da,maxValue:na,useSampleStdDev:!W,supportsNullCount:x({normalizationType:W,normalizationField:Z,minValue:da,maxValue:na})}),e=d.min??null,pa=d.max??null),qa=M(e??0,pa??0,oa));return{min:e,max:pa,intervals:qa}}function E(d,e){let q=
-1;for(let B=d.length-1;0<=B;B--)if(e>=d[B][0]){q=B;break}return q}function M(d,e,q){const B=(e-d)/q,S=[];let W;for(let Z=1;Z<=q;Z++)W=d+B,W=Number(W.toFixed(16)),S.push([d,Z===q?e:W]),d=W;return S}const T=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,Q=new Set("esriFieldTypeDate esriFieldTypeInteger esriFieldTypeSmallInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeLong esriFieldTypeOID esriFieldTypeBigInteger".split(" ")),V=new Set(["esriFieldTypeTimeOnly","esriFieldTypeDateOnly"]),b="min max avg stddev count sum variance nullcount median".split(" "),
v=(d,e)=>null==d?null==e?0:1:null==e?-1:null,G=(d,e)=>null==d?null==e?0:-1:null==e?1:null,L=(d,e)=>G(d,e)??(d===e?0:(new Date(d)).getTime()-(new Date(e)).getTime()),U=(d,e)=>v(d,e)??(d===e?0:(new Date(e)).getTime()-(new Date(d)).getTime()),C=(d,e)=>G(d,e)??(d===e?0:d<e?-1:1),A=(d,e)=>v(d,e)??(d===e?0:d<e?1:-1),r=(d,e)=>v(d,e)??e-d,J=(d,e)=>G(d,e)??d-e;f.calculateClassBreaks=F;f.calculateHistogram=function(d,e){var q=z(d,e);if(null==q.min&&null==q.max)return{bins:[],minValue:q.min,maxValue:q.max,normalizationTotal:e.normalizationTotal};
const B=q.intervals,S=q.min??0;q=q.max??0;const W=B.map((Z,ca)=>({minValue:B[ca][0],maxValue:B[ca][1],count:0}));for(const Z of d)null!=Z&&Z>=S&&Z<=q&&(d=E(B,Z),-1<d&&W[d].count++);return{bins:W,minValue:S,maxValue:q,normalizationTotal:e.normalizationTotal}};f.calculatePercentile=y;f.calculateStatistics=l;f.calculateStringStatistics=function(d){const e=d.returnDistinct?[...(new Set(d.values))]:d.values;var q=e.filter(S=>null!=S).sort();const B=q.length;q={count:B,min:q[0],max:q[B-1]};d.supportsNullCount&&
(q.nullcount=e.length-B);d.percentileParams&&(q.median=y(e,d.percentileParams));return q};f.calculateUniqueValuesCount=function(d){const e={};for(let q of d){if(null==q||"string"===typeof q&&""===q.trim())q=null;null==e[q]?e[q]={count:1,data:q}:e[q].count++}return{count:e}};f.createClassBreaksDefinition=k;f.createUVResult=function(d,e,q,B){d=d.count;const S=[];if(q&&e){q=[];var W=p(e[0]);for(const Z of W)if(e[1]){W=p(e[1]);for(const ca of W)if(e[2]){W=p(e[2]);for(const da of W)q.push(`${h(Z)}${B}${h(ca)}${B}${h(da)}`)}else q.push(`${h(Z)}${B}${h(ca)}`)}else q.push(Z);
for(const Z of q)d.hasOwnProperty(Z)||(d[Z]={data:Z,count:0})}for(const Z in d)e=d[Z],S.push({value:e.data,count:e.count,label:e.label});return{uniqueValueInfos:S}};f.getAttributeComparator=H;f.getEqualIntervalBins=M;f.getNormalizedValue=function(d,e,q,B){let S=null;switch(e){case "log":0!==d&&(S=Math.log(d)*Math.LOG10E);break;case "percent-of-total":Number.isFinite(B)&&0!==B&&(S=d/B*100);break;case "field":Number.isFinite(q)&&0!==q&&(S=d/q);break;case "natural-log":0<d&&(S=Math.log(d));break;case "square-root":0<
d&&(S=d**.5)}return S};f.isNullCountSupported=x;f.processNullValue=h;f.processSummaryStatisticsResult=function(d,e){let q;for(q in d)b.includes(q)&&(Number.isFinite(d[q])||(d[q]=null));if(!e)return d;["avg","stddev","variance"].forEach(B=>{null!=d[B]&&(d[B]=Math.ceil(d[B]??0))});return d};f.resolveCBResult=function(d,e){let q=d.classBreaks;const B=q[0]?.minValue,S=q[q.length-1]?.maxValue,W="standard-deviation"===e;q=q.map(Z=>{const ca=Z.label;Z={minValue:Z.minValue,maxValue:Z.maxValue,label:ca};if(W&&
ca){const da=ca.match(T)?.map(na=>+na.trim())??[];2===da.length?(Z.minStdDev=da[0],Z.maxStdDev=da[1],0>da[0]&&0<da[1]&&(Z.hasAvg=!0)):1===da.length&&(ca.includes("\x3c")?(Z.minStdDev=null,Z.maxStdDev=da[0]):ca.includes("\x3e")&&(Z.minStdDev=da[0],Z.maxStdDev=null))}return Z});return{minValue:B,maxValue:S,classBreakInfos:q,normalizationTotal:d.normalizationTotal}};f.statisticTypes=b;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/ClassBreaksDefinition":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(f,g,w,h,x,l,y,H,D){x=new g.JSONMap({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"});g=new g.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});w=class extends w.JSONSupport{constructor(m){super(m);this.type="class-breaks-definition";
this.normalizationType=this.normalizationField=this.classificationMethod=this.classificationField=this.breakCount=null}set standardDeviationInterval(m){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",m)}set definedInterval(m){"defined-interval"===this.classificationMethod&&this._set("definedInterval",m)}};f.__decorate([H.enumeration({classBreaksDef:"class-breaks-definition"})],w.prototype,"type",void 0);f.__decorate([h.property({json:{write:!0}})],w.prototype,
"breakCount",void 0);f.__decorate([h.property({json:{write:!0}})],w.prototype,"classificationField",void 0);f.__decorate([h.property({type:String,json:{read:x.read,write:x.write}})],w.prototype,"classificationMethod",void 0);f.__decorate([h.property({json:{write:!0}})],w.prototype,"normalizationField",void 0);f.__decorate([h.property({json:{read:g.read,write:g.write}})],w.prototype,"normalizationType",void 0);f.__decorate([h.property({value:null,json:{write:!0}})],w.prototype,"standardDeviationInterval",
null);f.__decorate([h.property({value:null,json:{write:!0}})],w.prototype,"definedInterval",null);return w=f.__decorate([D.subclass("esri.rest.support.ClassBreaksDefinition")],w)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(f,g,w){f.enumeration=function(h,x={}){h=h instanceof g.JSONMap?h:new g.JSONMap(h,x);h={type:x?.ignoreUnknown??!0?h.apiValues:String,json:{type:h.jsonValues,read:x?.readOnly?!1:{reader:h.read},write:{writer:h.write}}};
void 0!==x?.readOnly&&(h.readOnly=!!x.readOnly);void 0!==x?.default&&(h.json.default=x.default);void 0!==x?.name&&(h.json.name=x.name);void 0!==x?.nonNullable&&(h.nonNullable=x.nonNullable);return w.property(h)};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/generateRendererUtils":function(){define(["exports","../../core/Logger"],function(f,g){function w(u){var k=u.definition;const {classificationMethod:z,normalizationType:E,definedInterval:M}=k;k=k.breakCount??
1;const T=[];var Q=u.values;if(0===Q.length)return[];Q=Q.sort((U,C)=>U-C);var V=Q[0],b=Q[Q.length-1];if("equal-interval"===z)if(Q.length>=k){Q=(b-V)/k;u=V;for(var v=1;v<k;v++){var G=Number((V+v*Q).toFixed(6));T.push({minValue:u,maxValue:G,label:h(u,G,E)});u=G}T.push({minValue:u,maxValue:b,label:h(u,b,E)})}else Q.forEach(U=>{T.push({minValue:U,maxValue:U,label:h(U,U,E)})});else if("natural-breaks"===z){Q=x(Q);u=l(Q.uniqueValues,u.valueFrequency||Q.valueFrequency,k);for(v=1;v<k;v++)Q.uniqueValues.length>
v&&(G=Number(Q.uniqueValues[u[v]].toFixed(6)),T.push({minValue:V,maxValue:G,label:h(V,G,E)}),V=G);T.push({minValue:V,maxValue:b,label:h(V,b,E)})}else if("quantile"===z)if(Q.length>=k&&V!==b){u=Math.ceil(Q.length/k);v=0;for(G=1;G<k;G++){var L=u+v-1;L>Q.length&&(L=Q.length-1);0>L&&(L=0);T.push({minValue:V,maxValue:Q[L],label:h(V,Q[L],E)});V=Q[L];v+=u;u=Math.ceil((Q.length-v)/(k-G))}T.push({minValue:V,maxValue:b,label:h(V,b,E)})}else for(k=-1,b=0;b<Q.length;b++)V=Q[b],V!==k&&(k=V,T.push({minValue:k,
maxValue:V,label:h(k,V,E)}),k=V);else if("standard-deviation"===z)if(u=D(Q),v=m(Q,u),0===v)T.push({minValue:Q[0],maxValue:Q[0],label:h(Q[0],Q[0],E)});else{Q=H(V,b,k,u,v)*v;v=0;for(G=k;1<=G;G--)L=Number((u-(G-.5)*Q).toFixed(6)),T.push({minValue:V,maxValue:L,label:h(V,L,E)}),V=L,v++;G=Number((u+.5*Q).toFixed(6));T.push({minValue:V,maxValue:G,label:h(V,G,E)});V=G;v++;for(L=1;L<=k;L++)G=v===2*k?b:Number((u+(L+.5)*Q).toFixed(6)),T.push({minValue:V,maxValue:G,label:h(V,G,E)}),V=G,v++}else if("defined-interval"===
z){if(!M)return T;k=Q[0];b=Q[Q.length-1];Q=Math.ceil((b-k)/M);V=k;for(u=1;u<Q;u++)v=Number((k+u*M).toFixed(6)),T.push({minValue:V,maxValue:v,label:h(V,v,E)}),V=v;T.push({minValue:V,maxValue:b,label:h(V,b,E)})}return T}function h(u,k,z){let E=null;return E=u===k?z&&"percent-of-total"===z?u+"%":u.toString():z&&"percent-of-total"===z?u+"% - "+k+"%":u+" - "+k}function x(u){const k=[],z=[];let E=Number.MIN_VALUE,M=1,T=-1;for(let Q=0;Q<u.length;Q++){const V=u[Q];V===E?(M++,z[T]=M):null!==V&&(k.push(V),
E=V,M=1,z.push(M),T++)}return{uniqueValues:k,valueFrequency:z}}function l(u,k,z){var E=u.length;const M=[];z>E&&(z=E);for(var T=0;T<z;T++)M.push(Math.round(T*E/z-1));M.push(E-1);T=y(M,u,k,z);E=T.mean;T=T.sdcm;var Q=z,V=0,b=0;let v=0,G=0,L=!0;for(let C=0;2>C&&L;C++){0===C&&(L=!1);for(var U=0;U<Q-1;U++)for(;M[U+1]+1!==M[U+2];)if(M[U+1]+=1,V=p(U,M,u,k),v=V.sbMean,V=V.sbSdcm,b=p(U+1,M,u,k),G=b.sbMean,b=b.sbSdcm,V+b<T[U]+T[U+1])T[U]=V,T[U+1]=b,E[U]=v,E[U+1]=G,L=!0;else{--M[U+1];break}for(U=Q-1;0<U;U--)for(;M[U]!==
M[U-1]+1;)if(--M[U],V=p(U-1,M,u,k),v=V.sbMean,V=V.sbSdcm,b=p(U,M,u,k),G=b.sbMean,b=b.sbSdcm,V+b<T[U-1]+T[U])T[U-1]=V,T[U]=b,E[U-1]=v,E[U]=G,L=!0;else{M[U]+=1;break}}L&&(T=y(M,u,k,z));return M}function y(u,k,z,E){let M=[];var T=[],Q=[];let V=0;const b=[],v=[];for(var G=0;G<E;G++){var L=p(G,u,k,z);b.push(L.sbMean);v.push(L.sbSdcm);V+=v[G]}L=V;for(G=!0;G||V<L;){G=!1;M=[];for(T=0;T<E;T++)M.push(u[T]);for(Q=0;Q<E;Q++)for(L=u[Q]+1;L<=u[Q+1];L++)if(T=k[L],0<Q&&L!==u[Q+1]&&Math.abs(T-b[Q])>Math.abs(T-b[Q-
1]))u[Q]=L;else if(Q<E-1&&u[Q]!==L-1&&Math.abs(T-b[Q])>Math.abs(T-b[Q+1])){u[Q+1]=L-1;break}L=V;V=0;T=[];Q=[];for(let U=0;U<E;U++){T.push(b[U]);Q.push(v[U]);const C=p(U,u,k,z);b[U]=C.sbMean;v[U]=C.sbSdcm;V+=v[U]}}if(V>L){for(k=0;k<E;k++)u[k]=M[k],b[k]=T[k],v[k]=Q[k];V=L}return{mean:b,sdcm:v}}function H(u,k,z,E,M){u=Math.max(E-u,k-E)/M/z;return 1<=u?1:.5<=u?.5:.25}function D(u){let k=0;for(let z=0;z<u.length;z++)k+=u[z];return k/=u.length}function m(u,k){let z=0;for(let E=0;E<u.length;E++){const M=
u[E];z+=(M-k)*(M-k)}z/=u.length;return Math.sqrt(z)}function p(u,k,z,E){var M=0,T=0;for(var Q=k[u]+1;Q<=k[u+1];Q++){const V=E[Q];M+=z[Q]*V;T+=V}0>=T&&F.warn("Exception in Natural Breaks calculation");M/=T;T=0;for(Q=k[u]+1;Q<=k[u+1];Q++)T+=E[Q]*(z[Q]-M)**2;return{sbMean:M,sbSdcm:T}}const F=g.getLogger("esri.rest.support.generateRendererUtils");f.createGenerateRendererClassBreaks=function(u){const {normalizationTotal:k}=u;return{classBreaks:w(u),normalizationTotal:k}};f.createGenerateRendererUniqueValues=
function(u){u=x(u);const k=[],z=u.uniqueValues.length;for(let E=0;E<z;E++){const M=u.uniqueValues[E];k.push({value:M,count:u.valueFrequency[E],label:M.toString()})}return{uniqueValues:k}};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define(["exports","./utils","../../../statistics/utils"],function(f,g,w){f.classBreaks=async function(h){const {attribute:x,features:l}=h,{field:y,normalizationType:H,normalizationField:D,normalizationTotal:m,classificationMethod:p}=x;h=await g.getDataValues({field:y,valueExpression:x.valueExpression,normalizationType:H,normalizationField:D,normalizationTotal:m,viewInfoParams:x.viewInfoParams,timeZone:x.timeZone,fieldInfos:x.fieldInfos},l);h=w.calculateClassBreaks(h,{field:y,normalizationType:H,normalizationField:D,
normalizationTotal:m,classificationMethod:p,standardDeviationInterval:x.standardDeviationInterval,numClasses:x.numClasses,minValue:x.minValue,maxValue:x.maxValue});return w.resolveCBResult(h,p)};f.heatmapStatistics=async function(h){const {attribute:x,features:l}=h,{field:y,radius:H,fieldOffset:D,transform:m,spatialReference:p}=x;h=x.size??[0,0];const F=g.quantizeFeatures(l??[],m,p,h),{count:u,min:k,max:z,mean:E,stdDev:M}=g.calculateHeatmapStats(F,H??void 0,D,y,h[0],h[1]);return{count:u,min:k,max:z,
avg:E,stddev:M}};f.histogram=async function(h){const {attribute:x,features:l}=h,{field:y,normalizationType:H,normalizationField:D,normalizationTotal:m,classificationMethod:p}=x;h=await g.getDataValues({field:y,valueExpression:x.valueExpression,normalizationType:H,normalizationField:D,normalizationTotal:m,viewInfoParams:x.viewInfoParams,timeZone:x.timeZone,fieldInfos:x.fieldInfos},l);return w.calculateHistogram(h,{field:y,normalizationType:H,normalizationField:D,normalizationTotal:m,classificationMethod:p,
standardDeviationInterval:x.standardDeviationInterval,numBins:x.numBins,minValue:x.minValue,maxValue:x.maxValue})};f.summaryStatistics=async function(h){const {attribute:x,features:l}=h,{normalizationType:y,normalizationField:H,minValue:D,maxValue:m,fieldType:p}=x;h=await g.getDataValues({field:x.field,valueExpression:x.valueExpression,normalizationType:y,normalizationField:H,normalizationTotal:x.normalizationTotal,viewInfoParams:x.viewInfoParams,timeZone:x.timeZone,fieldInfos:x.fieldInfos},l);const F=
w.isNullCountSupported({normalizationType:y,normalizationField:H,minValue:D,maxValue:m}),u={value:.5,fieldType:p};h="esriFieldTypeString"===p?w.calculateStringStatistics({values:h,supportsNullCount:F,percentileParams:u}):w.calculateStatistics({values:h,minValue:D,maxValue:m,useSampleStdDev:!y,supportsNullCount:F,percentileParams:u});return w.processSummaryStatisticsResult(h,"esriFieldTypeDate"===p)};f.uniqueValues=async function(h){const {attribute:x,features:l}=h;h=await g.getDataValues({field:x.field,
field2:x.field2,field3:x.field3,fieldDelimiter:x.fieldDelimiter,valueExpression:x.valueExpression,viewInfoParams:x.viewInfoParams,timeZone:x.timeZone,fieldInfos:x.fieldInfos},l,!1);h=w.calculateUniqueValuesCount(h);return w.createUVResult(h,x.domains,x.returnAllCodedValues,x.fieldDelimiter)};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});