// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
//>>built
require({cache:{"esri/layers/support/rasterFunctions/creators/createAppearenceFunctions":function(){define(["exports","./utils"],function(a,q){function g(h,b){const {raster:e,dynamicRangeAdjustment:l,gamma:u,useGamma:y,outputMin:B=0,outputMax:n=255}=b;return{raster:e,stretchType:h,min:B,max:n,useGamma:!!y,gamma:u,dra:!!l}}const f={"user-defined":-1,"line-detection-horizontal":0,"line-detection-vertical":1,"line-detection-left-diagonal":2,"line-detection-right-diagonal":3,"gradient-north":4,"gradient-west":5,
"gradient-east":6,"gradient-south":7,"gradient-north-east":8,"gradient-north-west":9,"smooth-arithmetic-mean":10,smoothing3x3:11,smoothing5x5:12,sharpening3x3:13,sharpening5x5:14,laplacian3x3:15,laplacian5x5:16,"sobel-horizontal":17,"sobel-vertical":18,sharpen:19,sharpen2:20,"point-spread":21,none:255};a.contrastBrightness=function(h){const {contrastOffset:b,brightnessOffset:e,raster:l,outputPixelType:u}=h;return q.createRasterFunction("ContrastBrightness",{contrastOffset:b,brightnessOffset:e,raster:l},
u)};a.convolution=function(h){const {raster:b,outputPixelType:e}=h;if("convolutionType"in h&&"user-defined"!==h.convolutionType)return q.createRasterFunction("Convolution",{type:f[h.convolutionType]??255,raster:b},e);const {rows:l,cols:u,kernel:y}=h;return q.createRasterFunction("Convolution",{type:-1,rows:l,cols:u,kernel:y,raster:b},e)};a.stretchHistogramEqualization=function(h){const b=g(4,h);return q.createRasterFunction("Stretch",b,h.outputPixelType)};a.stretchMinMax=function(h){const b=g(5,h);
b.statistics=h.statistics?.map(e=>[e.min,e.max,e.avg??0,e.stddev??-1]);return q.createRasterFunction("Stretch",b,h.outputPixelType)};a.stretchNone=function(h){const b=g(0,h);return q.createRasterFunction("Stretch",b,h.outputPixelType)};a.stretchPercentClip=function(h){const b=g(6,h);b.minPercent=h.minPercent??.25;b.maxPercent=h.maxPercent??.25;return q.createRasterFunction("Stretch",b,h.outputPixelType)};a.stretchStandardDeviation=function(h){const b=g(3,h);b.statistics=h.statistics?.map(e=>[e.min,
e.max,e.avg??0,e.stddev??-1]);b.numberOfStandardDeviations=h.numberOfStandardDeviations??2;return q.createRasterFunction("Stretch",b,h.outputPixelType)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/rasterFunctions/creators/utils":function(){define(["exports","../../RasterFunction"],function(a,q){a.createRasterFunction=function(g,f,h){Object.keys(f).forEach(b=>{null==f[b]&&delete f[b]});h||(h="unknown");return new q({functionName:g,functionArguments:f,outputPixelType:h})};
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/RasterFunction":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./RasterFunctionTemplate".split(" "),function(a,
q,g,f,h,b,e,l,u,y){var B;const n=new Set(["raster","raster2","dem","fillraster"]),t=new Set(["rasters"]),z=k=>k?.rasterFunction?c.fromJSON(k):k,x=k=>k&&k instanceof c?k.toJSON():k,w=k=>k?.functionName&&!k.declaredClass?new c(k):k;h={types:{key:"type",base:null,typeMap:{RasterFunctionTemplate:y}},json:{write:!0,name:"rasterFunctionDefinition"}};let c=B=class extends q.JSONSupport{constructor(k){super(k);this.functionName=null;this.outputPixelType="unknown";this.functionDefinition=this.variableName=
null}set functionArguments(k){if(k){const p=Object.keys(k);if(p.some(d=>{var m;if(m=n.has(d.toLowerCase()))d=k[d],m=d?.functionName&&!d.declaredClass;return m})||p.some(d=>t.has(d.toLowerCase())&&Array.isArray(k[d])&&k[d].some(m=>m?.functionName&&!m.declaredClass))){k=g.clone(k);for(const d of p)n.has(d.toLowerCase())?k[d]=w(k[d]):t.has(d.toLowerCase())&&Array.isArray(k[d])&&(k[d]=k[d].map(m=>w(m)))}}this._set("functionArguments",k)}readFunctionArguments(k){if(null==k)var p=null;else{k=g.clone(k);
var d={};for(p of Object.keys(k))n.has(p.toLowerCase())?d[p]=z(k[p]):t.has(p.toLowerCase())&&Array.isArray(k[p])?d[p]=k[p].map(z):d[p]=k[p];p=d}return p}writeFunctionArguments(k,p,d){const m={};for(const r of Object.keys(k))n.has(r.toLowerCase())?m[r]=x(k[r]):t.has(r.toLowerCase())&&Array.isArray(k[r])?m[r]=k[r].map(x):m[r]=x(k[r]);p[d]=m}readFunctionName(k,p){k=p.rasterFunctionInfos;const d=p.name;return d?d:k?.length&&"None"!==k[0].name?k[0].name:p.rasterFunctionDefinition?p.rasterFunctionDefinition.name:
p.rasterFunction}get rasterFunctionDefinition(){return this.functionDefinition?.toJSON()}set rasterFunctionDefinition(k){this.functionDefinition=k?y.fromJSON(k):null}clone(){return new B({functionName:this.functionName,functionArguments:g.clone(this.functionArguments),outputPixelType:this.outputPixelType,variableName:this.variableName,rasterFunctionDefinition:g.clone(this.rasterFunctionDefinition)})}};a.__decorate([f.property({json:{type:Object,name:"rasterFunctionArguments"}})],c.prototype,"functionArguments",
null);a.__decorate([e.reader("functionArguments")],c.prototype,"readFunctionArguments",null);a.__decorate([u.writer("functionArguments")],c.prototype,"writeFunctionArguments",null);a.__decorate([f.property({json:{type:String,write:{target:"rasterFunction"}}})],c.prototype,"functionName",void 0);a.__decorate([e.reader("functionName",["rasterFunction","rasterFunctionInfos","rasterFunctionDefinition"])],c.prototype,"readFunctionName",null);a.__decorate([b.enumeration({C128:"c128",C64:"c64",F32:"f32",
F64:"f64",S16:"s16",S32:"s32",S8:"s8",U1:"u1",U16:"u16",U2:"u2",U32:"u32",U4:"u4",U8:"u8",UNKNOWN:"unknown"},{ignoreUnknown:!1}),f.property({json:{default:"unknown"}})],c.prototype,"outputPixelType",void 0);a.__decorate([f.property({type:String,json:{read:!0,write:!0}})],c.prototype,"variableName",void 0);a.__decorate([f.property()],c.prototype,"rasterFunctionDefinition",null);a.__decorate([f.property(h)],c.prototype,"functionDefinition",void 0);return c=B=a.__decorate([l.subclass("esri.layers.support.RasterFunction")],
c)})},"esri/layers/support/RasterFunctionTemplate":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./RasterFunctionInfo ./RasterFunctionProperties".split(" "),function(a,q,g,f,h,b,e,l,u,y){q=new q.JSONMap({0:"mosaic",1:"item",2:"item-group"},{useNumericKeys:!0});g=class extends g.JSONSupport{constructor(){super(...arguments);
this.functionType="mosaic";this.type="RasterFunctionTemplate"}};a.__decorate([f.property({type:[String],json:{write:!0}})],g.prototype,"aliases",void 0);a.__decorate([f.property({type:Object,json:{write:!0}})],g.prototype,"arguments",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"description",void 0);a.__decorate([f.property({type:u,json:{write:!0,name:"function"}})],g.prototype,"functionInfo",void 0);a.__decorate([f.property({type:q.apiValues,json:{type:[0,1,2],read:q.read,
write:q.write}})],g.prototype,"functionType",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"group",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"help",void 0);a.__decorate([f.property({type:Number,json:{type:h.Integer,write:!0,name:"_object_id"}})],g.prototype,"id",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"name",void 0);a.__decorate([f.property({type:String,json:{write:!0,name:"definition"}})],g.prototype,
"queryDefinition",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"tag",void 0);a.__decorate([f.property({type:y,json:{write:!0}})],g.prototype,"properties",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"thumbnail",void 0);a.__decorate([f.property({type:String,json:{write:!0}})],g.prototype,"thumbnailEx",void 0);a.__decorate([f.property({json:{type:["RasterFunctionTemplate"],write:!0}})],g.prototype,"type",void 0);return g=a.__decorate([l.subclass("esri.layers.support.RasterFunctionTemplate")],
g)})},"esri/layers/support/RasterFunctionInfo":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./rasterEnums".split(" "),function(a,q,g,f,h,b,e,l){q=class extends q.JSONSupport{constructor(){super(...arguments);this.pixelType="unknown"}};a.__decorate([g.property({type:String,json:{write:!0}})],q.prototype,"name",void 0);
a.__decorate([g.property({type:String,json:{write:!0}})],q.prototype,"description",void 0);a.__decorate([g.property({type:f.Integer,json:{type:f.Integer,write:!0,name:"_object_id"}})],q.prototype,"id",void 0);a.__decorate([g.property({type:String,json:{type:l.pixelTypeKebabDict.jsonValues,read:l.pixelTypeKebabDict.read,write:l.pixelTypeKebabDict.write}})],q.prototype,"pixelType",void 0);a.__decorate([g.property({type:String,json:{write:!0}})],q.prototype,"type",void 0);return q=a.__decorate([e.subclass("esri.layers.support.RasterFunctionInfo")],
q)})},"esri/layers/support/rasterEnums":function(){define(["exports","../../core/jsonMap"],function(a,q){const g=q.strict()({RSP_NearestNeighbor:"nearest",RSP_BilinearInterpolation:"bilinear",RSP_CubicConvolution:"cubic",RSP_Majority:"majority"}),f=q.strict()({esriNoDataMatchAny:"any",esriNoDataMatchAll:"all"});q=q.strict()({U1:"u1",U2:"u2",U4:"u4",U8:"u8",S8:"s8",U16:"u16",S16:"s16",U32:"u32",S32:"s32",F32:"f32",F64:"f64",C64:"c64",C128:"c128",UNKNOWN:"unknown"});a.interpolationKebab=g;a.noDataInterpretationKebab=
f;a.pixelTypeKebabDict=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/RasterFunctionProperties":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass ./RasterFunctionVariable".split(" "),function(a,q,g,f,h,b,e,l){h={key:"type",base:null,typeMap:{RasterFunctionVariable:l}};q=class extends q.JSONSupport{};
a.__decorate([g.property({types:h,json:{types:h,name:"MatchVariable"}})],q.prototype,"matchVariable",void 0);a.__decorate([g.property({types:h,json:{types:h,name:"UnionDimension"}})],q.prototype,"unionDimension",void 0);a.__decorate([g.property({type:Number,json:{type:f.Integer,write:!0,name:"_object_id"}})],q.prototype,"id",void 0);a.__decorate([g.property({type:String,json:{write:!0}})],q.prototype,"type",void 0);return q=a.__decorate([e.subclass("esri.layers.support.RasterFunctionProperties")],
q)})},"esri/layers/support/RasterFunctionVariable":function(){define("../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),function(a,q,g,f,h,b,e){q=class extends q.JSONSupport{constructor(){super(...arguments);this.isPublic=this.isDataset=!1;this.type="RasterFunctionVariable"}};a.__decorate([g.property({type:String,json:{write:!0}})],
q.prototype,"name",void 0);a.__decorate([g.property({type:Number,json:{type:f.Integer,write:!0,name:"_object_id"}})],q.prototype,"id",void 0);a.__decorate([g.property({type:Boolean,json:{write:!0}})],q.prototype,"isDataset",void 0);a.__decorate([g.property({type:Boolean,json:{write:!0}})],q.prototype,"isPublic",void 0);a.__decorate([g.property({json:{write:!0}})],q.prototype,"value",void 0);a.__decorate([g.property({type:String,json:{write:!0}})],q.prototype,"type",void 0);return q=a.__decorate([e.subclass("esri.layers.support.RasterFunctionVariable")],
q)})},"esri/layers/support/rasterFunctions/creators/createBandIndexFunctions":function(){define(["exports","./utils"],function(a,q){function g(f,h,b,e=[]){const {raster:l,outputPixelType:u}=f;f={raster:l,method:h,bandIndexes:b.map(y=>y+1).concat(e).join(" ")};return q.createRasterFunction("BandArithmetic",f,u)}a.bandArithmeticBAI=function(f){const {redBandId:h,nirBandId:b}=f;return g(f,24,[h,b])};a.bandArithmeticCIg=function(f){const {nirBandId:h,greenBandId:b}=f;return g(f,17,[h,b])};a.bandArithmeticCIre=
function(f){const {nirBandId:h,reBandId:b}=f;return g(f,16,[h,b])};a.bandArithmeticClayMinerals=function(f){const {swir1BandId:h,swir2BandId:b}=f;return g(f,22,[h,b])};a.bandArithmeticCustom=function(f){const {raster:h,bandIndexes:b,outputPixelType:e}=f;return q.createRasterFunction("BandArithmetic",{raster:h,method:0,bandIndexes:b},e)};a.bandArithmeticEVI=function(f){const {nirBandId:h,redBandId:b,blueBandId:e}=f;return g(f,19,[h,b,e])};a.bandArithmeticFerrousMinerals=function(f){const {swirBandId:h,
nirBandId:b}=f;return g(f,21,[h,b])};a.bandArithmeticGEMI=function(f){const {nirBandId:h,redBandId:b}=f;return g(f,5,[h,b])};a.bandArithmeticGNDVI=function(f){const {nirBandId:h,greenBandId:b}=f;return g(f,10,[h,b])};a.bandArithmeticGVITM=function(f){return g(f,7,f.bandIds)};a.bandArithmeticIronOxide=function(f){const {redBandId:h,blueBandId:b}=f;return g(f,20,[h,b])};a.bandArithmeticMNDWI=function(f){const {greenBandId:h,swirBandId:b}=f;return g(f,29,[h,b])};a.bandArithmeticMSAVI=function(f){const {nirBandId:h,
redBandId:b}=f;return g(f,4,[h,b])};a.bandArithmeticMTVI2=function(f){const {nirBandId:h,redBandId:b,greenBandId:e}=f;return g(f,14,[h,b,e])};a.bandArithmeticNBR=function(f){const {nirBandId:h,swirBandId:b}=f;return g(f,25,[h,b])};a.bandArithmeticNDBI=function(f){const {swirBandId:h,nirBandId:b}=f;return g(f,26,[h,b])};a.bandArithmeticNDMI=function(f){const {nirBandId:h,swirBandId:b}=f;return g(f,27,[h,b])};a.bandArithmeticNDSI=function(f){const {greenBandId:h,swirBandId:b}=f;return g(f,28,[h,b])};
a.bandArithmeticNDVI=function(f){const {nirBandId:h,redBandId:b,scientificOutput:e=!0,raster:l,outputPixelType:u}=f;return q.createRasterFunction("NDVI",{raster:l,visibleBandID:b,infraredBandID:h,scientificOutput:e},u)};a.bandArithmeticNDVIre=function(f){const {nirBandId:h,reBandId:b}=f;return g(f,12,[h,b])};a.bandArithmeticNDWI=function(f){const {nirBandId:h,greenBandId:b}=f;return g(f,18,[h,b])};a.bandArithmeticPVI=function(f){const {nirBandId:h,redBandId:b,slope:e=.3,gradient:l=.5}=f;return g(f,
6,[h,b],[e,l])};a.bandArithmeticRTVICore=function(f){const {nirBandId:h,reBandId:b,greenBandId:e}=f;return g(f,15,[h,b,e])};a.bandArithmeticSAVI=function(f){const {nirBandId:h,redBandId:b,factor:e=.33}=f;return g(f,2,[h,b],[e])};a.bandArithmeticSR=function(f){const {nirBandId:h,redBandId:b}=f;return g(f,11,[h,b])};a.bandArithmeticSRre=function(f){const {nirBandId:h,reBandId:b}=f;return g(f,13,[h,b])};a.bandArithmeticSultan=function(f){return g(f,8,f.bandIds)};a.bandArithmeticTSAVI=function(f){const {nirBandId:h,
redBandId:b,slope:e=.33,intercept:l=.5,factor:u=1.5}=f;return g(f,3,[h,b],[e,l,u])};a.bandArithmeticVARI=function(f){const {redBandId:h,greenBandId:b,blueBandId:e}=f;return g(f,9,[h,b,e])};a.bandArithmeticWNDWI=function(f){const {greenBandId:h,nirBandId:b,swirBandId:e,alpha:l=.5}=f;return g(f,23,[h,b,e],[l])};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/rasterFunctions/creators/createDataManagementFunctions":function(){define(["exports","../../../../colorUtils",
"../../rasterFunctionConstants","./utils","../../../../renderers/support/colorRampUtils"],function(a,q,g,f,h){function b(l){const u=l.colormap.map(n=>{if("value"in n){const t="string"===typeof n.color?q.getNamedColor(n.color)??q.hex2rgba(n.color):n.color;n=[n.value,...t];n[4]&&1>=n[4]&&(n[4]=Math.round(255*n[4]))}return n}),{raster:y,outputPixelType:B}=l;return f.createRasterFunction("Colormap",{colormap:u,raster:y},B)}function e(l){const {colorRampName:u}=l,y=Object.values(g.colormapName).find(z=>
z.toLowerCase()===u?.toLowerCase()),B=h.colorRampDict.toJSON(u),{raster:n,outputPixelType:t="unknown"}=l;return f.createRasterFunction("Colormap",y?{colormapName:y,raster:n}:{colorRampName:B,raster:n},t)}a.colormap=function(l){if("colormap"in l)l=b(l);else if("colorRamp"in l){const {raster:u,colorRamp:y,outputPixelType:B}=l;l={colorRamp:"toJSON"in y?y.toJSON():y,raster:u};l=f.createRasterFunction("Colormap",l,B)}else l=e(l);return l};a.compositeBands=function(l){const {rasters:u,outputPixelType:y}=
l;return f.createRasterFunction("CompositeBand",{rasters:u},y)};a.extractBand=function(l){const {raster:u,outputPixelType:y="unknown"}=l,B={raster:u,missingBandAction:"fail"===l.missingBandAction?1:0};"bandIds"in l?B.bandIds=l.bandIds:"bandNames"in l?B.bandNames=l.bandNames:"bandWavelengths"in l&&(B.bandWavelengths=l.bandWavelengths);return f.createRasterFunction("ExtractBand",B,y)};a.mask=function(l){const {raster:u,outputPixelType:y="unknown"}=l,B=l.includedRanges?.flatMap(t=>t),n=l.noDataValues?.map(t=>
t.join(" "));return f.createRasterFunction("Mask",{raster:u,includedRanges:B,noDataInterpretation:"match-all"===l.noDataInterpretation?1:0,noDataValues:n},y)};a.remap=function(l){const {allowUnmatched:u,raster:y,rangeMaps:B,outputPixelType:n}=l;var t=B?.filter(({output:x})=>null!=x);l=t?.flatMap(({range:x})=>x);t=t?.map(({output:x})=>x);const z=B?.filter(x=>null==x.output)?.flatMap(({range:x})=>x);return f.createRasterFunction("Remap",{allowUnmatched:u,raster:y,inputRanges:l,outputValues:t,noDataRanges:z},
n)};a.statisticsHistogram=function(l){const {raster:u,histograms:y,outputPixelType:B}=l;l=l.statistics?.map(n=>({min:n.min,max:n.max,mean:n.avg,standardDeviation:n.stddev}));return f.createRasterFunction("StatisticsHistograms",{raster:u,statistics:l,histograms:y},B)};a.table=function(l){const {raster:u,attributeTable:y,outputPixelType:B="unknown"}=l;l="toJSON"in y?y.toJSON():y;return f.createRasterFunction("Table",{raster:u,attributeTableAsRecordSet:l},B)};Object.defineProperty(a,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/rasterFunctionConstants":function(){define(["exports"],function(a){const q={plus:1,minus:2,times:3,sqrt:4,power:5,abs:10,divide:23,exp:25,exp10:26,exp2:27,int:30,float:32,ln:35,log10:36,log2:37,mod:44,negate:45,roundDown:48,roundUp:49,square:53,floatDivide:64,floorDivide:65},g={bitwiseAnd:11,bitwiseLeftShift:12,bitwiseNot:13,bitwiseOr:14,bitwiseRightShift:15,bitwiseXOr:16,booleanAnd:17,booleanNot:18,booleanOr:19,booleanXOr:20,equalTo:24,greaterThan:28,greaterThanEqual:29,
lessThan:33,lessThanEqual:34,isNull:31,notEqual:46},f={acos:6,asin:7,atan:8,atanh:9,cos:21,cosh:22,sin:51,sinh:52,tan:56,tanh:57,acosh:59,asinh:60,atan2:61},h={majority:38,max:39,mean:40,med:41,min:42,minority:43,range:47,stddev:54,sum:55,variety:58,majorityIgnoreNoData:66,maxIgnoreNoData:67,meanIgnoreNoData:68,medIgnoreNoData:69,minIgnoreNoData:70,minorityIgnoreNoData:71,rangeIgnoreNoData:72,stddevIgnoreNoData:73,sumIgnoreNoData:74,varietyIgnoreNoData:75},b={setNull:50,conditional:78},e={...q,...g,
...f,...h,...b};a.bandIndexType={userDefined:0,NDVI:1,SAVI:2,TSAVI:3,MSAVI:4,GEMI:5,PVI:6,GVITM:7,Sultan:8,VARI:9,GNDVI:10,SR:11,NDVIRe:12,SRRe:13,MTVI2:14,RTVICore:15,CIRe:16,CIG:17,NDWI:18,EVI:19,ironOxide:20,ferrousMinerals:21,clayMinerals:22,WNDWI:23,BAI:24,NBR:25,NDBI:26,NDMI:27,NDSI:28,MNDWI:29};a.cellStatisticalOperation=h;a.colorRampName={aspect:"Aspect",blackToWhite:"Black to White",blueBright:"Blue Bright",blueLightToDark:"Blue Light to Dark",blueGreenBright:"Blue-Green Bright",blueGreenLightToDark:"Blue-Green Light to Dark",
brownLightToDark:"Brown Light to Dark",brownToBlueGreenDivergingBright:"Brown to Blue Green Diverging, Bright",brownToBlueGreenDivergingDark:"Brown to Blue Green Diverging, Dark",coefficientBias:"Coefficient Bias",coldToHotDiverging:"Cold to Hot Diverging",conditionNumber:"Condition Number",cyanToPurple:"Cyan to Purple",cyanLightToBlueDark:"Cyan-Light to Blue-Dark",distance:"Distance",elevation1:"Elevation #1",elevation2:"Elevation #2",errors:"Errors",grayLightToDark:"Gray Light to Dark",greenBright:"Green Bright",
greenLightToDark:"Green Light to Dark",greenToBlue:"Green to Blue",orangeBright:"Orange Bright",orangeLightToDark:"Orange Light to Dark",partialSpectrum:"Partial Spectrum",partialSpectrum1Diverging:"Partial Spectrum 1 Diverging",partialSpectrum2Diverging:"Partial Spectrum 2 Diverging",pinkToYellowGreenDivergingBright:"Pink to YellowGreen Diverging, Bright",pinkToYellowGreenDivergingDark:"Pink to YellowGreen Diverging, Dark",precipitation:"Precipitation",prediction:"Prediction",purpleBright:"Purple Bright",
purpleToGreenDivergingBright:"Purple to Green Diverging, Bright",purpleToGreenDivergingDark:"Purple to Green Diverging, Dark",purpleBlueBright:"Purple-Blue Bright",purpleBlueLightToDark:"Purple-Blue Light to Dark",purpleRedBright:"Purple-Red Bright",purpleRedLightToDark:"Purple-Red Light to Dark",redBright:"Red Bright",redLightToDark:"Red Light to Dark",redToBlueDivergingBright:"Red to Blue Diverging, Bright",redToBlueDivergingDark:"Red to Blue Diverging, Dark",redToGreen:"Red to Green",redToGreenDivergingBright:"Red to Green Diverging, Bright",
redToGreenDivergingDark:"Red to Green Diverging, Dark",slope:"Slope",spectrumFullBright:"Spectrum-Full Bright",spectrumFullDark:"Spectrum-Full Dark",spectrumFullLight:"Spectrum-Full Light",surface:"Surface",temperature:"Temperature",whiteToBlack:"White to Black",yellowToDarkRed:"Yellow to Dark Red",yellowToGreenToDarkBlue:"Yellow to Green to Dark Blue",yellowToRed:"Yellow to Red",yellowGreenBright:"Yellow-Green Bright",yellowGreenLightToDark:"Yellow-Green Light to Dark"};a.colormapName={random:"Random",
NDVI:"NDVI",NDVI2:"NDVI2",NDVI3:"NDVI3",elevation:"Elevation",gray:"Gray",hillshade:"Hillshade"};a.convolutionKernel={userDefined:-1,lineDetectionHorizontal:0,lineDetectionVertical:1,lineDetectionLeftDiagonal:2,lineDetectionRightDiagonal:3,gradientNorth:4,gradientWest:5,gradientEast:6,gradientSouth:7,gradientNorthEast:8,gradientNorthWest:9,smoothArithmeticMean:10,smoothing3x3:11,smoothing5x5:12,sharpening3x3:13,sharpening5x5:14,laplacian3x3:15,laplacian5x5:16,sobelHorizontal:17,sobelVertical:18,sharpen:19,
sharpen2:20,pointSpread:21,none:255};a.curvatureType={standard:0,platform:1,profile:2};a.localArithmeticOperation=q;a.localConditionalOperation=b;a.localLogicalOperation=g;a.localOperators=e;a.localTrigonometricOperation=f;a.missingBandAction={bestMatch:0,fail:1};a.noDataInterpretation={matchAny:0,matchAll:1};a.slopeType={degree:1,percentRise:2,adjusted:3};a.statisticsType={min:1,max:2,mean:3,standardDeviation:4,median:5,majority:6,minority:7};a.stretchType={none:0,standardDeviation:3,histogramEqualization:4,
minMax:5,percentClip:6,sigmoid:9};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/colorRampUtils":function(){define(["exports","../../Color","../../core/colorUtils","../../core/jsonMap","../../core/JSONSupport"],function(a,q,g,f,h){function b(d,m){if(!d||!m||d.length!==m.length)return!1;for(let r=0;r<d.length;r++)if(d[r]>m[r]+2||d[r]<m[r]-2)return!1;return!0}function e(d){const m=d.clone();m.fromColor=d.toColor;m.toColor=d.fromColor;m.algorithm=d.algorithm;
return m}function l(d){if("multipart"===d.type){d=d.clone();if(!d.colorRamps?.length)return d;d.colorRamps=d.colorRamps.reverse().map(m=>e(m));return d}return e(d)}function u(d,m){if(d){m=m??k;var r=null;"algorithmic"===d.type?m.some(A=>{if(b(d.fromColor.toRgb(),A.fromColor)&&b(d.toColor.toRgb(),A.toColor))return r=A.id,!0}):"multipart"===d.type&&m.some(A=>{const v=d.colorRamps,U=A.colorRamps;if(v&&U&&v.length===U.length&&!U.some((da,aa)=>{if(!b(v[aa].fromColor.toRgb(),(new q(da.fromColor)).toRgb())||
!b(v[aa].toColor.toRgb(),(new q(da.toColor)).toRgb()))return!0})){if(r)return!0;r=A.id}});return r}}function y(d,m,r=!1){if(d){var A=u(d,m);null!=A||r||(d=l(d),A=u(d,m));return A}}function B(d,m=!1){return(d="string"===typeof d?d:y(d,void 0,m))?p.toJSON(d):null}function n(d){d=d||{};const m=d.numColors||256;return{...d,numColors:m,distanceOffset:d.distanceOffset||0,interpolateAlpha:!!d.interpolateAlpha,distanceInterval:d.distanceInterval||1/(m-1),isCustomInterval:null!=d.isCustomInterval?d.isCustomInterval:
null!==d.distanceInterval&&d.distanceInterval!==1/(m-1),weights:d.weights}}function t(d,m){let {fromColor:r,toColor:A}=d;r=[...r];A=[...A];3===r.length&&(r=r.concat([255]));3===A.length&&(A=A.concat([255]));d=d.algorithm||"esriCIELabAlgorithm";var v=n(m);const {numColors:U,distanceOffset:da,isCustomInterval:aa,interpolateAlpha:ma}=v;if(1===U&&0===da)return[r];if(2===U&&0===da&&!aa)return[r,A];var D={r:r[0],g:r[1],b:r[2]};m={r:A[0],g:A[1],b:A[2]};if("esriCIELabAlgorithm"===d){d=g.toLAB(D);m=g.toLAB(m);
const {numColors:ea,distanceOffset:W,distanceInterval:J,isCustomInterval:N}=v;let {l:E,a:K,b:F}=d;d=(m.l-E)*J;D=(m.a-K)*J;v=(m.b-F)*J;var C=[];if(W){var G=W/J;E+=G*d;K+=G*D;F+=G*v}for(G=0;G<ea-1;G++)C.push({l:E,a:K,b:F}),E+=d,K+=D,F+=v;C.push(N?{l:E,a:K,b:F}:m);m=C}else if("esriHSVAlgorithm"===d){d=g.toHSV(D);m=g.toHSV(m);const {numColors:ea,distanceOffset:W,distanceInterval:J,isCustomInterval:N}=v;C=0===d.s;G=0===m.s;D=d.h;v=m.h;C&&!G?D=v:G&&!C&&(m={...m,h:D},v=D);C=Math.abs(v-D);180>C?v=(v-D)*J:
(C=360-C,v=D>v?C*J:-C*J);C=(m.s-d.s)*J;G=(m.v-d.v)*J;let {s:E,v:K}=d;d=D;W&&(D=W/J,d=(d+D*v+360)%360,E+=D*C,K+=D*G);D=[];for(var V=0;V<ea-1;V++)D.push({h:d,s:E,v:K}),d=(d+v+360)%360,E+=C,K+=G;D.push(N?{h:d,s:E,v:K}:m);m=D}else{D=g.toLCH(D);m=g.toLCH(m);const {numColors:ea,distanceOffset:W,distanceInterval:J,isCustomInterval:N}=v;v=D.h;C=m.h;d=2*Math.PI;v<=C?(G=C-v,v=C-v-d,v=Math.abs(v)<Math.abs(G)?v:G):(G=C+d-v,v=C-v,v=Math.abs(v)<Math.abs(G)?v:G);v*=J;C=(m.l-D.l)*J;G=(m.c-D.c)*J;let {l:E,c:K,h:F}=
D;W&&(D=W/J,E+=D*C,K+=D*G,F=(F+D*v+d)%d);D=[];for(V=0;V<ea-1;V++)D.push({l:E,c:K,h:F}),E+=C,K+=G,F=(F+v+d)%d;D.push(N?{l:E,c:K,h:F}:m);m=D}d=[];D=r[3]??255;v=((A[3]??255)-D)/(U-1);for(C=0;C<U;C++){const {r:ea,g:W,b:J}=g.toRGB(m[C]);d.push([ea,W,J,ma?Math.round(D+v*C):255])}return d}function z(d,m){const {numColors:r,interpolateAlpha:A}=n(m);m=m?.weights;({colorRamps:d}=d);if(m){const C=m.reduce((G,V)=>G+V);m=m.map(G=>G/C)}else{m=[];for(var v=0;v<d.length;v++)m[v]=1/d.length}v=[];let U=0,da=0;const aa=
1/(r-1);let ma=!1;for(let C=0;C<d.length;C++){var D=ma?0:U*aa-da;let G=C===d.length-1?r-1-U:(m[C]-D)/aa;ma=Math.ceil(G)===G;G=Math.ceil(G);0!==G&&(D/=m[C],D=t(d[C],{numColors:G,interpolateAlpha:A,distanceOffset:D,distanceInterval:aa/m[C]}),U+=D.length,v.push(...D),da+=m[C])}m=[...d[d.length-1].toColor];3===m.length&&m.push(255);v.push(m);return v}function x(d,m){d=h.isSerializable(d)?d.toJSON():d;return"multipart"===d.type?z(d,m):t(d,m)}function w(d){d=g.toHSV(d);return{type:"HsvColor",Hue:d.h,Saturation:d.s,
Value:d.v,AlphaValue:255}}function c(d){return{Algorithm:d.toJSON()?.Algorithm||"esriHSVAlgorithm",type:"AlgorithmicColorRamp",FromColor:w(d.fromColor),ToColor:w(d.toColor)}}const k=[{id:"aspect",type:"multipart",colorRamps:[{fromColor:[190,190,190],toColor:[255,45,8]},{fromColor:[255,45,8],toColor:[255,181,61]},{fromColor:[255,181,61],toColor:[255,254,52]},{fromColor:[255,254,52],toColor:[0,251,50]},{fromColor:[0,251,50],toColor:[255,254,52]},{fromColor:[0,253,255],toColor:[0,181,255]},{fromColor:[0,
181,255],toColor:[26,35,253]},{fromColor:[26,35,253],toColor:[255,57,251]},{fromColor:[255,57,251],toColor:[255,45,8]}]},{id:"black-to-white",fromColor:[0,0,0],toColor:[255,255,255]},{id:"blue-bright",fromColor:[204,204,255],toColor:[0,0,224]},{id:"blue-light-to-dark",fromColor:[211,229,232],toColor:[46,100,140]},{id:"blue-green-bright",fromColor:[203,245,234],toColor:[48,207,146]},{id:"blue-green-light-to-dark",fromColor:[216,242,237],toColor:[21,79,74]},{id:"brown-light-to-dark",fromColor:[240,
236,170],toColor:[102,72,48]},{id:"brown-to-blue-green-diverging-right",type:"multipart",colorRamps:[{fromColor:[156,85,31],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[33,130,145]}]},{id:"brown-to-blue-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[110,70,45],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[48,100,102]}]},{id:"coefficient-bias",fromColor:[214,214,255],toColor:[0,57,148]},{id:"cold-to-hot-diverging",type:"multipart",colorRamps:[{fromColor:[69,117,
181],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[214,47,39]}]},{id:"condition-number",type:"multipart",colorRamps:[{fromColor:[0,97,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,34,0]}]},{id:"cyan-to-purple",type:"multipart",colorRamps:[{fromColor:[0,245,245],toColor:[0,0,245]},{fromColor:[0,0,245],toColor:[245,0,245]}]},{id:"cyan-light-to-blue-dark",type:"multipart",colorRamps:[{fromColor:[182,237,240],toColor:[31,131,224]},{fromColor:[31,131,224],toColor:[9,9,145]}]},
{id:"distance",fromColor:[255,200,0],toColor:[0,0,255]},{id:"elevation1",type:"multipart",colorRamps:[{fromColor:[175,240,233],toColor:[255,255,179]},{fromColor:[255,255,179],toColor:[0,128,64]},{fromColor:[0,128,64],toColor:[252,186,3]},{fromColor:[252,186,3],toColor:[128,0,0]},{fromColor:[120,0,0],toColor:[105,48,13]},{fromColor:[105,48,13],toColor:[171,171,171]},{fromColor:[171,171,171],toColor:[255,252,255]}]},{id:"elevation2",type:"multipart",colorRamps:[{fromColor:[118,219,211],toColor:[255,
255,199]},{fromColor:[255,255,199],toColor:[255,255,128]},{fromColor:[255,255,128],toColor:[217,194,121]},{fromColor:[217,194,121],toColor:[135,96,38]},{fromColor:[135,96,38],toColor:[150,150,181]},{fromColor:[150,150,181],toColor:[181,150,181]},{fromColor:[181,150,181],toColor:[255,252,255]}]},{id:"errors",fromColor:[255,235,214],toColor:[196,10,10]},{id:"gray-light-to-dark",fromColor:[219,219,219],toColor:[69,69,69]},{id:"green-bright",fromColor:[204,255,204],toColor:[14,204,14]},{id:"green-light-to-dark",
fromColor:[220,245,233],toColor:[34,102,51]},{id:"green-to-blue",type:"multipart",colorRamps:[{fromColor:[32,204,16],toColor:[0,242,242]},{fromColor:[0,242,242],toColor:[2,33,227]}]},{id:"orange-bright",fromColor:[255,235,204],toColor:[240,118,5]},{id:"orange-light-to-dark",fromColor:[250,233,212],toColor:[171,65,36]},{id:"partial-spectrum",type:"multipart",colorRamps:[{fromColor:[242,241,162],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]},{fromColor:[252,3,69],toColor:[176,7,237]},
{fromColor:[176,7,237],toColor:[2,29,173]}]},{id:"partial-spectrum-1-diverging",type:"multipart",colorRamps:[{fromColor:[135,38,38],toColor:[240,149,12]},{fromColor:[240,149,12],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[74,80,181]},{fromColor:[74,80,181],toColor:[39,32,122]}]},{id:"partial-spectrum-2-diverging",type:"multipart",colorRamps:[{fromColor:[115,77,42],toColor:[201,137,52]},{fromColor:[201,137,52],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[91,63,176]},{fromColor:[91,
63,176],toColor:[81,13,97]}]},{id:"pink-to-yellow-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[158,30,113],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[99,110,45]}]},{id:"pink-to-yellow-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,47,73],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[22,59,15]}]},{id:"precipitation",type:"multipart",colorRamps:[{fromColor:[194,82,60],toColor:[237,161,19]},{fromColor:[237,161,19],toColor:[255,255,0]},{fromColor:[255,
255,0],toColor:[0,219,0]},{fromColor:[0,219,0],toColor:[32,153,143]},{fromColor:[32,153,143],toColor:[11,44,122]}]},{id:"prediction",type:"multipart",colorRamps:[{fromColor:[40,146,199],toColor:[250,250,100]},{fromColor:[250,250,100],toColor:[232,16,20]}]},{id:"purple-bright",fromColor:[255,204,255],toColor:[199,0,199]},{id:"purple-to-green-diverging-bright",type:"multipart",colorRamps:[{fromColor:[77,32,150],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[20,122,11]}]},{id:"purple-to-green-diverging-dark",
type:"multipart",colorRamps:[{fromColor:[67,14,89],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[24,79,15]}]},{id:"purple-blue-bright",fromColor:[223,184,230],toColor:[112,12,242]},{id:"purple-blue-light-to-dark",fromColor:[229,213,242],toColor:[93,44,112]},{id:"purple-red-bright",fromColor:[255,204,225],toColor:[199,0,99]},{id:"purple-red-light-to-dark",fromColor:[250,215,246],toColor:[143,17,57]},{id:"red-bright",fromColor:[255,204,204],toColor:[219,0,0]},{id:"red-light-to-dark",fromColor:[255,
224,224],toColor:[143,10,10]},{id:"red-to-blue-diverging-bright",type:"multipart",colorRamps:[{fromColor:[196,69,57],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[48,95,207]}]},{id:"red-to-blue-diverging-dark",type:"multipart",colorRamps:[{fromColor:[107,13,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[13,53,97]}]},{id:"red-to-green",type:"multipart",colorRamps:[{fromColor:[245,0,0],toColor:[245,245,0]},{fromColor:[245,245,0],toColor:[0,245,0]}]},{id:"red-to-green-diverging-bright",
type:"multipart",colorRamps:[{fromColor:[186,20,20],toColor:[255,255,191]},{fromColor:[255,255,191],toColor:[54,145,33]}]},{id:"red-to-green-diverging-dark",type:"multipart",colorRamps:[{fromColor:[97,21,13],toColor:[204,204,102]},{fromColor:[204,204,102],toColor:[16,69,16]}]},{id:"slope",type:"multipart",colorRamps:[{fromColor:[56,168,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,0,0]}]},{id:"spectrum-full-bright",type:"multipart",colorRamps:[{fromColor:[255,0,0],toColor:[255,255,0]},
{fromColor:[255,255,0],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,0,255]}]},{id:"spectrum-full-dark",type:"multipart",colorRamps:[{fromColor:[153,0,0],toColor:[153,153,0]},{fromColor:[153,153,0],toColor:[0,153,153]},{fromColor:[0,153,153],toColor:[0,0,153]}]},{id:"spectrum-full-light",type:"multipart",colorRamps:[{fromColor:[255,153,153],toColor:[255,255,153]},{fromColor:[255,255,153],toColor:[153,255,255]},{fromColor:[153,255,255],toColor:[153,153,255]}]},{id:"surface",type:"multipart",
colorRamps:[{fromColor:[112,153,89],toColor:[242,238,162]},{fromColor:[242,238,162],toColor:[242,206,133]},{fromColor:[242,206,133],toColor:[194,140,124]},{fromColor:[194,140,124],toColor:[255,242,255]}]},{id:"temperature",type:"multipart",colorRamps:[{fromColor:[255,252,255],toColor:[255,0,255]},{fromColor:[255,0,255],toColor:[0,0,255]},{fromColor:[0,0,255],toColor:[0,255,255]},{fromColor:[0,255,255],toColor:[0,255,0]},{fromColor:[0,255,0],toColor:[255,255,0]},{fromColor:[255,255,0],toColor:[255,
128,0]},{fromColor:[255,128,0],toColor:[128,0,0]}]},{id:"white-to-black",fromColor:[255,255,255],toColor:[0,0,0]},{id:"yellow-to-dark-red",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[242,167,46]},{fromColor:[242,167,46],toColor:[107,0,0]}]},{id:"yellow-to-green-to-dark-blue",type:"multipart",colorRamps:[{fromColor:[255,255,128],toColor:[56,224,9]},{fromColor:[56,224,9],toColor:[26,147,171]},{fromColor:[26,147,171],toColor:[12,16,120]}]},{id:"yellow-to-red",fromColor:[245,245,0],
toColor:[255,0,0]},{id:"yellow-green-bright",fromColor:[236,252,204],toColor:[157,204,16]},{id:"yellow-green-light-to-dark",fromColor:[215,240,175],toColor:[96,107,45]}],p=new f.JSONMap({Aspect:"aspect","Black to White":"black-to-white","Blue Bright":"blue-bright","Blue Light to Dark":"blue-light-to-dark","Blue-Green Bright":"blue-green-bright","Blue-Green Light to Dark":"blue-green-light-to-dark","Brown Light to Dark":"brown-light-to-dark","Brown to Blue Green Diverging, Bright":"brown-to-blue-green-diverging-right",
"Brown to Blue Green Diverging, Dark":"brown-to-blue-green-diverging-dark","Coefficient Bias":"coefficient-bias","Cold to Hot Diverging":"cold-to-hot-diverging","Condition Number":"condition-number","Cyan to Purple":"cyan-to-purple","Cyan-Light to Blue-Dark":"cyan-light-to-blue-dark",Distance:"distance","Elevation #1":"elevation1","Elevation #2":"elevation2",Errors:"errors","Gray Light to Dark":"gray-light-to-dark","Green Bright":"green-bright","Green Light to Dark":"green-light-to-dark","Green to Blue":"green-to-blue",
"Orange Bright":"orange-bright","Orange Light to Dark":"orange-light-to-dark","Partial Spectrum":"partial-spectrum","Partial Spectrum 1 Diverging":"partial-spectrum-1-diverging","Partial Spectrum 2 Diverging":"partial-spectrum-2-diverging","Pink to YellowGreen Diverging, Bright":"pink-to-yellow-green-diverging-bright","Pink to YellowGreen Diverging, Dark":"pink-to-yellow-green-diverging-dark",Precipitation:"precipitation",Prediction:"prediction","Purple Bright":"purple-bright","Purple to Green Diverging, Bright":"purple-to-green-diverging-bright",
"Purple to Green Diverging, Dark":"purple-to-green-diverging-dark","Purple-Blue Bright":"purple-blue-bright","Purple-Blue Light to Dark":"purple-blue-light-to-dark","Purple-Red Bright":"purple-red-bright","Purple-Red Light to Dark":"purple-red-light-to-dark","Red Bright":"red-bright","Red Light to Dark":"red-light-to-dark","Red to Blue Diverging, Bright":"red-to-blue-diverging-bright","Red to Blue Diverging, Dark":"red-to-blue-diverging-dark","Red to Green":"red-to-green","Red to Green Diverging, Bright":"red-to-green-diverging-bright",
"Red to Green Diverging, Dark":"red-to-green-diverging-dark",Slope:"slope","Spectrum-Full Bright":"spectrum-full-bright","Spectrum-Full Dark":"spectrum-full-dark","Spectrum-Full Light":"spectrum-full-light",Surface:"surface",Temperature:"temperature","White to Black":"white-to-black","Yellow to Dark Red":"yellow-to-dark-red","Yellow to Green to Dark Blue":"yellow-to-green-to-dark-blue","Yellow to Red":"yellow-to-red","Yellow-Green Bright":"yellow-green-bright","Yellow-Green Light to Dark":"yellow-green-light-to-dark"});
a.colorRampDict=p;a.convertColorRampToColormap=function(d,m){d=x(d,m);const r=m?.interpolateAlpha;d.forEach((A,v)=>{A.unshift(v);r||A.pop()});return d};a.convertColorRampToColors=x;a.convertRGBATo32Bit=function(d){d=d.reverse().map(m=>{m=m.toString(16);return 2>m.length?"0"+m:m});return 4294967295&Number.parseInt(d.join(""),16)};a.getColorRampId=y;a.getColorRampJSON=function(d,m="esriCIELabAlgorithm"){const r=k.find(({id:A})=>A===d);return r?r.colorRamps?{type:"multipart",colorRamps:r.colorRamps.map(A=>
({type:"algorithmic",algorithm:m,fromColor:[...A.fromColor],toColor:[...A.toColor]}))}:{type:"algorithmic",algorithm:m,fromColor:[...r.fromColor],toColor:[...r.toColor]}:null};a.getColorRampName=B;a.getRFxArgColorRampValue=function(d){const m=B(d);return m?"algorithmic"===d.type?{...c(d),Name:m}:d.colorRamps?(d=d.colorRamps.map(c),{type:"MultiPartColorRamp",NumColorRamps:d.length,ArrayOfColorRamp:d,Name:m}):null:null};a.predefinedJsonColorRamps=k;a.rasterColormapNames="random ndvi ndvi2 ndvi3 elevation gray hillshade".split(" ");
Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/core/colorUtils":function(){define(["exports","../Color","../chunks/vec4","../chunks/vec4f64"],function(a,q,g,f){function h(c,k){const p=[];let d,m;if(c[0].length!==k.length)throw Error("dimensions do not match");const r=c.length,A=c[0].length;let v=0;for(d=0;d<r;d++){for(m=v=0;m<A;m++)v+=c[d][m]*k[m];p.push(v)}return p}function b(c){c=[c.r/255,c.g/255,c.b/255].map(k=>.04045>=k?k/12.92:((k+.055)/1.055)**2.4);c=h(x,c);return{x:100*
c[0],y:100*c[1],z:100*c[2]}}function e(c){c=h(w,[c.x/100,c.y/100,c.z/100]).map(k=>Math.min(1,Math.max(.0031308>=k?12.92*k:1.055*k**(1/2.4)-.055,0)));return{r:Math.round(255*c[0]),g:Math.round(255*c[1]),b:Math.round(255*c[2])}}function l(c){c=[c.x/95.047,c.y/100,c.z/108.883].map(k=>k>(6/29)**3?k**(1/3):1/3*(29/6)**2*k+4/29);return{l:116*c[1]-16,a:500*(c[0]-c[1]),b:200*(c[1]-c[2])}}function u(c){const k=c.l;c=[(k+16)/116+c.a/500,(k+16)/116,(k+16)/116-c.b/200].map(p=>p>6/29?p**3:3*(6/29)**2*(p-4/29));
return{x:95.047*c[0],y:100*c[1],z:108.883*c[2]}}function y(c){if("r"in c&&"g"in c&&"b"in c)return c;if("l"in c&&"c"in c&&"h"in c){var k=c.c,p=c.h;return e(u({l:c.l,a:k*Math.cos(p),b:k*Math.sin(p)}))}if("l"in c&&"a"in c&&"b"in c)return e(u(c));if("x"in c&&"y"in c&&"z"in c)return e(c);if("h"in c&&"s"in c&&"v"in c){p=(c.h+360)%360/60;k=c.v/100*255;c=c.s/100*k;const d=c*(1-Math.abs(p%2-1));switch(Math.floor(p)){case 0:p={r:c,g:d,b:0};break;case 1:p={r:d,g:c,b:0};break;case 2:p={r:0,g:c,b:d};break;case 3:p=
{r:0,g:d,b:c};break;case 4:p={r:d,g:0,b:c};break;case 5:case 6:p={r:c,g:0,b:d};break;default:p={r:0,g:0,b:0}}p.r=Math.round(p.r+k-c);p.g=Math.round(p.g+k-c);p.b=Math.round(p.b+k-c);return p}return c}function B(c){if("h"in c&&"s"in c&&"v"in c)return c;var k=y(c);c=k.r;const p=k.g,d=k.b;k=Math.max(c,p,d);const m=k-Math.min(c,p,d);c=0===m?0:k===c?(p-d)/m%6:k===p?(d-c)/m+2:(c-p)/m+4;0>c&&(c+=6);return{h:60*c,s:100*(0===m?0:m/k),v:100/255*k}}function n(c){return"l"in c&&"a"in c&&"b"in c?c:l(b(y(c)))}function t(c){let {r:k,
g:p,b:d,a:m}=c;1>m&&(k=Math.round(m*k+255*(1-m)),p=Math.round(m*p+255*(1-m)),d=Math.round(m*d+255*(1-m)));return new q({r:k,g:p,b:d})}function z(c,k){const {r:p,g:d,b:m}=k?.ignoreAlpha?c:t(c);return.2126*p+.7152*d+.0722*m}const x=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],w=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];a.BrightnessThreshold=void 0;(function(c){c[c.Low=160]="Low";c[c.High=225]="High"})(a.BrightnessThreshold||(a.BrightnessThreshold={}));a.colorEquals=
function(c,k){return c===k||null!=c&&c.equals(k)};a.colorVectorEquals=function(c,k){return c===k||null!=c&&null!=k&&g.equals(c,k)};a.colorVectorToColorAndOpacity=function(c){return f.fromValues(c[0],c[1],c[2],3<c.length?c[3]:1)};a.darken=function(c,k){var p=n(c);p.l*=1-k;k=y(p);p=c.clone();p.setColor(k);p.a=c.a;return p};a.desaturate=function(c,k){var p=B(c);p.s*=k;k=y(p);p=c.clone();p.setColor(k);p.a=c.a;return p};a.getColorLuminance=z;a.getColorTheme=function(c){return t(c).isBright?"light":"dark"};
a.getContrast=function(c,k=a.BrightnessThreshold.High){return z(c,{ignoreAlpha:!0})>k?new q([0,0,0,c.a]):new q([255,255,255,c.a])};a.multiplyOpacity=function(c,k){c=c.clone();c.a*=k;return c};a.multiplyOpacityToUnitRGBA=function(c,k){c=q.toUnitRGBA(c);c[3]*=k;return c};a.toHSV=B;a.toLAB=n;a.toLCH=function(c){if(!("l"in c&&"c"in c&&"h"in c)){var k=l(b(y(c)));c=k.l;var p=k.a;const d=k.b;k=Math.sqrt(p*p+d*d);p=Math.atan2(d,p);p=0<p?p:p+2*Math.PI;c={l:c,c:k,h:p}}return c};a.toRGB=y;a.unitRGBAFromColor=
function(c){return q.toUnitRGBA(c)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/rasterFunctions/creators/createLocalFunctions":function(){define(["exports","./utils"],function(a,q){function g(b,e,l="unknown"){let u;"object"==typeof e&&("raster"in e||!("rasterFunction"in e||"functionName"in e))?(u=[e.raster??"$$"],l=e.outputPixelType??"unknown"):u=[e];return q.createRasterFunction("Local",{operation:b,rasters:u},l)}function f(b,e,l,u="unknown"){"object"==typeof e&&
"raster"in e?(l=[e.raster,e.raster2],u=e.outputPixelType??"unknown"):l=[e,l];return q.createRasterFunction("Local",{operation:b,rasters:l},u)}const h={majority:38,max:39,mean:40,median:41,min:42,minority:43,range:47,stddev:54,sum:55,variety:58};a.abs=function(b,e="unknown"){return g(10,b,e)};a.acos=function(b,e="unknown"){return g(6,b,e)};a.acosh=function(b,e="unknown"){return g(59,b,e)};a.asin=function(b,e="unknown"){return g(7,b,e)};a.asinh=function(b,e="unknown"){return g(60,b,e)};a.atan=function(b,
e="unknown"){return g(8,b,e)};a.atan2=function(b,e,l="unknown"){return f(61,b,e,l)};a.atanh=function(b,e="unknown"){return g(9,b,e)};a.bitwiseAnd=function(b,e,l="unknown"){return f(11,b,e,l)};a.bitwiseLeftShift=function(b,e,l="unknown"){return f(12,b,e,l)};a.bitwiseNot=function(b,e="unknown"){return g(13,b,e)};a.bitwiseOr=function(b,e,l="unknown"){return f(14,b,e,l)};a.bitwiseRightShift=function(b,e,l="unknown"){return f(15,b,e,l)};a.bitwiseXor=function(b,e,l="unknown"){return f(16,b,e,l)};a.booleanAnd=
function(b,e,l="unknown"){return f(17,b,e,l)};a.booleanNot=function(b,e="unknown"){return g(18,b,e)};a.booleanOr=function(b,e,l="unknown"){return f(19,b,e,l)};a.booleanXor=function(b,e,l="unknown"){return f(20,b,e,l)};a.cellStatistics=function(b){const {rasters:e,statType:l,processAsMultiband:u=!0,outputPixelType:y}=b;return q.createRasterFunction("Local",{operation:h[l],processAsMultiband:u,rasters:e},y)};a.conditional=function(b,e,l,u){"object"==typeof b&&"raster"in b&&"trueRaster"in b?(e=[b.raster,
b.trueRaster,b.falseRaster],u=b.outputPixelType??"unknown"):e=[b,e,l];return q.createRasterFunction("Local",{operation:78,rasters:e},u)};a.cos=function(b,e="unknown"){return g(21,b,e)};a.cosh=function(b,e="unknown"){return g(22,b,e)};a.divide=function(b,e,l="unknown"){return f(23,b,e,l)};a.equalTo=function(b,e,l="unknown"){return f(24,b,e,l)};a.exp=function(b,e="unknown"){return g(25,b,e)};a.exp10=function(b,e="unknown"){return g(26,b,e)};a.exp2=function(b,e="unknown"){return g(27,b,e)};a.float=function(b,
e="unknown"){return g(32,b,e)};a.greaterThan=function(b,e,l="unknown"){return f(28,b,e,l)};a.greaterThanEqual=function(b,e,l="unknown"){return f(29,b,e,l)};a.int=function(b,e="unknown"){return g(30,b,e)};a.isNull=function(b,e="unknown"){return g(31,b,e)};a.lessThan=function(b,e,l="unknown"){return f(33,b,e,l)};a.lessThanEqual=function(b,e,l="unknown"){return f(34,b,e,l)};a.log=function(b,e="unknown"){return g(35,b,e)};a.log10=function(b,e="unknown"){return g(36,b,e)};a.log2=function(b,e="unknown"){return g(37,
b,e)};a.minus=function(b,e,l="unknown"){return f(2,b,e,l)};a.mod=function(b,e,l="unknown"){return f(44,b,e,l)};a.negate=function(b,e="unknown"){return g(45,b,e)};a.notEqual=function(b,e,l="unknown"){return f(46,b,e,l)};a.plus=function(b,e,l="unknown"){return f(1,b,e,l)};a.power=function(b,e,l="unknown"){return f(5,b,e,l)};a.roundDown=function(b,e="unknown"){return g(48,b,e)};a.roundUp=function(b,e="unknown"){return g(49,b,e)};a.setNull=function(b,e,l="unknown"){"object"==typeof b&&"raster"in b?(e=
[b.raster,b.falseRaster],l=b.outputPixelType??"unknown"):e=[b,e];return q.createRasterFunction("Local",{operation:50,rasters:e},l)};a.sin=function(b,e="unknown"){return g(51,b,e)};a.sinh=function(b,e="unknown"){return g(52,b,e)};a.sqrt=function(b,e="unknown"){return g(4,b,e)};a.square=function(b,e="unknown"){return g(53,b,e)};a.tan=function(b,e="unknown"){return g(56,b,e)};a.tanh=function(b,e="unknown"){return g(57,b,e)};a.times=function(b,e,l="unknown"){return f(3,b,e,l)};Object.defineProperty(a,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/rasterFunctions/creators/createSurfaceFunctions":function(){define(["exports","./utils"],function(a,q){a.aspect=function(g){const {raster:f,outputPixelType:h}=g;return q.createRasterFunction("Aspect",{raster:f},h)};a.curvature=function(g){const {raster:f,zFactor:h,outputPixelType:b="unknown"}=g;return q.createRasterFunction("Curvature",{raster:f,curvatureType:"standard"===g.curvatureType?0:"platform"===g.curvatureType?1:2,zFactor:h},b)};
a.slope=function(g){const {raster:f,zFactor:h,removeEdgeEffect:b,outputPixelType:e="unknown"}=g,l="degree"===g.slopeType?1:"percent-rise"===g.slopeType?2:3,u={raster:f,slopeType:l,zFactor:h,removeEdgeEffect:b};3===l&&(u.psPower=g.pixelSizePower,u.psZFactor=g.pixelSizeZFactor);return q.createRasterFunction("Slope",u,e)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/rasterFunctions/creators/createStatisticsFunctions":function(){define(["exports","../focalStatUtils",
"./utils"],function(a,q,g){a.statistics=function(f){const {rows:h,cols:b,fillNoDataOnly:e=!1,raster:l,outputPixelType:u}=f;f=q.statisticsTypeMap.toJSON(f.statisticsType);return g.createRasterFunction("Statistics",{rows:h,cols:b,fillNoDataOnly:e,statisticsType:f,raster:l},u)};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/rasterFunctions/focalStatUtils":function(){define(["exports","../../../core/has","../../../core/jsonMap","../PixelBlock","./mirror"],function(a,
q,g,f,h){function b(e,l){const {fillNoDataOnly:u}=l,{band:y,width:B,height:n,mask:t,outBand:z}=e;if(u&&!t)z.set(y);else{var {kernelRows:x,kernelCols:w}=l;e=Math.floor(x/2);l=Math.floor(w/2);var c=z.slice(),k=new Uint32Array(B*n);for(var p=e;p<n-e;p++){var d=p*B;for(var m=l;m<B-l;m++){if(u&&t&&t[d+m])continue;const r=[];for(let A=0;A<x;A++)for(let v=0;v<w;v++){const U=d+m+(A-e)*B+v-l;t&&!t[U]||r.push(y[U])}r.length&&(r.sort((A,v)=>A-v),t?(c[d+m]=r[Math.floor((r.length-1)/2)],k[d+m]=r.length):z[d+m]=
r[Math.floor((r.length-1)/2)])}}if(t)for(p=e;p<n-e;p++)for(d=p*B,m=l;m<B-l;m++)!k[d+m]||u&&t[d+m]||(z[d+m]=c[d+m],t[d+m]=255)}}q=new g.JSONMap({1:"min",2:"max",3:"mean",4:"stddev",5:"median",6:"majority",7:"minority"},{useNumericKeys:!0});a.computeFocalStatistics=function(e,l){const {mask:u}=e,{fillNoDataOnly:y}=l;if(y&&!u)return e;const {pixels:B,width:n,height:t,bandMasks:z,pixelType:x}=e,w=B.length,c=n*t,k=[],{kernelRows:p,kernelCols:d,statisticsType:m,mirrorEdges:r}=l;if(y&&!u)return e;const A=
l.outputPixelType??x,v=[];for(let C=0;C<w;C++){const G=B[C],V=f.createEmptyBand(A,c);y&&V.set(G);const ea=(z?.[C]??u)?.slice()??null,W={band:G,width:n,height:t,mask:ea,outBand:V};switch(m){case "min":case "max":a:{var U=l;const {fillNoDataOnly:J}=U,{band:N,width:E,height:K,mask:F,outBand:ba}=W;if(J&&!F){ba.set(N);break a}const {kernelRows:na,kernelCols:fa,statisticsType:Z}=U,S=Math.floor(na/2),X=Math.floor(fa/2),ka="min"===Z,ha=ba.slice(),ia=new Uint32Array(E*K);for(let T=S;T<K-S;T++){const L=T*E;
for(let H=X;H<E-X;H++){let Y=ka?Number.MAX_VALUE:-Number.MAX_VALUE,ca=0;for(let ja=0;ja<na;ja++)for(let M=0;M<fa;M++){const I=L+H+(ja-S)*E+M-X;if(!F||F[I])Y=ka?Math.min(Y,N[I]):Math.max(Y,N[I]),ca++}F?(ha[L+H]=0===ca?0:Y,ia[L+H]=ca):ba[L+H]=0===ca?0:Y}}if(F)for(let T=S;T<K-S;T++){const L=T*E;for(let H=X;H<E-X;H++)!ia[L+H]||J&&F[L+H]||(ba[L+H]=ha[L+H],F[L+H]=255)}}break;case "mean":case "stddev":a:{var da=l;const {fillNoDataOnly:J}=da,{band:N,width:E,height:K,mask:F,outBand:ba}=W;if(J&&!F){ba.set(N);
break a}const {statisticsType:na,kernelRows:fa,kernelCols:Z}=da,S="stddev"===na,X=E*K,ka=new Float64Array(X),ha=new Float64Array(X),ia=new Uint32Array(X);for(let M=0;M<K;M++){const I=M*E;let O=0,R=0,P=0;for(let Q=0;Q<Z;Q++)if(!F||F[I+Q])O+=N[I+Q],S&&(R+=N[I+Q]**2),P++;ka[I]=O;ha[I]=R;ia[I]=P;for(let Q=1;Q<=E-Z;Q++){const la=I+Q-1,oa=la+Z;F?(F[la]&&(P--,O-=N[la],S&&(R-=N[la]**2)),F[oa]&&(P++,O+=N[oa],S&&(R+=N[oa]**2))):(O-=N[la],O+=N[oa],S&&(R-=N[la]**2,R+=N[oa]**2));ka[I+Q]=O;ia[I+Q]=P;S&&(ha[I+Q]=
R)}}const T=new Float64Array(X),L=new Float64Array(X),H=new Uint32Array(X),Y=fa*E;for(let M=0;M<=E-Z;M++){let I=0,O=0,R=0;for(let P=0;P<fa;P++){const Q=P*E+M;I+=ka[Q];R+=ia[Q];S&&(O+=ha[Q])}T[M]=I;L[M]=O;H[M]=R;for(let P=1;P<=K-fa;P++){const Q=(P-1)*E+M,la=Q+Y;I-=ka[Q];I+=ka[la];R-=ia[Q];R+=ia[la];S&&(O-=ha[Q],O+=ha[la]);T[P*E+M]=I;L[P*E+M]=O;H[P*E+M]=R}}const ca=Math.floor(fa/2),ja=Math.floor(Z/2);for(let M=ca;M<K-ca;M++){const I=M*E;for(let O=ja;O<E-ja;O++){const R=(M-ca)*E+O-ja,P=H[R];if(0===P||
J&&(!F||F[I+O]))continue;const Q=T[R]/P;ba[I+O]=S?Math.sqrt((L[R]-T[R]*Q)/P):Q;F&&(F[I+O]=255)}}}break;case "median":b(W,l);break;case "majority":case "minority":a:{var aa=l;const {fillNoDataOnly:J}=aa,{band:N,width:E,height:K,mask:F,outBand:ba}=W;if(J&&!F){ba.set(N);break a}const {kernelRows:na,kernelCols:fa}=aa,Z=Math.floor(na/2),S=Math.floor(fa/2),X="majority"===aa.statisticsType,ka=na*fa,ha=ba.slice(),ia=new Uint32Array(E*K);for(let T=Z;T<K-Z;T++){const L=T*E;for(let H=S;H<E-S;H++){if(J&&F&&F[L+
H])continue;const Y=new Map;for(let I=0;I<na;I++)for(let O=0;O<fa;O++){const R=L+H+(I-Z)*E+O-S;if(F&&!F[R])continue;const P=N[R];Y.set(P,Y.has(P)?Y.get(P)+1:1)}if(0===Y.size)continue;let ca=0,ja=0,M=X?0:ka+1;for(const I of Y.keys())ja=Y.get(I),X===ja>M&&(M=ja,ca=I);F?(ha[L+H]=ca,ia[L+H]=Y.size):ba[L+H]=ca}}if(F)for(let T=Z;T<K-Z;T++){const L=T*E;for(let H=S;H<E-S;H++)!ia[L+H]||J&&F[L+H]||(ba[L+H]=ha[L+H],F[L+H]=255)}}}r&&!y&&h.mirror(V,n,t,p,d);k.push(V);ea&&v.push(ea)}let ma=v[0]??u;v.length!==w&&
(v.length=0);if(1<w&&z?.length){ma=new Uint8Array(c);ma.set(v[0]);for(let C=1;C<z.length;C++){const G=z[C];for(let V=0;V<G.length;V++)0===G[V]&&(ma[V]=0)}}const D=new f({pixelType:A,width:n,height:t,pixels:k,bandMasks:z&&v.length?v:null,mask:ma});D.updateStatistics();return D};a.statisticsTypeMap=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/PixelBlock":function(){define("../../chunks/tslib.es6 ../../core/Error ../../core/JSONSupport ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ./SimpleBandStatistics ./rasterFormats/pixelRangeUtils".split(" "),
function(a,q,g,f,h,b,e,l,u,y){var B;g=B=class extends g.JSONSupport{static createEmptyBand(n,t){return new (B.getPixelArrayConstructor(n))(t)}static getPixelArrayConstructor(n){let t;switch(n){case "u1":case "u2":case "u4":case "u8":t=Uint8Array;break;case "u16":t=Uint16Array;break;case "u32":t=Uint32Array;break;case "s8":t=Int8Array;break;case "s16":t=Int16Array;break;case "s32":t=Int32Array;break;case "f32":t=Float32Array;break;case "f64":t=Float64Array;break;case "c64":case "c128":case "unknown":t=
Float32Array}return t}constructor(n){super(n);this.height=this.width=null;this.pixelType="f32";this.mask=this.validPixelCount=null;this.premultiplyAlpha=this.maskIsAlpha=!1;this.statistics=null;this.depthCount=1}castPixelType(n){if(!n)return"f32";n=n.toLowerCase();["u1","u2","u4"].includes(n)?n="u8":"unknown u8 s8 u16 s16 u32 s32 f32 f64".split(" ").includes(n)||(n="f32");return n}getPlaneCount(){return this.pixels?.length}addData(n){if(!n.pixels||n.pixels.length!==this.width*this.height)throw new q("pixelblock:invalid-or-missing-pixels",
"add data requires valid pixels array that has same length defined by pixel block width * height");this.pixels||(this.pixels=[]);this.statistics||(this.statistics=[]);this.pixels.push(n.pixels);this.statistics.push(n.statistics??new u.SimpleBandStatistics)}getAsRGBA(){const n=new ArrayBuffer(this.width*this.height*4);switch(this.pixelType){case "s8":case "s16":case "u16":case "s32":case "u32":case "f32":case "f64":this._fillFromNon8Bit(n);break;default:this._fillFrom8Bit(n)}return new Uint8ClampedArray(n)}getAsRGBAFloat(){const n=
new Float32Array(this.width*this.height*4);this._fillFrom32Bit(n);return n}updateStatistics(){if(this.pixels){this.statistics=this.pixels.map(z=>this._calculateBandStatistics(z,this.mask));var n=this.mask,t=0;if(null!=n)for(let z=0;z<n.length;z++)n[z]&&t++;else t=this.width*this.height;this.validPixelCount=t}}clamp(n){if(n&&"f64"!==n&&"f32"!==n&&this.pixels){var [t,z]=y.getPixelValueRange(n),x=this.pixels,w=this.width*this.height,c=x.length,k=[];for(let r=0;r<c;r++){var p=B.createEmptyBand(n,w);var d=
x[r];for(let A=0;A<w;A++){var m=d[A];p[A]=m>z?z:m<t?t:m}k.push(p)}this.pixels=k;this.pixelType=n}}extractBands(n){const {pixels:t,statistics:z}=this;if(null==n||0===n.length||!t||0===t.length)return this;var x=t.length,w=n.some(r=>r>=t.length),c=x===n.length&&!n.some((r,A)=>r!==A);if(w||c)return this;x=this.bandMasks?.length===x?n.map(r=>this.bandMasks[r]):void 0;let {mask:k,validPixelCount:p}=this;const {width:d,height:m}=this;if(x){if(1===x.length)k=x[0];else for(w=d*m,k=(new Uint8Array(w)).fill(255),
c=0;c<x.length;c++){const r=x[c];for(let A=0;A<w;A++)r[A]||(k[A]=0)}p=k.filter(r=>!!r).length}return new B({pixelType:this.pixelType,width:d,height:m,mask:k,bandMasks:x,validPixelCount:p,maskIsAlpha:this.maskIsAlpha,pixels:n.map(r=>t[r]),statistics:z&&n.map(r=>z[r])})}clone(){const n=new B({width:this.width,height:this.height,pixelType:this.pixelType,maskIsAlpha:this.maskIsAlpha,validPixelCount:this.validPixelCount});null!=this.mask&&(n.mask=this.mask instanceof Uint8Array?new Uint8Array(this.mask):
this.mask.slice(0));this.bandMasks&&(n.bandMasks=this.bandMasks.map(x=>new Uint8Array(x)));let t;const z=B.getPixelArrayConstructor(this.pixelType);if(this.pixels&&0<this.pixels.length){n.pixels=[];const x=!!this.pixels[0].slice;for(t=0;t<this.pixels.length;t++)n.pixels[t]=x?this.pixels[t].slice(0,this.pixels[t].length):new z(this.pixels[t])}if(this.statistics)for(n.statistics=[],t=0;t<this.statistics.length;t++)n.statistics[t]=f.clone(this.statistics[t]);n.premultiplyAlpha=this.premultiplyAlpha;
return n}_fillFrom8Bit(n){const {mask:t,maskIsAlpha:z,premultiplyAlpha:x,pixels:w}=this;if(n&&w?.length){var c,k;var p=c=k=w[0];3<=w.length?(c=w[1],k=w[2]):2===w.length&&(c=w[1]);var d=new Uint32Array(n),m=this.width*this.height;if(p.length!==m)h.getLogger(this).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");else if(null!=t&&t.length===m)if(z)for(n=0;n<m;n++){const r=t[n];if(r){const A=r/255;d[n]=x?r<<24|k[n]*A<<16|c[n]*A<<8|p[n]*A:r<<24|k[n]<<16|c[n]<<8|p[n]}}else for(n=
0;n<m;n++)t[n]&&(d[n]=-16777216|k[n]<<16|c[n]<<8|p[n]);else for(n=0;n<m;n++)d[n]=-16777216|k[n]<<16|c[n]<<8|p[n]}else h.getLogger(this).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.")}_fillFromNon8Bit(n){const {pixels:t,mask:z,statistics:x}=this;if(n&&t?.length){var w=this.pixelType,c=1,k=0;c=1;if(x&&0<x.length){for(var p of x)null!=p.minValue&&(k=Math.min(k,p.minValue)),null!=p.maxValue&&null!=p.minValue&&(c=Math.max(c,p.maxValue-p.minValue));c=255/c}else c=255,
"s8"===w?(k=-128,c=127):"u16"===w?c=65535:"s16"===w?(k=-32768,c=32767):"u32"===w?c=4294967295:"s32"===w?(k=-2147483648,c=2147483647):"f32"===w?(k=-3.4*1E39,c=3.4*1E39):"f64"===w&&(k=-Number.MAX_VALUE,c=Number.MAX_VALUE),c=255/(c-k);n=new Uint32Array(n);w=this.width*this.height;var d,m,r;p=d=m=t[0];if(p.length!==w)return h.getLogger(this).error("getAsRGBA()","Unable to convert to RGBA. The pixelblock is invalid.");if(2<=t.length)if(d=t[1],3<=t.length&&(m=t[2]),null!=z&&z.length===w)for(r=0;r<w;r++)z[r]&&
(n[r]=-16777216|(m[r]-k)*c<<16|(d[r]-k)*c<<8|(p[r]-k)*c);else for(r=0;r<w;r++)n[r]=-16777216|(m[r]-k)*c<<16|(d[r]-k)*c<<8|(p[r]-k)*c;else if(null!=z&&z.length===w)for(r=0;r<w;r++)d=(p[r]-k)*c,z[r]&&(n[r]=-16777216|d<<16|d<<8|d);else for(r=0;r<w;r++)d=(p[r]-k)*c,n[r]=-16777216|d<<16|d<<8|d}else h.getLogger(this).error("getAsRGBA()","Unable to convert to RGBA. The input pixel block is empty.")}_fillFrom32Bit(n){const {pixels:t,mask:z}=this;if(!n||!t?.length)return h.getLogger(this).error("getAsRGBAFloat()",
"Unable to convert to RGBA. The input pixel block is empty.");let x,w,c,k;x=w=c=t[0];3<=t.length?(w=t[1],c=t[2]):2===t.length&&(w=t[1]);const p=this.width*this.height;if(x.length!==p)return h.getLogger(this).error("getAsRGBAFloat()","Unable to convert to RGBA. The pixelblock is invalid.");let d=0;if(null!=z&&z.length===p)for(k=0;k<p;k++)n[d++]=x[k],n[d++]=w[k],n[d++]=c[k],n[d++]=z[k]&1;else for(k=0;k<p;k++)n[d++]=x[k],n[d++]=w[k],n[d++]=c[k],n[d++]=1}_calculateBandStatistics(n,t){let z=Infinity,x=
-Infinity;const w=n.length;let c,k=0;if(null!=t)for(c=0;c<w;c++)t[c]&&(k=n[c],z=k<z?k:z,x=k>x?k:x);else for(c=0;c<w;c++)k=n[c],z=k<z?k:z,x=k>x?k:x;return new u.SimpleBandStatistics(z,x)}};a.__decorate([b.property({json:{write:!0}})],g.prototype,"width",void 0);a.__decorate([b.property({json:{write:!0}})],g.prototype,"height",void 0);a.__decorate([b.property({json:{write:!0}})],g.prototype,"pixelType",void 0);a.__decorate([e.cast("pixelType")],g.prototype,"castPixelType",null);a.__decorate([b.property({json:{write:!0}})],
g.prototype,"validPixelCount",void 0);a.__decorate([b.property({json:{write:!0}})],g.prototype,"mask",void 0);a.__decorate([b.property({json:{write:!0}})],g.prototype,"maskIsAlpha",void 0);a.__decorate([b.property({json:{write:!0}})],g.prototype,"pixels",void 0);a.__decorate([b.property()],g.prototype,"premultiplyAlpha",void 0);a.__decorate([b.property({json:{write:!0}})],g.prototype,"statistics",void 0);a.__decorate([b.property({json:{write:!0}})],g.prototype,"depthCount",void 0);a.__decorate([b.property({json:{write:!0}})],
g.prototype,"noDataValues",void 0);a.__decorate([b.property({json:{write:!0}})],g.prototype,"bandMasks",void 0);return g=B=a.__decorate([l.subclass("esri.layers.support.PixelBlock")],g)})},"esri/layers/support/SimpleBandStatistics":function(){define(["exports"],function(a){class q{constructor(g=null,f=null,h=null){this.minValue=g;this.maxValue=f;this.noDataValue=h}}a.SimpleBandStatistics=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/rasterFormats/pixelRangeUtils":function(){define(["exports"],
function(a){function q(f){return g[f]??[-3.4028234663852886E38,3.4028234663852886E38]}const g={u1:[0,1],u2:[0,3],u4:[0,15],u8:[0,255],s8:[-128,127],u16:[0,65535],s16:[-32768,32767],u32:[0,4294967295],s32:[-2147483648,2147483647],f32:[-3.4028234663852886E38,3.4028234663852886E38],f64:[-Number.MAX_VALUE,Number.MAX_VALUE],unknown:void 0,c64:void 0,c128:void 0};a.convertNoDataToMask=function(f,h,b){if(!(f.depthCount&&1<f.depthCount)){var {pixels:e,statistics:l,pixelType:u}=f,y=e[0].length,B=f.bandMasks??
[];y=f.mask??(new Uint8Array(y)).fill(255);var n="f32"===u||"f64"===u,t=q(u),z=!1;for(let c=0;c<e.length;c++){const k="number"===typeof h?h:h[c];if(null==k)continue;var x=l?.[c]?.maxValue??t[1];if((l?.[c]?.minValue??t[0])>k+Number.EPSILON||x<k-Number.EPSILON)continue;x=B[c]||y.slice();const p=e[c];var w=b?.customFloatTolerance;if(n&&0!==w){w||(w=9.999999E37<=Math.abs(k)?2E-7*Math.abs(k):"f32"===u?2**-23:Number.EPSILON);for(let d=0;d<p.length;d++)x[d]&&Math.abs(p[d]-k)<w&&(p[d]=0,x[d]=0,y[d]=0,z=!0)}else for(w=
0;w<p.length;w++)x[w]&&p[w]===k&&(p[w]=0,x[w]=0,y[w]=0,z=!0);B[c]=x}z&&(f.bandMasks=f.bandMasks||1<f.pixels.length?B:null,f.mask=y);z&&"updateStatistics"in f&&f.updateStatistics()}};a.getPixelValueRange=q;Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/rasterFunctions/mirror":function(){define(["exports"],function(a){a.mirror=function(q,g,f,h,b){h=Math.floor(h/2);for(var e=0;e<h;e++)for(var l=0;l<g;l++)q[e*g+l]=q[(b-1-e)*g+l],q[(f-1-e)*g+l]=q[(f-b+e)*g+l];h=Math.floor(b/
2);for(e=0;e<f;e++){l=e*g;for(let u=0;u<h;u++)q[l+u]=q[l+b-1-u],q[l+g-u-1]=q[l+g+u-b]}};Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("exports ./rasterFunctions/creators/createAppearenceFunctions ./rasterFunctions/creators/createBandIndexFunctions ./rasterFunctions/creators/createDataManagementFunctions ./rasterFunctions/creators/createLocalFunctions ./rasterFunctions/creators/createSurfaceFunctions ./rasterFunctions/creators/createStatisticsFunctions".split(" "),function(a,q,g,f,h,b,e){a.contrastBrightness=q.contrastBrightness;a.convolution=q.convolution;a.stretchHistogramEqualization=q.stretchHistogramEqualization;a.stretchMinMax=
q.stretchMinMax;a.stretchNone=q.stretchNone;a.stretchPercentClip=q.stretchPercentClip;a.stretchStandardDeviation=q.stretchStandardDeviation;a.bandArithmeticBAI=g.bandArithmeticBAI;a.bandArithmeticCIg=g.bandArithmeticCIg;a.bandArithmeticCIre=g.bandArithmeticCIre;a.bandArithmeticClayMinerals=g.bandArithmeticClayMinerals;a.bandArithmeticCustom=g.bandArithmeticCustom;a.bandArithmeticEVI=g.bandArithmeticEVI;a.bandArithmeticFerrousMinerals=g.bandArithmeticFerrousMinerals;a.bandArithmeticGEMI=g.bandArithmeticGEMI;
a.bandArithmeticGNDVI=g.bandArithmeticGNDVI;a.bandArithmeticGVITM=g.bandArithmeticGVITM;a.bandArithmeticIronOxide=g.bandArithmeticIronOxide;a.bandArithmeticMNDWI=g.bandArithmeticMNDWI;a.bandArithmeticMSAVI=g.bandArithmeticMSAVI;a.bandArithmeticMTVI2=g.bandArithmeticMTVI2;a.bandArithmeticNBR=g.bandArithmeticNBR;a.bandArithmeticNDBI=g.bandArithmeticNDBI;a.bandArithmeticNDMI=g.bandArithmeticNDMI;a.bandArithmeticNDSI=g.bandArithmeticNDSI;a.bandArithmeticNDVI=g.bandArithmeticNDVI;a.bandArithmeticNDVIre=
g.bandArithmeticNDVIre;a.bandArithmeticNDWI=g.bandArithmeticNDWI;a.bandArithmeticPVI=g.bandArithmeticPVI;a.bandArithmeticRTVICore=g.bandArithmeticRTVICore;a.bandArithmeticSAVI=g.bandArithmeticSAVI;a.bandArithmeticSR=g.bandArithmeticSR;a.bandArithmeticSRre=g.bandArithmeticSRre;a.bandArithmeticSultan=g.bandArithmeticSultan;a.bandArithmeticTSAVI=g.bandArithmeticTSAVI;a.bandArithmeticVARI=g.bandArithmeticVARI;a.bandArithmeticWNDWI=g.bandArithmeticWNDWI;a.colormap=f.colormap;a.compositeBands=f.compositeBands;
a.extractBand=f.extractBand;a.mask=f.mask;a.remap=f.remap;a.statisticsHistogram=f.statisticsHistogram;a.table=f.table;a.abs=h.abs;a.acos=h.acos;a.acosh=h.acosh;a.asin=h.asin;a.asinh=h.asinh;a.atan=h.atan;a.atan2=h.atan2;a.atanh=h.atanh;a.bitwiseAnd=h.bitwiseAnd;a.bitwiseLeftShift=h.bitwiseLeftShift;a.bitwiseNot=h.bitwiseNot;a.bitwiseOr=h.bitwiseOr;a.bitwiseRightShift=h.bitwiseRightShift;a.bitwiseXor=h.bitwiseXor;a.booleanAnd=h.booleanAnd;a.booleanNot=h.booleanNot;a.booleanOr=h.booleanOr;a.booleanXor=
h.booleanXor;a.cellStatistics=h.cellStatistics;a.conditional=h.conditional;a.cos=h.cos;a.cosh=h.cosh;a.divide=h.divide;a.equalTo=h.equalTo;a.exp=h.exp;a.exp10=h.exp10;a.exp2=h.exp2;a.float=h.float;a.greaterThan=h.greaterThan;a.greaterThanEqual=h.greaterThanEqual;a.int=h.int;a.isNull=h.isNull;a.lessThan=h.lessThan;a.lessThanEqual=h.lessThanEqual;a.log=h.log;a.log10=h.log10;a.log2=h.log2;a.minus=h.minus;a.mod=h.mod;a.negate=h.negate;a.notEqual=h.notEqual;a.plus=h.plus;a.power=h.power;a.roundDown=h.roundDown;
a.roundUp=h.roundUp;a.setNull=h.setNull;a.sin=h.sin;a.sinh=h.sinh;a.sqrt=h.sqrt;a.square=h.square;a.tan=h.tan;a.tanh=h.tanh;a.times=h.times;a.aspect=b.aspect;a.curvature=b.curvature;a.slope=b.slope;a.statistics=e.statistics;a.defaultRaster="$$";Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});