// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
//>>built
define(["exports","../../widgets/support/dataUtils","../../widgets/support/dateUtils"],function(e,f,g){function k(a){return null!=a&&("date-only"===a.type||"esriFieldTypeDateOnly"===a.type)}function l(a){return null!=a&&("timestamp-offset"===a.type||"esriFieldTypeTimestampOffset"===a.type)}function m(a){return null!=a&&("time-only"===a.type||"esriFieldTypeTimeOnly"===a.type)}function n(a,c){var b=c??a?.domain;if(b&&"range"===b.type){c="range"in b?b.range[0]:b.minValue;b="range"in b?b.range[1]:b.maxValue;
var d=null!=a&&r.has(a.type);return k(a)||m(a)||l(a)?{...p(a,b,c),isInteger:d}:{min:null!=c&&"number"===typeof c?c:null,max:null!=b&&"number"===typeof b?b:null,rawMin:c,rawMax:b,isInteger:d}}}function p(a,c,b){if(k(a)){a=null!=b&&f.isString(b)?g.dateOnlyToDateTime(b).toMillis():null;var d=null!=c&&f.isString(c)?g.dateOnlyToDateTime(c).toMillis():null;return{min:a,max:d,rawMin:b,rawMax:c}}return m(a)?(a=null!=b&&f.isString(b)?g.timeOnlyToDateTime(b).toMillis():null,d=null!=c&&f.isString(c)?g.timeOnlyToDateTime(c).toMillis():
null,{min:a,max:d,rawMin:b,rawMax:c}):l(a)?(a=null!=b&&f.isString(b)?g.timestampOffsetToDateTime(b).toMillis():null,d=null!=c&&f.isString(c)?g.timestampOffsetToDateTime(c).toMillis():null,{min:a,max:d,rawMin:b,rawMax:c}):{max:null,min:null}}e.DomainValidationError=void 0;(function(a){a.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";a.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(e.DomainValidationError||(e.DomainValidationError={}));const r=new Set("integer small-integer big-integer esriFieldTypeInteger esriFieldTypeSmallInteger esriFieldTypeBigInteger".split(" "));
e.dateTimeFieldValuesToNumericRange=p;e.getDomainRange=n;e.validateDomainValue=function(a,c){const b=a?.domain;if(!b)return null;switch(b.type){case "range":const {min:d,max:q}=n(a);if(null!=d&&+c<d||null!=q&&+c>q)return e.DomainValidationError.VALUE_OUT_OF_RANGE;break;case "coded-value":if(null==b.codedValues||b.codedValues.every(h=>null==h||h.code!==c))return e.DomainValidationError.INVALID_CODED_VALUE;break;case "codedValue":if(null==b.codedValues||b.codedValues.every(h=>null==h||h.code!==c))return e.DomainValidationError.INVALID_CODED_VALUE}return null};
Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});