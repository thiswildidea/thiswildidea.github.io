// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
//>>built
define(["exports"],function(d){function g(a){if(a)return null!=a.listMode?a.listMode:void 0}function h(a){return null!=a&&"minScale"in a&&null!=a.minScale?a.minScale:void 0}function k(a){return null!=a&&"maxScale"in a&&null!=a.maxScale?a.maxScale:void 0}function l(a){if(a&&!("type"in a&&"wmts"===a.type)&&a.listMode!==m.hideChildren)return"sublayers"in a?"sublayers":"layers"in a?"layers":void 0}function n(a,b){a?.sort((c,e)=>{c="uid"in c?b.indexOf(c.uid):-1;e="uid"in e?b.indexOf(e.uid):-1;return c>
e?-1:c<e?1:0})}function f(a){return null!=a&&"layer"in a&&null!=a.layer}function p(a){return a&&"capabilities"in a&&null!=a.capabilities&&"exportMap"in a.capabilities?a.capabilities.exportMap:void 0}const m={hide:"hide",hideChildren:"hide-children"};d.canDisplayLayer=function(a){return g(a)!==m.hide};d.canSortSublayers=function(a){a=(a?.layer&&f(a.layer)?a.layer.layer:void 0)??a?.layer;if(!a)return!1;a=p(a);return(null!=a&&"supportsDynamicLayers"in a?a.supportsDynamicLayers:void 0)??!0};d.findLayerListMode=
g;d.findLayerMaxScale=k;d.findLayerMinScale=h;d.findLayerVisibilityMode=function(a){if(!a)return"inherited";var b=f(a)?a.layer:a;b=p(b);b=null!=b&&"supportsSublayerVisibility"in b?b.supportsSublayerVisibility:void 0;return null!=b?b?"independent":"inherited":"visibilityMode"in a&&null!=a.visibilityMode?a.visibilityMode:"independent"};d.findSelectedItem=function(a,b){const c=a.layer?.uid;return null!=c?b.find(e=>e.layer?.uid===c):null};d.getItemLayers=function(a){return(a=a?.layer)&&"layers"in a?a.layers:
null};d.getLegendLayerInfo=function(a){var b=f(a)?a:null;const c=a?.parent;return(b=null!=c&&"type"in c&&"map-image"===c.type?b?.source:null)&&c?{layer:c,title:"",sublayerIds:[b.mapLayerId]}:{layer:a,title:""}};d.getNormalizedChildLayerProperty=l;d.isLayerOutsideScaleRange=function(a,b){if(!a||null==b||isNaN(b))return!1;var c=h(a);a=k(a);c=null!=c&&!isNaN(c)&&0<c&&b>c;b=null!=a&&!isNaN(a)&&0<a&&b<a;return c||b};d.isSublayer=f;d.sortChildLayersToIds=function(a,b){if(a=a?.layer){var c=l(a);if(c){if("layers"===
c&&"layers"in a)var e=a.layers;else"sublayers"===c&&"sublayers"in a&&(e=a.sublayers);n(e,b)}}};d.sortLayersToIds=n;Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});