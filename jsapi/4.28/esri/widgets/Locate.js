// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
//>>built
define("require ../chunks/tslib.es6 ../core/deprecate ../core/Logger ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./Widget ./Locate/LocateViewModel ./support/componentsUtils ./support/globalCss ./support/legacyIcon ./support/decorators/accessibleHandler ./support/decorators/messageBundle ./support/decorators/vmEvent ./support/jsxFactory ./support/widgetUtils".split(" "),function(h,c,k,b,d,
y,z,A,r,t,l,u,g,m,v,n,w,f,B){var p=m.legacyIcon.northNavigation;const q=b.getLogger("esri.widgets.Locate");b=class extends t{constructor(a,e){super(a,e);this.iconClass=p;this.messagesCommon=this.messages=this.icon=null;this.viewModel=new l}loadDependencies(){return u.loadCalciteComponents({icon:()=>new Promise((a,e)=>h(["../chunks/calcite-icon"],a,e)),loader:()=>new Promise((a,e)=>h(["../chunks/calcite-loader"],a,e))})}get geolocationOptions(){return this.viewModel.geolocationOptions}set geolocationOptions(a){this.viewModel.geolocationOptions=
a}get goToLocationEnabled(){return this.viewModel.goToLocationEnabled}set goToLocationEnabled(a){this.viewModel.goToLocationEnabled=a}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(a){this.viewModel.goToOverride=a}get graphic(){return this.viewModel.graphic}set graphic(a){this.viewModel.graphic=a}get label(){return this.messages?.widgetLabel??""}set label(a){this._overrideIfSome("label",a)}get popupEnabled(){return this.viewModel.popupEnabled}set popupEnabled(a){this.viewModel.popupEnabled=
a}get rotationEnabled(){return this.viewModel.rotationEnabled}set rotationEnabled(a){this.viewModel.rotationEnabled=a}get scale(){return this.viewModel.scale}set scale(a){this.viewModel.scale=a}get useHeadingEnabled(){k.deprecatedProperty(q,"useHeadingEnabled",{replacement:"rotationEnabled",version:"4.27",warnOnce:!0});return this.viewModel.rotationEnabled}set useHeadingEnabled(a){k.deprecatedProperty(q,"useHeadingEnabled",{replacement:"rotationEnabled",version:"4.27",warnOnce:!0});this.viewModel.rotationEnabled=
a}get view(){return this.viewModel.view}set view(a){this.viewModel.view=a}cancelLocate(){this.viewModel.cancelLocate()}locate(){return this.viewModel.locate()}render(){const {state:a}=this.viewModel,e="locating"===a?this.messagesCommon.cancel:this.messages.title;return f.tsx("div",{"aria-label":e,bind:this,class:this.classes("esri-locate",g.globalCss.widget,g.globalCss.widgetButton,{[g.globalCss.disabled]:"disabled"===a,[g.globalCss.hidden]:"feature-unsupported"===a}),hidden:"feature-unsupported"===
a,onclick:this._locate,onkeydown:this._locate,role:"button",tabIndex:0,title:e},this._renderIcon(),f.tsx("span",{class:m.legacyIcon.fontFallbackText},this.messages.title))}_renderIcon(){const {icon:a,iconClass:e,viewModel:x}=this;switch(x?.state){case "locating":return f.tsx("calcite-loader",{inline:!0,key:"loader",label:"",scale:"s",type:"indeterminate"});default:return a?this._renderCalciteIcon(a):e&&e!==p?this._renderLegacyIcon(e):this._renderCalciteIcon("gps-off")}}_renderCalciteIcon(a){return f.tsx("calcite-icon",
{icon:a,key:"icon",scale:"s"})}_renderLegacyIcon(a){return f.tsx("span",{"aria-hidden":"true",class:a,key:"legacy-icon"})}_locate(){const {viewModel:a}=this;"locating"===a.state?a.cancelLocate():a.locate()}};c.__decorate([d.property()],b.prototype,"geolocationOptions",null);c.__decorate([d.property()],b.prototype,"goToLocationEnabled",null);c.__decorate([d.property()],b.prototype,"goToOverride",null);c.__decorate([d.property()],b.prototype,"graphic",null);c.__decorate([d.property()],b.prototype,"iconClass",
void 0);c.__decorate([d.property()],b.prototype,"icon",void 0);c.__decorate([d.property()],b.prototype,"label",null);c.__decorate([d.property(),n.messageBundle("esri/widgets/Locate/t9n/Locate")],b.prototype,"messages",void 0);c.__decorate([d.property(),n.messageBundle("esri/t9n/common")],b.prototype,"messagesCommon",void 0);c.__decorate([d.property()],b.prototype,"popupEnabled",null);c.__decorate([d.property()],b.prototype,"rotationEnabled",null);c.__decorate([d.property()],b.prototype,"scale",null);
c.__decorate([d.property()],b.prototype,"useHeadingEnabled",null);c.__decorate([d.property()],b.prototype,"view",null);c.__decorate([d.property({type:l}),w.vmEvent(["locate","locate-error"])],b.prototype,"viewModel",void 0);c.__decorate([v.accessibleHandler()],b.prototype,"_locate",null);return b=c.__decorate([r.subclass("esri.widgets.Locate")],b)});