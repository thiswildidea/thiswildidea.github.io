// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
//>>built
define("require ../chunks/tslib.es6 ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/arrayUtils ../core/has ../core/accessorSupport/decorators/subclass ./Widget ./Expand/ExpandViewModel ./support/componentsUtils ./support/globalCss ./support/legacyIcon ./support/widget ./support/jsxFactory ./support/decorators/messageBundle ./support/decorators/accessibleHandler".split(" "),function(r,c,d,b,y,z,t,u,n,v,p,m,k,h,q,w){b=class extends u{constructor(a,f){super(a,f);
this.closeOnEsc=!0;this.collapseIcon=null;this.expandTooltip=this.content=this.collapseTooltip="";this.icon=this.iconClass=null;this.iconNumber=0;this.messagesCommon=this.messages=null;this.mode="auto";this.viewModel=new n;this._handleKeyDown=e=>{const {closeOnEsc:g,_toggleButtonEl:l,expanded:x}=this;x&&g&&e.target!==l&&"Escape"===e.key&&("function"===typeof g?g(e):g)&&(this.expanded=!1,l?.focus())}}loadDependencies(){return v.loadCalciteComponents({icon:()=>new Promise((a,f)=>r(["../chunks/calcite-icon"],
a,f))})}get contentId(){return`${this.id}_controls_content`}get expandTitle(){const {expanded:a,messagesCommon:f,collapseTooltip:e,expandTooltip:g}=this;return(a?e||f?.collapse:g||f?.expand)??""}get autoCollapse(){return this.viewModel.autoCollapse}set autoCollapse(a){this.viewModel.autoCollapse=a}get collapseIconClass(){return m.legacyIcon.collapse}set collapseIconClass(a){this._overrideIfSome("collapseIconClass",a)}get expanded(){return this.viewModel.expanded}set expanded(a){this.viewModel.expanded=
a}get expandIconClass(){return k.isWidget(this.content)?this.content.iconClass:m.legacyIcon.expand}set expandIconClass(a){this._overrideIfSome("expandIconClass",a)}get expandIcon(){return k.isWidget(this.content)?this.content.icon:void 0}set expandIcon(a){this._overrideIfSome("expandIcon",a)}get group(){return this.viewModel.group}set group(a){this.viewModel.group=a}get label(){return this.messages?.widgetLabel??""}set label(a){this._overrideIfSome("label",a)}get view(){return this.viewModel.view}set view(a){this.viewModel.view=
a}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}toggle(){this.viewModel.expanded=!this.viewModel.expanded}render(){const {mode:a}=this;return h.tsx("div",{class:this.classes("esri-expand",p.globalCss.widget,{["esri-expand--auto"]:"auto"===a,["esri-expand--drawer"]:"drawer"===a,["esri-expand--floating"]:"floating"===a}),onkeydown:this._handleKeyDown},this._renderMask(),this._renderContainer())}_renderContainer(){const {expanded:a}=this;return h.tsx("div",{class:this.classes("esri-expand__container",
{["esri-expand__container--expanded"]:a})},this._renderPanel(),this._renderContent())}_renderMask(){const {expanded:a}=this;return h.tsx("div",{bind:this,class:this.classes("esri-expand__mask",{["esri-expand__mask--expanded"]:a}),onclick:this._toggle})}_renderBadgeNumber(){const {expanded:a,iconNumber:f}=this;return f&&!a?h.tsx("span",{class:"esri-expand__icon-number",key:"expand__icon-number"},f):null}_renderPanelNumber(){const {iconNumber:a,expanded:f}=this;return a&&f?h.tsx("span",{class:this.classes("esri-expand__icon-number",
"esri-expand__icon-number--expanded"),key:"expand__expand-icon-number"},a):null}_renderIcon(){return h.tsx("calcite-icon",{icon:(this.expanded?this.collapseIcon:this.expandIcon)??"",key:"icon",scale:"s"})}_renderLegacyIcon(){const {collapseIconClass:a,expandIconClass:f,expanded:e}=this,g={["esri-expand__icon--expanded"]:e};null!=f&&(g[f]=!e);null!=a&&(g[a]=a===f?!0:e);return h.tsx("span",{"aria-hidden":"true",class:this.classes("esri-collapse__icon",g),key:"legacy-icon"})}_renderTitle(){return h.tsx("span",
{class:m.legacyIcon.fontFallbackText},this.expandTitle)}_renderExpandButton(){const {expanded:a,expandTitle:f,expandIcon:e,collapseIcon:g,contentId:l}=this;return h.tsx("div",{afterCreate:this._storeToggleButtonEl,"aria-controls":l,"aria-expanded":a?"true":"false",bind:this,class:p.globalCss.widgetButton,onclick:this._toggle,onkeydown:this._toggle,role:"button",tabIndex:0,title:f},this._renderBadgeNumber(),!a&&null!=e||a&&null!=g?this._renderIcon():this._renderLegacyIcon(),this._renderTitle())}_renderPanel(){return h.tsx("div",
{class:"esri-expand__panel"},this._renderExpandButton(),this._renderPanelNumber())}_renderContent(){const {expanded:a,contentId:f,content:e}=this,g={id:f,role:"region",class:this.classes("esri-expand__content",{["esri-expand__content--expanded"]:a})};return"string"===typeof e?h.tsx("div",{innerHTML:e,key:"content__string",...g}):k.isWidget(e)?h.tsx("div",{key:"content__widget",...g},e.render()):e instanceof HTMLElement?h.tsx("div",{afterCreate:this._attachToNode,bind:e,key:"content__html-element",
...g}):k.hasDomNode(e)?h.tsx("div",{afterCreate:this._attachToNode,bind:e.domNode,key:"content__node",...g}):null}_toggle(){this.toggle()}_attachToNode(a){a.appendChild(this)}_storeToggleButtonEl(a){this._toggleButtonEl=a}};c.__decorate([d.property({readOnly:!0})],b.prototype,"contentId",null);c.__decorate([d.property({readOnly:!0})],b.prototype,"expandTitle",null);c.__decorate([d.property()],b.prototype,"autoCollapse",null);c.__decorate([d.property()],b.prototype,"closeOnEsc",void 0);c.__decorate([d.property()],
b.prototype,"collapseIconClass",null);c.__decorate([d.property()],b.prototype,"collapseIcon",void 0);c.__decorate([d.property()],b.prototype,"collapseTooltip",void 0);c.__decorate([d.property()],b.prototype,"content",void 0);c.__decorate([d.property()],b.prototype,"expanded",null);c.__decorate([d.property()],b.prototype,"expandIconClass",null);c.__decorate([d.property()],b.prototype,"expandIcon",null);c.__decorate([d.property()],b.prototype,"expandTooltip",void 0);c.__decorate([d.property()],b.prototype,
"group",null);c.__decorate([d.property()],b.prototype,"iconClass",void 0);c.__decorate([d.property()],b.prototype,"icon",void 0);c.__decorate([d.property()],b.prototype,"iconNumber",void 0);c.__decorate([d.property()],b.prototype,"label",null);c.__decorate([d.property(),q.messageBundle("esri/widgets/Expand/t9n/Expand")],b.prototype,"messages",void 0);c.__decorate([d.property(),q.messageBundle("esri/t9n/common")],b.prototype,"messagesCommon",void 0);c.__decorate([d.property()],b.prototype,"mode",void 0);
c.__decorate([d.property()],b.prototype,"view",null);c.__decorate([d.property({type:n})],b.prototype,"viewModel",void 0);c.__decorate([w.accessibleHandler()],b.prototype,"_toggle",null);return b=c.__decorate([t.subclass("esri.widgets.Expand")],b)});