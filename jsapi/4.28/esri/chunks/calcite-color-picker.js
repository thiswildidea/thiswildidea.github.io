// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
//>>built
define("exports ./index ./color-picker-swatch ./dom ./loadable ./icon ./input-number ./form ./interactive ./label2 ./locale ./observers ./t9n ./progress ./key ./math ./button2 ./loader ./tab ./tab-nav ./tab-title ./tabs ./throttle".split(" "),function(D,g,f,p,v,E,K,A,y,F,B,Y,w,G,Z,C,aa,ba,ca,da,ea,fa,ha){function H(){"undefined"!==typeof customElements&&["calcite-input-text","calcite-icon","calcite-progress"].forEach(a=>{switch(a){case "calcite-input-text":customElements.get(a)||customElements.define(a,
ia);break;case "calcite-icon":customElements.get(a)||E.defineCustomElement();break;case "calcite-progress":customElements.get(a)||G.defineCustomElement()}})}function L(){"undefined"!==typeof customElements&&["calcite-color-picker-hex-input","calcite-icon","calcite-input-number","calcite-input-text","calcite-progress"].forEach(a=>{switch(a){case "calcite-color-picker-hex-input":customElements.get(a)||customElements.define(a,ja);break;case "calcite-icon":customElements.get(a)||E.defineCustomElement();
break;case "calcite-input-number":customElements.get(a)||K.defineCustomElement();break;case "calcite-input-text":customElements.get(a)||H();break;case "calcite-progress":customElements.get(a)||G.defineCustomElement()}})}function M(){"undefined"!==typeof customElements&&"calcite-color-picker calcite-button calcite-color-picker-hex-input calcite-color-picker-swatch calcite-icon calcite-input-number calcite-input-text calcite-loader calcite-progress calcite-tab calcite-tab-nav calcite-tab-title calcite-tabs".split(" ").forEach(a=>
{switch(a){case "calcite-color-picker":customElements.get(a)||customElements.define(a,N);break;case "calcite-button":customElements.get(a)||aa.defineCustomElement();break;case "calcite-color-picker-hex-input":customElements.get(a)||L();break;case "calcite-color-picker-swatch":customElements.get(a)||f.defineCustomElement();break;case "calcite-icon":customElements.get(a)||E.defineCustomElement();break;case "calcite-input-number":customElements.get(a)||K.defineCustomElement();break;case "calcite-input-text":customElements.get(a)||
H();break;case "calcite-loader":customElements.get(a)||ba.defineCustomElement();break;case "calcite-progress":customElements.get(a)||G.defineCustomElement();break;case "calcite-tab":customElements.get(a)||ca.defineCustomElement();break;case "calcite-tab-nav":customElements.get(a)||da.defineCustomElement();break;case "calcite-tab-title":customElements.get(a)||ea.defineCustomElement();break;case "calcite-tabs":customElements.get(a)||fa.defineCustomElement()}})}const ia=g.proxyCustomElement(class extends g.H{constructor(){super();
this.__registerHost();this.__attachShadow();this.calciteInternalInputTextFocus=g.createEvent(this,"calciteInternalInputTextFocus",7);this.calciteInternalInputTextBlur=g.createEvent(this,"calciteInternalInputTextBlur",7);this.calciteInputTextInput=g.createEvent(this,"calciteInputTextInput",7);this.calciteInputTextChange=g.createEvent(this,"calciteInputTextChange",7);this.previousValueOrigin="initial";this.mutationObserver=Y.createObserver("mutation",()=>this.setDisabledAction());this.userChangedValue=
!1;this.keyDownHandler=a=>{this.readOnly||this.disabled||(this.isClearable&&"Escape"===a.key&&(this.clearInputTextValue(a),a.preventDefault()),"Enter"!==a.key||a.defaultPrevented||A.submitForm(this)&&a.preventDefault())};this.clearInputTextValue=a=>{this.setValue({committing:!0,nativeEvent:a,origin:"user",value:""})};this.emitChangeIfUserModified=()=>{"user"===this.previousValueOrigin&&this.value!==this.previousEmittedValue&&(this.calciteInputTextChange.emit(),this.setPreviousEmittedValue(this.value))};
this.inputTextBlurHandler=()=>{this.calciteInternalInputTextBlur.emit({element:this.childEl,value:this.value});this.emitChangeIfUserModified()};this.clickHandler=a=>{if(!this.disabled){var b=p.getSlotted(this.el,"action");a.target!==b&&this.setFocus()}};this.inputTextFocusHandler=()=>{this.calciteInternalInputTextFocus.emit({element:this.childEl,value:this.value})};this.inputTextInputHandler=a=>{this.disabled||this.readOnly||this.setValue({nativeEvent:a,origin:"user",value:a.target.value})};this.inputTextKeyDownHandler=
a=>{this.disabled||this.readOnly||"Enter"===a.key&&this.emitChangeIfUserModified()};this.hiddenInputChangeHandler=a=>{a.target.name===this.name&&this.setValue({value:a.target.value,origin:"direct"});a.stopPropagation()};this.setChildElRef=a=>{this.childEl=a};this.setInputValue=a=>{this.childEl&&(this.childEl.value=a)};this.setPreviousEmittedValue=a=>{this.previousEmittedValue=a};this.setPreviousValue=a=>{this.previousValue=a};this.setValue=({committing:a=!1,nativeEvent:b,origin:c,previousValue:d,
value:e})=>{this.setPreviousValue(d??this.value);this.previousValueOrigin=c;this.userChangedValue="user"===c&&e!==this.value;this.value=e;"direct"===c&&(this.setInputValue(e),this.setPreviousEmittedValue(e));b&&(this.calciteInputTextInput.emit().defaultPrevented?this.value=this.previousValue:a&&this.emitChangeIfUserModified())};this.alignment="start";this.disabled=this.clearable=this.autofocus=!1;this.form=void 0;this.hidden=!1;this.icon=void 0;this.iconFlipRtl=!1;this.label=void 0;this.loading=!1;
this.prefixText=this.placeholder=this.name=this.minLength=this.maxLength=void 0;this.required=this.readOnly=!1;this.scale="m";this.status="idle";this.autocomplete=void 0;this.inputMode="text";this.suffixText=this.pattern=this.enterKeyHint=void 0;this.editingEnabled=!1;this.value="";this.defaultMessages=this.effectiveLocale=this.messageOverrides=this.messages=void 0;this.slottedActionElDisabledInternally=!1}disabledWatcher(){this.setDisabledAction()}onMessagesChange(){}valueWatcher(a,b){this.userChangedValue||
this.setValue({origin:"direct",previousValue:b,value:a?a:""});this.userChangedValue=!1}updateRequestedIcon(){this.requestedIcon=p.setRequestedIcon({},this.icon,"text")}get isClearable(){return this.clearable&&0<this.value.length}effectiveLocaleChange(){w.updateMessages(this,this.effectiveLocale)}connectedCallback(){y.connectInteractive(this);B.connectLocalized(this);w.connectMessages(this);if(this.inlineEditableEl=this.el.closest("calcite-inline-editable"))this.editingEnabled=this.inlineEditableEl.editingEnabled||
!1;this.setPreviousEmittedValue(this.value);this.setPreviousValue(this.value);F.connectLabel(this);A.connectForm(this);this.mutationObserver?.observe(this.el,{childList:!0});this.setDisabledAction();this.el.addEventListener("calciteInternalHiddenInputChange",this.hiddenInputChangeHandler)}disconnectedCallback(){y.disconnectInteractive(this);F.disconnectLabel(this);A.disconnectForm(this);B.disconnectLocalized(this);w.disconnectMessages(this);this.mutationObserver?.disconnect();this.el.removeEventListener("calciteInternalHiddenInputChange",
this.hiddenInputChangeHandler)}async componentWillLoad(){v.setUpLoadableComponent(this);this.requestedIcon=p.setRequestedIcon({},this.icon,"text");await w.setUpMessages(this)}componentDidLoad(){v.setComponentLoaded(this)}componentDidRender(){y.updateHostInteraction(this)}async setFocus(){await v.componentFocusable(this);this.childEl?.focus()}async selectText(){this.childEl?.select()}onLabelClick(){this.setFocus()}onFormReset(){this.setValue({origin:"reset",value:this.defaultValue})}syncHiddenFormInput(a){null!=
this.minLength&&(a.minLength=this.minLength);null!=this.maxLength&&(a.maxLength=this.maxLength)}setDisabledAction(){const a=p.getSlotted(this.el,"action");a&&(this.disabled?(null==a.getAttribute("disabled")&&(this.slottedActionElDisabledInternally=!0),a.setAttribute("disabled","")):this.slottedActionElDisabledInternally&&(a.removeAttribute("disabled"),this.slottedActionElDisabledInternally=!1))}render(){const a=p.getElementDir(this.el),b=g.h("div",{class:"loader"},g.h("calcite-progress",{label:this.messages.loading,
type:"indeterminate"})),c=g.h("button",{"aria-label":this.messages.clear,class:"clear-button",disabled:this.disabled||this.readOnly,onClick:this.clearInputTextValue,tabIndex:-1,type:"button"},g.h("calcite-icon",{icon:"x",scale:"l"===this.scale?"m":"s"})),d=g.h("calcite-icon",{class:"icon",flipRtl:this.iconFlipRtl,icon:this.requestedIcon,scale:"l"===this.scale?"m":"s"}),e=g.h("div",{class:"prefix"},this.prefixText),h=g.h("div",{class:"suffix"},this.suffixText),k=g.h("input",{"aria-label":F.getLabelText(this),
autocomplete:this.autocomplete,autofocus:this.autofocus?!0:null,class:{["editing-enabled"]:this.editingEnabled,["inline-child"]:!!this.inlineEditableEl},defaultValue:this.defaultValue,disabled:this.disabled?!0:null,enterKeyHint:this.enterKeyHint,inputMode:this.inputMode,maxLength:this.maxLength,minLength:this.minLength,name:this.name,onBlur:this.inputTextBlurHandler,onFocus:this.inputTextFocusHandler,onInput:this.inputTextInputHandler,onKeyDown:this.inputTextKeyDownHandler,pattern:this.pattern,placeholder:this.placeholder||
"",readOnly:this.readOnly,required:this.required?!0:null,tabIndex:this.disabled||this.inlineEditableEl&&!this.editingEnabled?-1:null,type:"text",value:this.value,ref:this.setChildElRef});return g.h(g.Host,{onClick:this.clickHandler,onKeyDown:this.keyDownHandler},g.h("div",{class:{wrapper:!0,[p.CSS_UTILITY.rtl]:"rtl"===a}},this.prefixText?e:null,g.h("div",{class:"element-wrapper"},k,this.isClearable?c:null,this.requestedIcon?d:null,this.loading?b:null),g.h("div",{class:"action-wrapper"},g.h("slot",
{name:"action"})),this.suffixText?h:null,g.h(A.HiddenFormInputSlot,{component:this})))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{disabled:["disabledWatcher"],messageOverrides:["onMessagesChange"],value:["valueWatcher"],icon:["updateRequestedIcon"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([scale\x3ds]) input,:host([scale\x3ds]) .prefix,:host([scale\x3ds]) .suffix{block-size:1.5rem;padding-inline:0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale\x3ds]) .action-wrapper calcite-button,:host([scale\x3ds]) .action-wrapper calcite-button button{block-size:1.5rem}:host([scale\x3ds]) .clear-button{min-block-size:1.5rem;min-inline-size:1.5rem}:host([scale\x3dm]) input,:host([scale\x3dm]) .prefix,:host([scale\x3dm]) .suffix{block-size:2rem;padding-inline:0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale\x3dm]) .action-wrapper calcite-button,:host([scale\x3dm]) .action-wrapper calcite-button button{block-size:2rem}:host([scale\x3dm]) .clear-button{min-block-size:2rem;min-inline-size:2rem}:host([scale\x3dl]) input,:host([scale\x3dl]) .prefix,:host([scale\x3dl]) .suffix{block-size:2.75rem;padding-inline:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale\x3dl]) .action-wrapper calcite-button,:host([scale\x3dl]) .action-wrapper calcite-button button{block-size:2.75rem}:host([scale\x3dl]) .clear-button{min-block-size:2.75rem;min-inline-size:2.75rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}input{transition:var(--calcite-animation-timing), block-size 0, outline-offset 0s;-webkit-appearance:none;position:relative;margin:0px;box-sizing:border-box;display:flex;max-block-size:100%;inline-size:100%;max-inline-size:100%;flex:1 1 0%;border-radius:0px;background-color:var(--calcite-ui-foreground-1);font-family:inherit;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-1)}:host input{border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);color:var(--calcite-ui-text-1)}:host input::placeholder,:host input:-ms-input-placeholder,:host input::-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-ui-text-3)}:host input:focus{border-color:var(--calcite-ui-brand);color:var(--calcite-ui-text-1)}:host input[readonly]{background-color:var(--calcite-ui-background);font-weight:var(--calcite-font-weight-medium)}:host input[readonly]:focus{color:var(--calcite-ui-text-1)}:host calcite-icon{color:var(--calcite-ui-text-3)}input{outline-color:transparent}input:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-ui-brand));outline-offset:calc(\n            -2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-ui-focus-offset-invert),\n                1\n              )\n            )\n          )}:host([status\x3dinvalid]) input{border-color:var(--calcite-ui-danger)}:host([status\x3dinvalid]) input:focus{outline:2px solid var(--calcite-ui-danger);outline-offset:calc(\n            -2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-ui-focus-offset-invert),\n                1\n              )\n            )\n          )}:host([scale\x3ds]) .icon{inset-inline-start:0.5rem}:host([scale\x3dm]) .icon{inset-inline-start:0.75rem}:host([scale\x3dl]) .icon{inset-inline-start:1rem}:host([icon][scale\x3ds]) input{padding-inline-start:2rem}:host([icon][scale\x3dm]) input{padding-inline-start:2.5rem}:host([icon][scale\x3dl]) input{padding-inline-start:3.5rem}.element-wrapper{position:relative;order:3;display:inline-flex;flex:1 1 0%;align-items:center}.icon{pointer-events:none;position:absolute;z-index:var(--calcite-app-z-index);display:block;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}input[type\x3dtext]::-ms-clear,input[type\x3dtext]::-ms-reveal{display:none;block-size:0px;inline-size:0px}.clear-button{pointer-events:initial;order:4;margin:0px;box-sizing:border-box;display:flex;min-block-size:100%;cursor:pointer;align-items:center;justify-content:center;align-self:stretch;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-foreground-1);outline-color:transparent;border-inline-start-width:0px}.clear-button:hover{background-color:var(--calcite-ui-foreground-2);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.clear-button:hover calcite-icon{color:var(--calcite-ui-text-1);transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.clear-button:active{background-color:var(--calcite-ui-foreground-3)}.clear-button:active calcite-icon{color:var(--calcite-ui-text-1)}.clear-button:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-ui-brand));outline-offset:calc(\n            -2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-ui-focus-offset-invert),\n                1\n              )\n            )\n          )}.clear-button:disabled{opacity:var(--calcite-ui-opacity-disabled)}.loader{inset-block-start:1px;inset-inline:1px;pointer-events:none;position:absolute;display:block}.action-wrapper{order:7;display:flex}.prefix,.suffix{box-sizing:border-box;display:flex;block-size:auto;min-block-size:100%;-webkit-user-select:none;user-select:none;align-content:center;align-items:center;overflow-wrap:break-word;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-input);background-color:var(--calcite-ui-background);font-weight:var(--calcite-font-weight-medium);line-height:1;color:var(--calcite-ui-text-2)}.prefix{order:2;border-inline-end-width:0px}.suffix{order:5;border-inline-start-width:0px}:host([alignment\x3dstart]) input{text-align:start}:host([alignment\x3dend]) input{text-align:end}.wrapper{position:relative;display:flex;flex-direction:row;align-items:center}:host(.no-bottom-border) input{border-block-end-width:0px}:host(.border-top-color-one) input{border-block-start-color:var(--calcite-ui-border-1)}.inline-child{background-color:transparent;transition:all var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s}.inline-child .editing-enabled{background-color:inherit}.inline-child:not(.editing-enabled){display:flex;cursor:pointer;border-color:transparent;padding-inline-start:0}::slotted(input[slot\x3dhidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}:host([hidden]){display:none}[hidden]{display:none}"}},
[1,"calcite-input-text",{alignment:[513],autofocus:[516],clearable:[516],disabled:[516],form:[513],hidden:[516],icon:[520],iconFlipRtl:[516,"icon-flip-rtl"],label:[1],loading:[516],maxLength:[514,"max-length"],minLength:[514,"min-length"],name:[513],placeholder:[1],prefixText:[1,"prefix-text"],readOnly:[516,"read-only"],required:[516],scale:[513],status:[513],autocomplete:[1],inputMode:[1,"input-mode"],enterKeyHint:[1,"enter-key-hint"],pattern:[1],suffixText:[1,"suffix-text"],editingEnabled:[1540,
"editing-enabled"],value:[1025],messages:[1040],messageOverrides:[1040],effectiveLocale:[32],defaultMessages:[32],slottedActionElDisabledInternally:[32],setFocus:[64],selectText:[64]}]);H();const x=f.color("#007AC2"),O={r:255,g:255,b:255},r={h:360,s:100,v:100},P=r.h-1,Q={s:{slider:{height:12,width:104},colorField:{height:80,width:160},thumb:{radius:10}},m:{slider:{height:12,width:204},colorField:{height:150,width:272},thumb:{radius:10}},l:{slider:{height:12,width:384},colorField:{height:200,width:464},
thumb:{radius:10}}},R=f.color(),ja=g.proxyCustomElement(class extends g.H{constructor(){super();this.__registerHost();this.__attachShadow();this.calciteColorPickerHexInputChange=g.createEvent(this,"calciteColorPickerHexInputChange",6);this.onHexInputBlur=()=>{const a=this.hexInputNode;var b=a.value;const c=`#${b}`,{allowEmpty:d,internalColor:e}=this;b=d&&!b;const h=f.isLonghandHex(c);this.onHexInputChange();b||f.isValidHex(c)&&h||(a.value=d&&!e?"":this.formatHexForInternalInput(f.rgbToHex(e.object())))};
this.onOpacityInputBlur=()=>{const a=this.opacityInputNode,b=a.value,{allowEmpty:c,internalColor:d}=this;if(!c||b)a.value=c&&!d?"":this.formatOpacityForInternalInput(d)};this.onHexInputChange=()=>{var a=this.hexInputNode.value;if(a){const b=f.normalizeHex(a,!1);f.isValidHex(b)&&this.alphaChannel&&this.internalColor&&(a=f.normalizeHex(this.internalColor.hexa(),!0).slice(-2),a=`${b+a}`)}this.internalSetValue(a,this.value)};this.onOpacityInputChange=()=>{var a=this.opacityInputNode;a.value?(a=f.opacityToAlpha(Number(a.value)),
a=this.internalColor?.alpha(a).hexa()):a=a.value;this.internalSetValue(a,this.value)};this.onInputKeyDown=a=>{const {altKey:b,ctrlKey:c,metaKey:d,shiftKey:e}=a,{alphaChannel:h,hexInputNode:k,internalColor:m,value:n}=this;var {key:l}=a,q=a.composedPath();if("Tab"===l||"Enter"===l){if(q.includes(k))this.onHexInputChange();else this.onOpacityInputChange();"Enter"===l&&a.preventDefault()}else{var u=this.value;"ArrowDown"===l||"ArrowUp"===l?(n?this.internalSetValue(f.hexify(this.nudgeRGBChannels(m,(e?
10:1)*("ArrowUp"===l?1:-1),q.includes(k)?"rgb":"a"),h),u):this.internalSetValue(this.previousNonNullValue,u),a.preventDefault()):(q=b||c||d,u=1===l.length,l=f.hexChar.test(l),!u||q||l||a.preventDefault())}};this.onHexInputPaste=a=>{const b=a.clipboardData.getData("text");f.isValidHex(b)&&(a.preventDefault(),this.hexInputNode.value=b.slice(1))};this.previousNonNullValue=this.value;this.storeHexInputRef=a=>{this.hexInputNode=a};this.storeOpacityInputRef=a=>{this.opacityInputNode=a};this.alphaChannel=
this.allowEmpty=!1;this.hexLabel="Hex";this.numberingSystem=this.messages=void 0;this.scale="m";this.value=f.normalizeHex(f.hexify(R,this.alphaChannel),this.alphaChannel,!0);this.internalColor=R}connectedCallback(){const {allowEmpty:a,alphaChannel:b,value:c}=this;if(c){const d=f.normalizeHex(c,b);f.isValidHex(d,b)&&this.internalSetValue(d,d,!1)}else a&&this.internalSetValue(null,null,!1)}componentWillLoad(){v.setUpLoadableComponent(this)}componentDidLoad(){v.setComponentLoaded(this)}handleValueChange(a,
b){this.internalSetValue(a,b,!1)}render(){const {alphaChannel:a,hexLabel:b,internalColor:c,messages:d,scale:e,value:h}=this,k=this.formatHexForInternalInput(h),m=this.formatOpacityForInternalInput(c),n="l"===e?"m":"s";return g.h("div",{class:"container"},g.h("calcite-input-text",{class:"hex-input",label:d?.hex||b,maxLength:6,onCalciteInputTextChange:this.onHexInputChange,onCalciteInternalInputTextBlur:this.onHexInputBlur,onKeyDown:this.onInputKeyDown,onPaste:this.onHexInputPaste,prefixText:"#",scale:n,
value:k,ref:this.storeHexInputRef}),a?g.h("calcite-input-number",{class:"opacity-input",key:"opacity-input",label:d?.opacity,max:100,maxLength:3,min:0,numberButtonType:"none",numberingSystem:this.numberingSystem,onCalciteInputNumberChange:this.onOpacityInputChange,onCalciteInternalInputNumberBlur:this.onOpacityInputBlur,onKeyDown:this.onInputKeyDown,scale:n,suffixText:"%",value:m,ref:this.storeOpacityInputRef}):null)}async setFocus(){await v.componentFocusable(this);return p.focusElement(this.hexInputNode)}internalSetValue(a,
b,c=!0){if(a){var {alphaChannel:d}=this;a=f.normalizeHex(a,d,d);if(f.isValidHex(a,d)){({internalColor:b}=this);a=f.color(a);const e=f.normalizeHex(f.hexify(a,d),d);d=!b||e!==f.normalizeHex(f.hexify(b,d),d);this.internalColor=a;this.value=this.previousNonNullValue=e;d&&c&&this.calciteColorPickerHexInputChange.emit();return}}else if(this.allowEmpty){this.value=this.internalColor=null;c&&this.calciteColorPickerHexInputChange.emit();return}this.value=b}formatHexForInternalInput(a){return a?a.replace("#",
"").slice(0,6):""}formatOpacityForInternalInput(a){return a?`${f.alphaToOpacity(a.alpha())}`:""}nudgeRGBChannels(a,b,c){const d=a.array();var e=d.slice(0,3);"rgb"===c?e=[...e.map(h=>h+b),this.alphaChannel?d[3]:void 0]:(a=f.opacityToAlpha(f.alphaToOpacity(a.alpha())+b),e=[...e,a]);return f.color(e)}get el(){return this}static get watchers(){return{value:["handleValueChange"]}}static get style(){return":host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:68px;margin-inline-start:-1px}:host([scale\x3ds]) .container{flex-wrap:wrap;row-gap:0.125rem}:host([scale\x3ds]) .opacity-input{inline-size:unset;margin-inline-start:unset}:host([scale\x3dl]) .opacity-input{inline-size:88px}:host([hidden]){display:none}[hidden]{display:none}"}},
[1,"calcite-color-picker-hex-input",{allowEmpty:[4,"allow-empty"],alphaChannel:[4,"alpha-channel"],hexLabel:[1,"hex-label"],messages:[16],numberingSystem:[1,"numbering-system"],scale:[513],value:[1537],internalColor:[32],setFocus:[64]}]);L();const N=g.proxyCustomElement(class extends g.H{constructor(){super();this.__registerHost();this.__attachShadow();this.calciteColorPickerChange=g.createEvent(this,"calciteColorPickerChange",6);this.calciteColorPickerInput=g.createEvent(this,"calciteColorPickerInput",
6);this.internalColorUpdateContext=null;this.mode=f.CSSColorMode.HEX;this.shiftKeyChannelAdjustment=0;this.handleTabActivate=a=>{this.channelMode=a.currentTarget.getAttribute("data-color-mode");this.updateChannelsFromColor(this.color)};this.handleColorFieldScopeKeyDown=a=>{const {key:b}=a,c={ArrowUp:{x:0,y:-10},ArrowRight:{x:10,y:0},ArrowDown:{x:0,y:10},ArrowLeft:{x:-10,y:0}};c[b]&&(a.preventDefault(),this.scopeOrientation="ArrowDown"===b||"ArrowUp"===b?"vertical":"horizontal",this.captureColorFieldColor(this.colorFieldScopeLeft+
c[b].x||0,this.colorFieldScopeTop+c[b].y||0,!1))};this.handleHueScopeKeyDown=a=>{var b=a.shiftKey?10:1;const {key:c}=a,d={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};d[c]&&(a.preventDefault(),a=d[c]*b,b=this.baseColorFieldColor.hue(),a=this.baseColorFieldColor.hue(b+a),this.internalColorSet(a,!1))};this.handleHexInputChange=a=>{a.stopPropagation();const {allowEmpty:b,color:c}=this;a=a.target.value;if(b&&!a)this.internalColorSet(null);else{var d=c&&f.normalizeHex(f.hexify(c,f.alphaCompatible(this.mode)));
a!==d&&this.internalColorSet(f.color(a))}};this.handleSavedColorSelect=a=>{this.internalColorSet(f.color(a.currentTarget.color))};this.handleChannelInput=a=>{a=a.currentTarget;var b=Number(a.getAttribute("data-channel-index"));b=3===b?100:"rgb"===this.channelMode?O[Object.keys(O)[b]]:r[Object.keys(r)[b]];b=this.allowEmpty&&!a.value?"":C.clamp(Number(a.value)+this.shiftKeyChannelAdjustment,0,b).toString();a.value=b};this.handleChannelChange=a=>{var b=a.currentTarget;a=Number(b.getAttribute("data-channel-index"));
const c=[...this.channels];this.allowEmpty&&!b.value?(this.channels=[null,null,null,null],this.internalColorSet(null)):(b=Number(b.value),c[a]=3===a?f.opacityToAlpha(b):b,this.updateColorFromChannels(c))};this.handleSavedColorKeyDown=a=>{Z.isActivationKey(a.key)&&(a.preventDefault(),this.handleSavedColorSelect(a))};this.handleColorFieldPointerDown=a=>{if(p.isPrimaryPointerButton(a)){var {offsetX:b,offsetY:c}=a;document.addEventListener("pointermove",this.globalPointerMoveHandler);document.addEventListener("pointerup",
this.globalPointerUpHandler,{once:!0});this.activeCanvasInfo={context:this.colorFieldRenderingContext,bounds:this.colorFieldRenderingContext.canvas.getBoundingClientRect()};this.captureColorFieldColor(b,c);this.colorFieldScopeNode.focus()}};this.handleHueSliderPointerDown=a=>{p.isPrimaryPointerButton(a)&&({offsetX:a}=a,document.addEventListener("pointermove",this.globalPointerMoveHandler),document.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:this.hueSliderRenderingContext,
bounds:this.hueSliderRenderingContext.canvas.getBoundingClientRect()},this.captureHueSliderColor(a),this.hueScopeNode.focus())};this.handleOpacitySliderPointerDown=a=>{p.isPrimaryPointerButton(a)&&({offsetX:a}=a,document.addEventListener("pointermove",this.globalPointerMoveHandler),document.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:this.opacitySliderRenderingContext,bounds:this.opacitySliderRenderingContext.canvas.getBoundingClientRect()},this.captureOpacitySliderValue(a),
this.opacityScopeNode.focus())};this.globalPointerUpHandler=a=>{p.isPrimaryPointerButton(a)&&(a=this.activeCanvasInfo,this.activeCanvasInfo=null,this.drawColorControls(),a&&this.calciteColorPickerChange.emit())};this.globalPointerMoveHandler=a=>{const {activeCanvasInfo:b,el:c}=this;if(c.isConnected&&b){var {context:d,bounds:e}=b,{clientX:h,clientY:k}=a;if(d.canvas.matches(":hover")){a=h-e.x;var m=k-e.y}else a=h<e.x+e.width&&h>e.x?h-e.x:h<e.x?0:e.width,m=k<e.y+e.height&&k>e.y?k-e.y:k<e.y?0:e.height;
d===this.colorFieldRenderingContext?this.captureColorFieldColor(a,m,!1):d===this.hueSliderRenderingContext?this.captureHueSliderColor(a):d===this.opacitySliderRenderingContext&&this.captureOpacitySliderValue(a)}};this.storeColorFieldScope=a=>{this.colorFieldScopeNode=a};this.storeHueScope=a=>{this.hueScopeNode=a};this.renderChannelsTabTitle=a=>{const {channelMode:b,messages:c}=this;return g.h("calcite-tab-title",{class:"color-mode","data-color-mode":a,key:a,onCalciteTabsActivate:this.handleTabActivate,
selected:a===b},"rgb"===a?c.rgb:c.hsv)};this.renderChannelsTab=a=>{const {allowEmpty:b,channelMode:c,channels:d,messages:e,alphaChannel:h}=this,k=a===c,m="rgb"===a?[e.red,e.green,e.blue]:[e.hue,e.saturation,e.value],n=p.getElementDir(this.el),l=h?d:d.slice(0,3);return g.h("calcite-tab",{class:"control",key:a,selected:k},g.h("div",{class:"channels",dir:"ltr"},l.map((q,u)=>{const t=3===u;t&&(q=b&&!q?q:f.alphaToOpacity(q));return this.renderChannel(q,u,m[u],n,t?"%":"")})))};this.renderChannel=(a,b,c,
d,e)=>g.h("calcite-input-number",{class:"channel","data-channel-index":b,dir:d,key:b,label:c,lang:this.effectiveLocale,numberButtonType:"none",numberingSystem:this.numberingSystem,onCalciteInputNumberChange:this.handleChannelChange,onCalciteInputNumberInput:this.handleChannelInput,onKeyDown:this.handleKeyDown,scale:"l"===this.scale?"m":"s",style:{marginLeft:0<b&&("s"!==this.scale||!this.alphaChannel||3!==b)?"-1px":""},suffixText:e,value:a?.toString()});this.deleteColor=()=>{const a=f.hexify(this.color,
this.alphaChannel);if(-1<this.savedColors.indexOf(a)){var b=this.savedColors.filter(d=>d!==a);this.savedColors=b;var c=`${"calcite-color-"}${this.storageId}`;this.storageId&&localStorage.setItem(c,JSON.stringify(b))}};this.saveColor=()=>{var a=f.hexify(this.color,this.alphaChannel);if(!(-1<this.savedColors.indexOf(a))){this.savedColors=a=[...this.savedColors,a];var b=`${"calcite-color-"}${this.storageId}`;this.storageId&&localStorage.setItem(b,JSON.stringify(a))}};this.drawColorControls=ha.throttle((a=
"all")=>{"all"!==a&&"color-field"!==a||!this.colorFieldRenderingContext||this.drawColorField();"all"!==a&&"hue-slider"!==a||!this.hueSliderRenderingContext||this.drawHueSlider();this.alphaChannel&&("all"===a||"opacity-slider"===a)&&this.opacitySliderRenderingContext&&this.drawOpacitySlider()},16);this.captureColorFieldColor=(a,b,c=!0)=>{const {dimensions:{colorField:{height:d,width:e}}}=this;a=Math.round(r.s/e*a);b=Math.round(r.v/d*(d-b));this.internalColorSet(this.baseColorFieldColor.hsv().saturationv(a).value(b),
c)};this.initColorField=a=>{this.colorFieldRenderingContext=a.getContext("2d");this.updateCanvasSize("color-field");this.drawColorControls()};this.initHueSlider=a=>{this.hueSliderRenderingContext=a.getContext("2d");this.updateCanvasSize("hue-slider");this.drawHueSlider()};this.initOpacitySlider=a=>{a&&(this.opacitySliderRenderingContext=a.getContext("2d"),this.updateCanvasSize("opacity-slider"),this.drawOpacitySlider())};this.storeOpacityScope=a=>{this.opacityScopeNode=a};this.handleOpacityScopeKeyDown=
a=>{var b=a.shiftKey?10:1;const {key:c}=a,d={ArrowUp:.01,ArrowRight:.01,ArrowDown:-.01,ArrowLeft:-.01};d[c]&&(a.preventDefault(),a=d[c]*b,b=this.baseColorFieldColor.alpha(),a=this.baseColorFieldColor.alpha(b+a),this.internalColorSet(a,!1))};this.channelsDisabled=this.alphaChannel=this.allowEmpty=!1;this.color=x;this.disabled=!1;this.format="auto";this.savedDisabled=this.hideSaved=this.hideHex=this.hexDisabled=this.hideChannels=!1;this.scale="m";this.numberingSystem=this.messageOverrides=this.storageId=
void 0;this.value=f.normalizeHex(f.hexify(x,this.alphaChannel));this.defaultMessages=void 0;this.channelMode="rgb";this.channels=this.toChannels(x);this.dimensions=Q.m;this.effectiveLocale="";this.messages=void 0;this.savedColors=[];this.scopeOrientation=this.opacityScopeLeft=this.hueScopeLeft=this.colorFieldScopeLeft=this.colorFieldScopeTop=void 0}handleAlphaChannelChange(a){const {format:b}=this;a&&"auto"!==b&&!f.alphaCompatible(b)&&(console.warn(`ignoring alphaChannel as the current format (${b}) does not support alpha`),
this.alphaChannel=!1)}handleColorChange(a,b){this.drawColorControls();this.updateChannelsFromColor(a);this.previousColor=b}handleFormatOrAlphaChannelChange(){this.setMode(this.format);this.internalColorSet(this.color,!1,"internal")}handleScaleChange(a="m"){this.updateDimensions(a);this.updateCanvasSize("all");this.drawColorControls()}onMessagesChange(){}handleValueChange(a,b){const {allowEmpty:c,format:d}=this;let e=!1;if(!c||a){const h=f.parseMode(a);if(!h||"auto"!==d&&h!==d){this.showIncompatibleColorWarning(a,
d);this.value=b;return}e=this.mode!==h;this.setMode(h,null===this.internalColorUpdateContext)}b=this.activeCanvasInfo;"initial"!==this.internalColorUpdateContext&&("user-interaction"===this.internalColorUpdateContext?(this.calciteColorPickerInput.emit(),b||this.calciteColorPickerChange.emit()):(a=c&&!a?null:f.color(null!=a&&"object"===typeof a&&f.alphaCompatible(this.mode)?f.normalizeColor(a):a),b=!f.colorEqual(a,this.color),(e||b)&&this.internalColorSet(a,this.alphaChannel&&!(this.mode.endsWith("a")||
this.mode.endsWith("a-css")),"internal")))}get baseColorFieldColor(){return this.color||this.previousColor||x}effectiveLocaleChange(){w.updateMessages(this,this.effectiveLocale)}handleChannelKeyUpOrDown(a){this.shiftKeyChannelAdjustment=0;const {key:b}=a;if(("ArrowUp"===b||"ArrowDown"===b)&&a.composedPath().some(d=>d.classList?.contains("channel"))){var {shiftKey:c}=a;a.preventDefault();this.color?this.shiftKeyChannelAdjustment="ArrowUp"===b&&c?9:"ArrowDown"===b&&c?-9:0:(this.internalColorSet(this.previousColor),
a.stopPropagation())}}async setFocus(){await v.componentFocusable(this);this.el.focus()}async componentWillLoad(){v.setUpLoadableComponent(this);const {allowEmpty:a,color:b,format:c,value:d}=this;var e=a&&!d,h=f.parseMode(d);h=e||"auto"===c&&h||c===h;e=e?null:h?f.color(d):b;h||this.showIncompatibleColorWarning(d,c);this.setMode(c,!1);this.internalColorSet(e,!1,"initial");this.updateDimensions(this.scale);e=`${"calcite-color-"}${this.storageId}`;this.storageId&&localStorage.getItem(e)&&(this.savedColors=
JSON.parse(localStorage.getItem(e)));await w.setUpMessages(this)}connectedCallback(){y.connectInteractive(this);B.connectLocalized(this);w.connectMessages(this)}componentDidLoad(){v.setComponentLoaded(this)}disconnectedCallback(){document.removeEventListener("pointermove",this.globalPointerMoveHandler);document.removeEventListener("pointerup",this.globalPointerUpHandler);y.disconnectInteractive(this);B.disconnectLocalized(this);w.disconnectMessages(this)}componentDidRender(){y.updateHostInteraction(this)}render(){const {allowEmpty:a,
channelsDisabled:b,color:c,colorFieldScopeLeft:d,colorFieldScopeTop:e,dimensions:{slider:{width:h},thumb:{radius:k}},hexDisabled:m,hideChannels:n,hideHex:l,hideSaved:q,hueScopeLeft:u,messages:t,alphaChannel:I,opacityScopeLeft:ka,savedColors:S,savedDisabled:la,scale:z,scopeOrientation:ma}=this,T=c?f.hexify(c,I):null,na=u??h*x.hue()/r.h,oa=ka??h*f.alphaToOpacity(x.alpha())/100,U=null===c,J="vertical"===ma,V=m||l,W=b||n,pa=la||q,[qa,ra]=this.getAdjustedScopePosition(d,e),[sa,ta]=this.getAdjustedScopePosition(na,
k),[ua,va]=this.getAdjustedScopePosition(oa,k);return g.h("div",{class:"container"},g.h("div",{class:"control-and-scope"},g.h("canvas",{class:"color-field",onPointerDown:this.handleColorFieldPointerDown,ref:this.initColorField}),g.h("div",{"aria-label":J?t.value:t.saturation,"aria-valuemax":J?r.v:r.s,"aria-valuemin":"0","aria-valuenow":(J?c?.saturationv():c?.value())||"0",class:{scope:!0,["scope--color-field"]:!0},onKeyDown:this.handleColorFieldScopeKeyDown,role:"slider",style:{top:`${ra||0}px`,left:`${qa||
0}px`},tabindex:"0",ref:this.storeColorFieldScope})),g.h("div",{class:"preview-and-sliders"},g.h("calcite-color-picker-swatch",{class:"preview",color:T,scale:"l"}),g.h("div",{class:"sliders"},g.h("div",{class:"control-and-scope"},g.h("canvas",{class:{slider:!0,["hue-slider"]:!0},onPointerDown:this.handleHueSliderPointerDown,ref:this.initHueSlider}),g.h("div",{"aria-label":t.hue,"aria-valuemax":r.h,"aria-valuemin":"0","aria-valuenow":c?.round().hue()||x.round().hue(),class:{scope:!0,["scope--hue"]:!0},
onKeyDown:this.handleHueScopeKeyDown,role:"slider",style:{top:`${ta}px`,left:`${sa}px`},tabindex:"0",ref:this.storeHueScope})),I?g.h("div",{class:"control-and-scope"},g.h("canvas",{class:{slider:!0,["opacity-slider"]:!0},onPointerDown:this.handleOpacitySliderPointerDown,ref:this.initOpacitySlider}),g.h("div",{"aria-label":t.opacity,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":(c||x).round().alpha(),class:{scope:!0,["scope--opacity"]:!0},onKeyDown:this.handleOpacityScopeKeyDown,role:"slider",
style:{top:`${va}px`,left:`${ua}px`},tabindex:"0",ref:this.storeOpacityScope})):null)),V&&W?null:g.h("div",{class:{["control-section"]:!0,section:!0}},g.h("div",{class:"hex-and-channels-group"},V?null:g.h("div",{class:"color-hex-options"},g.h("calcite-color-picker-hex-input",{allowEmpty:a,alphaChannel:I,class:"control",messages:t,numberingSystem:this.numberingSystem,onCalciteColorPickerHexInputChange:this.handleHexInputChange,scale:z,value:T})),W?null:g.h("calcite-tabs",{class:{["color-mode-container"]:!0,
["section--split"]:!0},scale:"l"===z?"m":"s"},g.h("calcite-tab-nav",{slot:"title-group"},this.renderChannelsTabTitle("rgb"),this.renderChannelsTabTitle("hsv")),this.renderChannelsTab("rgb"),this.renderChannelsTab("hsv")))),pa?null:g.h("div",{class:{["saved-colors-section"]:!0,section:!0}},g.h("div",{class:"header"},g.h("label",null,t.saved),g.h("div",{class:"saved-colors-buttons"},g.h("calcite-button",{appearance:"transparent",class:"delete-color",disabled:U,iconStart:"minus",kind:"neutral",label:t.deleteColor,
onClick:this.deleteColor,scale:z,type:"button"}),g.h("calcite-button",{appearance:"transparent",class:"save-color",disabled:U,iconStart:"plus",kind:"neutral",label:t.saveColor,onClick:this.saveColor,scale:z,type:"button"}))),0<S.length?g.h("div",{class:"saved-colors"},[...S.map(X=>g.h("calcite-color-picker-swatch",{class:"saved-color",color:X,key:X,onClick:this.handleSavedColorSelect,onKeyDown:this.handleSavedColorKeyDown,scale:z,tabIndex:0}))]):null))}handleKeyDown(a){"Enter"===a.key&&a.preventDefault()}showIncompatibleColorWarning(a,
b){console.warn(`ignoring color value (${a}) as it is not compatible with the current format (${b})`)}setMode(a,b=!0){this.mode=this.ensureCompatibleMode("auto"===a?this.mode:a,b)}ensureCompatibleMode(a,b){var {alphaChannel:c}=this;const d=f.alphaCompatible(a);return c&&!d?(c=f.toAlphaMode(a),b&&console.warn(`setting format to (${c}) as the provided one (${a}) does not support alpha`),c):!c&&d?(c=f.toNonAlphaMode(a),b&&console.warn(`setting format to (${c}) as the provided one (${a}) does not support alpha`),
c):a}captureHueSliderColor(a){const {dimensions:{slider:{width:b}}}=this;this.internalColorSet(this.baseColorFieldColor.hue(P/b*a),!1)}captureOpacitySliderValue(a){const {dimensions:{slider:{width:b}}}=this;a=f.opacityToAlpha(100/b*a);this.internalColorSet(this.baseColorFieldColor.alpha(a),!1)}internalColorSet(a,b=!0,c="user-interaction"){b&&f.colorEqual(a,this.color)||(this.internalColorUpdateContext=c,this.color=a,this.value=this.toValue(a),this.internalColorUpdateContext=null)}toValue(a,b=this.mode){if(!a)return null;
if(b.includes("hex"))return b=b===f.CSSColorMode.HEXA,f.normalizeHex(f.hexify(a.round(),b),b);if(b.includes("-css")){var c=a[b.replace("-css","").replace("a","")]().round().string();return(b.endsWith("a")||b.endsWith("a-css"))&&1===a.alpha()?(b=c.slice(0,3),c=c.slice(4,-1),`${b}a(${c}, ${a.alpha()})`):c}a=a[f.toNonAlphaMode(b)]().round().object();return b.endsWith("a")?f.normalizeAlpha(a):a}getSliderCapSpacing(){const {dimensions:{slider:{height:a},thumb:{radius:b}}}=this;return 2*b-a}updateDimensions(a=
"m"){this.dimensions=Q[a]}drawColorField(){const a=this.colorFieldRenderingContext,{dimensions:{colorField:{height:b,width:c}}}=this;a.fillStyle=this.baseColorFieldColor.hsv().saturationv(100).value(100).alpha(1).string();a.fillRect(0,0,c,b);var d=a.createLinearGradient(0,0,c,0);d.addColorStop(0,"rgba(255,255,255,1)");d.addColorStop(1,"rgba(255,255,255,0)");a.fillStyle=d;a.fillRect(0,0,c,b);d=a.createLinearGradient(0,0,0,b);d.addColorStop(0,"rgba(0,0,0,0)");d.addColorStop(1,"rgba(0,0,0,1)");a.fillStyle=
d;a.fillRect(0,0,c,b);this.drawActiveColorFieldColor()}setCanvasContextSize(a,{height:b,width:c}){if(a){var d=window.devicePixelRatio||1;a.width=c*d;a.height=b*d;a.style.height=`${b}px`;a.style.width=`${c}px`;a.getContext("2d").scale(d,d)}}updateCanvasSize(a="all"){var {dimensions:b}=this;"all"!==a&&"color-field"!==a||this.setCanvasContextSize(this.colorFieldRenderingContext?.canvas,b.colorField);b={width:b.slider.width,height:b.slider.height+2*(b.thumb.radius-b.slider.height/2)};"all"!==a&&"hue-slider"!==
a||this.setCanvasContextSize(this.hueSliderRenderingContext?.canvas,b);"all"!==a&&"opacity-slider"!==a||this.setCanvasContextSize(this.opacitySliderRenderingContext?.canvas,b)}drawActiveColorFieldColor(){var {color:a}=this;if(a){a=a.hsv();var {dimensions:{colorField:{height:b,width:c},thumb:{radius:d}}}=this,e=a.saturationv()/(r.s/c),h=b-a.value()/(r.v/b);requestAnimationFrame(()=>{this.colorFieldScopeLeft=e;this.colorFieldScopeTop=h});this.drawThumb(this.colorFieldRenderingContext,d,e,h,a)}}drawThumb(a,
b,c,d,e){const h=2*Math.PI;a.beginPath();a.arc(c,d,b,0,h);a.fillStyle="#fff";a.fill();a.strokeStyle="rgba(0,0,0,0.3)";a.lineWidth=1;a.stroke();a.beginPath();a.arc(c,d,b-3,0,h);a.fillStyle=e.rgb().alpha(1).string();a.fill()}drawActiveHueSliderColor(){var {color:a}=this;if(a){a=a.hsv().saturationv(100).value(100);var {dimensions:{slider:{width:b},thumb:{radius:c}}}=this,d=a.hue()/(P/b),e=this.getSliderBoundX(d,b,c);requestAnimationFrame(()=>{this.hueScopeLeft=e});this.drawThumb(this.hueSliderRenderingContext,
c,e,c,a)}}drawHueSlider(){const a=this.hueSliderRenderingContext,{dimensions:{slider:{height:b,width:c},thumb:{radius:d}}}=this,e=d-b/2,h=a.createLinearGradient(0,0,c,0),k="red yellow lime cyan blue magenta #ff0004".split(" "),m=1/(k.length-1);let n=0;k.forEach(l=>{h.addColorStop(n,f.color(l).string());n+=m});a.clearRect(0,0,c,b+2*this.getSliderCapSpacing());this.drawSliderPath(a,b,c,0,e);a.fillStyle=h;a.fill();a.strokeStyle="rgba(0,0,0,0.3)";a.lineWidth=1;a.stroke();this.drawActiveHueSliderColor()}drawOpacitySlider(){const a=
this.opacitySliderRenderingContext,{baseColorFieldColor:b,dimensions:{slider:{height:c,width:d},thumb:{radius:e}}}=this;var h=e-c/2;a.clearRect(0,0,d,c+2*this.getSliderCapSpacing());const k=a.createLinearGradient(0,h,d,0),m=b.rgb().alpha(0),n=b.rgb().alpha(.5),l=b.rgb().alpha(1);k.addColorStop(0,m.string());k.addColorStop(.5,n.string());k.addColorStop(1,l.string());this.drawSliderPath(a,c,d,0,h);h=a.createPattern(this.getCheckeredBackgroundPattern(),"repeat");a.fillStyle=h;a.fill();a.fillStyle=k;
a.fill();a.strokeStyle="rgba(0,0,0,0.3)";a.lineWidth=1;a.stroke();this.drawActiveOpacitySliderColor()}drawSliderPath(a,b,c,d,e){const h=b/2+1;a.beginPath();a.moveTo(d+h,e);a.lineTo(d+c-h,e);a.quadraticCurveTo(d+c,e,d+c,e+h);a.lineTo(d+c,e+b-h);a.quadraticCurveTo(d+c,e+b,d+c-h,e+b);a.lineTo(d+h,e+b);a.quadraticCurveTo(d,e+b,d,e+b-h);a.lineTo(d,e+h);a.quadraticCurveTo(d,e,d+h,e);a.closePath()}getCheckeredBackgroundPattern(){if(this.checkerPattern)return this.checkerPattern;const a=document.createElement("canvas");
a.width=10;a.height=10;const b=a.getContext("2d");b.fillStyle="#ccc";b.fillRect(0,0,10,10);b.fillStyle="#fff";b.fillRect(0,0,5,5);b.fillRect(5,5,5,5);return this.checkerPattern=a}drawActiveOpacitySliderColor(){const {color:a}=this;if(a){var {dimensions:{slider:{width:b},thumb:{radius:c}}}=this,d=f.alphaToOpacity(a.alpha())/(100/b),e=this.getSliderBoundX(d,b,c);requestAnimationFrame(()=>{this.opacityScopeLeft=e});this.drawThumb(this.opacitySliderRenderingContext,c,e,c,a)}}getSliderBoundX(a,b,c){const d=
C.closeToRangeEdge(a,b,c);return 0===d?a:-1===d?C.remap(a,0,b,c,2*c):C.remap(a,0,b,b-2*c,b-c)}updateColorFromChannels(a){this.internalColorSet(f.color(a,this.channelMode))}updateChannelsFromColor(a){this.channels=a?this.toChannels(a):[null,null,null,null]}toChannels(a){const {channelMode:b}=this;a=a[b]().array().map((c,d)=>3===d?c:Math.floor(c));3===a.length&&a.push(1);return a}getAdjustedScopePosition(a,b){return[a-.5,b-.5]}static get delegatesFocus(){return!0}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{alphaChannel:["handleAlphaChannelChange",
"handleFormatOrAlphaChannelChange"],color:["handleColorChange"],format:["handleFormatOrAlphaChannelChange"],scale:["handleScaleChange"],messageOverrides:["onMessagesChange"],value:["handleValueChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return':host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-ui-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}:host([scale\x3ds]){--calcite-color-picker-spacing:8px}:host([scale\x3ds]) .container{inline-size:160px}:host([scale\x3ds]) .saved-colors{gap:0.25rem;grid-template-columns:repeat(auto-fill, 20px)}:host([scale\x3dm]){--calcite-color-picker-spacing:12px}:host([scale\x3dm]) .container{inline-size:272px}:host([scale\x3dl]){--calcite-color-picker-spacing:16px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale\x3dl]) .container{inline-size:464px}:host([scale\x3dl]) .section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}:host([scale\x3dl]) .saved-colors{grid-template-columns:repeat(auto-fill, 32px)}:host([scale\x3dl]) .control-section{flex-wrap:nowrap;align-items:baseline;flex-wrap:wrap}:host([scale\x3dl]) .color-hex-options{display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around}:host([scale\x3dl]) .color-mode-container{flex-shrink:3}.container{background-color:var(--calcite-ui-foreground-1);display:inline-block;border:1px solid var(--calcite-ui-border-1)}.control-and-scope{position:relative;display:flex;cursor:pointer;touch-action:none}.scope{pointer-events:none;position:absolute;z-index:var(--calcite-app-z-index);block-size:1px;inline-size:1px;border-radius:9999px;background-color:transparent;font-size:var(--calcite-font-size--1);outline-color:transparent}.scope:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-ui-brand));outline-offset:calc(\n            2px *\n            calc(\n              1 -\n              2 * clamp(\n                0,\n                var(--calcite-ui-focus-offset-invert),\n                1\n              )\n            )\n          );outline-offset:11px}.hex-and-channels-group{inline-size:100%}.hex-and-channels-group,.control-section{display:flex;flex-direction:row;flex-wrap:wrap}.section{padding-block:0 var(--calcite-color-picker-spacing);padding-inline:var(--calcite-color-picker-spacing)}.section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}.sliders{display:flex;flex-direction:column;justify-content:space-between;margin-inline-start:var(--calcite-color-picker-spacing)}.preview-and-sliders{display:flex;align-items:center;padding:var(--calcite-color-picker-spacing)}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;color:var(--calcite-ui-text-1)}.color-mode-container{padding-block-start:var(--calcite-color-picker-spacing)}.channels{display:flex;row-gap:0.125rem}.channel[data-channel-index\x3d"3"]{inline-size:159px}:host([scale\x3ds]) .channels{flex-wrap:wrap}:host([scale\x3ds]) .channel{flex-basis:30%;flex-grow:1}:host([scale\x3ds]) .channel[data-channel-index\x3d"3"]{inline-size:unset;margin-inline-start:unset}:host([scale\x3dl]) .channel[data-channel-index\x3d"3"]{inline-size:131px}.saved-colors{display:grid;gap:0.5rem;padding-block-start:var(--calcite-color-picker-spacing);grid-template-columns:repeat(auto-fill, 24px)}.saved-colors-buttons{display:flex}.saved-color{outline-offset:0;outline-color:transparent;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-ui-brand);outline-offset:2px}.saved-color:hover{transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-ui-border-2);outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}'}},
[17,"calcite-color-picker",{allowEmpty:[516,"allow-empty"],alphaChannel:[4,"alpha-channel"],channelsDisabled:[4,"channels-disabled"],color:[1040],disabled:[516],format:[513],hideChannels:[516,"hide-channels"],hexDisabled:[4,"hex-disabled"],hideHex:[516,"hide-hex"],hideSaved:[516,"hide-saved"],savedDisabled:[516,"saved-disabled"],scale:[513],storageId:[513,"storage-id"],messageOverrides:[1040],numberingSystem:[513,"numbering-system"],value:[1025],messages:[1040],defaultMessages:[32],channelMode:[32],
channels:[32],dimensions:[32],effectiveLocale:[32],savedColors:[32],colorFieldScopeTop:[32],colorFieldScopeLeft:[32],hueScopeLeft:[32],opacityScopeLeft:[32],scopeOrientation:[32],setFocus:[64]},[[2,"keydown","handleChannelKeyUpOrDown"],[2,"keyup","handleChannelKeyUpOrDown"]]]);M();D.CalciteColorPicker=N;D.defineCustomElement=M;Object.defineProperty(D,Symbol.toStringTag,{value:"Module"})});