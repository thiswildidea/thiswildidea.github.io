// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
//>>built
define("exports ./ByteSizeUnit ./nextTick ../chunks/mat3f64 ../chunks/mat4f64 ../chunks/quatf64 ../chunks/vec2f64 ../chunks/vec3f64 ../chunks/vec4f64".split(" "),function(f,g,h,k,l,m,n,p,q){class b{constructor(a,e,d){this._itemByteSize=a;this._itemCreate=e;this._buffers=[];this._items=[];this._itemsPtr=0;this._itemsPerBuffer=Math.ceil(d/this._itemByteSize)}get(){0===this._itemsPtr&&h.nextTick(()=>this._reset());const a=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=a;){const e=
new ArrayBuffer(this._itemsPerBuffer*this._itemByteSize);for(let d=0;d<this._itemsPerBuffer;++d)this._items.push(this._itemCreate(e,d*this._itemByteSize));this._buffers.push(e)}return this._items[this._itemsPtr++]}_reset(){const a=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>a;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}static createVec2f64(a=c){return new b(16,n.createView,a)}static createVec3f64(a=c){return new b(24,
p.createView,a)}static createVec4f64(a=c){return new b(32,q.createView,a)}static createMat3f64(a=c){return new b(72,k.createView,a)}static createMat4f64(a=c){return new b(128,l.createView,a)}static createQuatf64(a=c){return new b(32,m.createView,a)}get test(){return{size:this._buffers.length*this._itemsPerBuffer*this._itemByteSize}}}const c=4*g.ByteSizeUnit.KILOBYTES;f.VectorStack=b;Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});