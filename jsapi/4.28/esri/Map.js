// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
//>>built
define("./chunks/tslib.es6 ./Basemap ./Ground ./core/Accessor ./core/CollectionFlattener ./core/Evented ./core/maybe ./core/accessorSupport/decorators/property ./core/accessorSupport/decorators/cast ./core/arrayUtils ./core/has ./core/accessorSupport/decorators/subclass ./layers/support/editableLayers ./support/basemapUtils ./support/collectionUtils ./support/groundUtils ./support/LayersMixin ./support/TablesMixin".split(" "),function(c,m,g,b,h,n,k,e,l,w,x,p,q,f,r,t,u,v){b=class extends v.TablesMixin(u.LayersMixin(n.EventedMixin(b))){constructor(a){super(a);
this.allLayers=new h({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:d=>"layers"in d?d.layers:null});this.allTables=r.createFlattenedTablesCollection(this);this.basemap=null;this.editableLayers=new h({getCollections:()=>[this.allLayers],itemFilterFunction:q.isEditableLayer});this.ground=new g;this._basemapCache=f.createCache()}destroy(){f.destroyCache(this._basemapCache);this._basemapCache=null;this.allLayers.destroy();
this.allTables.destroy();this.editableLayers.destroy();this.basemap=k.destroyMaybe(this.basemap);k.destroyMaybe(this.ground);this._set("ground",null)}castBasemap(a){return f.ensureType(a,this._basemapCache)}castGround(a){a=t.ensureType(a);return null==a?this._get("ground"):a}findLayerById(a){return this.allLayers.find(d=>d.id===a)}findTableById(a){return this.allTables.find(d=>d.id===a)}};c.__decorate([e.property({readOnly:!0,dependsOn:[]})],b.prototype,"allLayers",void 0);c.__decorate([e.property({readOnly:!0})],
b.prototype,"allTables",void 0);c.__decorate([e.property({type:m,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],b.prototype,"basemap",void 0);c.__decorate([l.cast("basemap")],b.prototype,"castBasemap",null);c.__decorate([e.property({readOnly:!0})],b.prototype,"editableLayers",void 0);c.__decorate([e.property({type:g,nonNullable:!0})],b.prototype,"ground",void 0);c.__decorate([l.cast("ground")],b.prototype,"castGround",null);return b=c.__decorate([p.subclass("esri.Map")],b)});