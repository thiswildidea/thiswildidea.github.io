// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
//>>built
define(["exports","./cpuMapped/FreeList"],function(k,h){class g{constructor(a,d,c,b,e){this.target=a;this.geometryType=d;this.materialKey=c;this.indexFrom=b;this.indexCount=e}get indexEnd(){return this.indexFrom+this.indexCount}extend(a){this.indexCount+=a}}class l{constructor(a,d){this.geometryType=0;this._target=a;this.geometryType=d}static from(a,d,c,b){a=new l(a,d);if(null!=b)for(const e of b)c.seekIndex(e),a.addRecord(c);else for(;c.next();)a.addRecord(c);return a}addRecord(a){var d=this._target,
c=this.geometryType,b=a.materialKey;let e=a.indexFrom,f=a.indexCount;const m=a.vertexFrom;a=a.vertexCount;f||(e=m,f=a);if(null==this._head)b=new g(d,c,b,e,f),this._head=new h.List(b);else{d=null;for(c=this._head;c;){if(e<c.data.indexFrom)return this._insert(b,e,f,d,c);d=c;c=c.next}this._insert(b,e,f,d,null)}}forEach(a){null!=this._head&&this._head.forEach(a)}*infos(){if(null!=this._head)for(const a of this._head.values())yield a}_insert(a,d,c,b,e){if(null==b&&null==e){const f=new g(this._target,this.geometryType,
a,d,c);this._head=new h.List(f)}if(null==b&&null!=e)return this._insertAtHead(a,d,c,e);if(null!=b&&null==e)return this._insertAtEnd(a,d,c,b);if(null!=b&&null!=e)return this._insertAtMiddle(a,d,c,b,e)}_insertAtHead(a,d,c,b){a===b.data.materialKey&&d+c===b.data.indexFrom?(b.data.indexFrom=d,b.data.indexCount+=c):(a=new g(this._target,this.geometryType,a,d,c),this._head=new h.List(a),this._head.next=b)}_insertAtEnd(a,d,c,b){b.data.materialKey===a&&b.data.indexEnd===d?b.data.indexCount+=c:(a=new g(this._target,
this.geometryType,a,d,c),a=new h.List(a),b.next=a)}_insertAtMiddle(a,d,c,b,e){b.data.materialKey===a&&b.data.indexEnd===d?(b.data.indexCount+=c,b.data.materialKey===e.data.materialKey&&b.data.indexEnd===e.data.indexFrom&&(b.data.indexCount+=e.data.indexCount,b.next=e.next)):a===e.data.materialKey&&d+c===e.data.indexFrom?(e.data.indexFrom=d,e.data.indexCount+=c):(a=new g(this._target,this.geometryType,a,d,c),a=new h.List(a),b.next=a,a.next=e)}}k.FeatureDisplayList=l;k.FeatureDisplayListInfo=g;Object.defineProperty(k,
Symbol.toStringTag,{value:"Module"})});