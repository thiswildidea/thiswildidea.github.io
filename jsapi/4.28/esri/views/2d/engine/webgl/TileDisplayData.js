// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
//>>built
define(["./GraphicDisplayList","./WGLDisplayObject","./util/serializationUtils"],function(g,h,k){class c{constructor(){this.displayObjects=[];this._displayList=null}get displayObjectRegistry(){if(!this._displayObjectRegistry){this._displayObjectRegistry=new Map;for(const a of this.displayObjects)this._displayObjectRegistry.set(a.id,a)}return this._displayObjectRegistry}get displayList(){return this._displayList}computeDisplayList(){this._displayList=new g;for(const a of this.displayObjects)for(const b of a.displayRecords)this._displayList.addToList(b)}clone(){const a=
new c;this.displayObjects&&(a.displayObjects=this.displayObjects.map(b=>b.clone()));return a}serialize(a){k.serializeList(a,this.displayObjects);return a}_deserializeObjects(a){var b=a.readInt32();b=Array(b);const f=new Map;for(let d=0;d<b.length;++d){const e=h.deserialize(a);b[d]=e;f.set(e.id,e)}this.displayObjects=b;this._displayList=null;this._displayObjectRegistry=f}static deserialize(a){const b=new c;b._deserializeObjects(a);return b}}return c});