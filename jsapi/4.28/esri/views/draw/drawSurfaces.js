// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
//>>built
define(["exports","../../core/screenUtils","../../layers/graphics/dehydratedPoint","../../layers/graphics/hydratedFeatures","../../support/elevationInfoUtils"],function(e,g,h,k,f){class l{constructor(a,b,d,c=null){this._elevationInfo=a;this.defaultZ=b;this._view=d;this._excludeGraphics=c}screenToMap(a){if(null!=this.defaultZ)return this._view.sceneIntersectionHelper.intersectElevationFromScreen(g.createScreenPointArray(a.x,a.y),this._elevationInfo,this.defaultZ,this._excludeGraphics);a=this._view.sceneIntersectionHelper.intersectElevationFromScreen(g.createScreenPointArray(a.x,
a.y),this._elevationInfo,0,this._excludeGraphics);null!=a&&(a.z=void 0);return a}mapToScreen(a){a=h.makeDehydratedPoint(a.x,a.y,f.getConvertedElevation(this._view,a,this._elevationInfo),a.spatialReference);return this._view.toScreen(a)}constrainZ(a){const {defaultZ:b}=this;null!=b&&a.z!==b&&(a=k.clonePoint(a),a.z=b);return a}}class m{constructor(a,b,d=[]){this.view=a;this.elevationInfo=b;this.exclude=d}screenToMap(a){a=this.view.toMap(a,{exclude:this.exclude});null!=a&&(a.z=f.getZForElevationMode(a,
this.view,this.elevationInfo));return a}mapToScreen(a){let b=a;null!=this.elevationInfo&&(b=h.makeDehydratedPoint(a.x,a.y,f.getConvertedElevation(this.view,a,this.elevationInfo),a.spatialReference));return this.view.toScreen(b)}constrainZ(a){return a}}class n{constructor(a,b=!1,d=0){this.view=a;this.hasZ=b;this.defaultZ=d;this.mapToScreen=c=>a.toScreen(c);this.screenToMap=b?c=>{c=a.toMap(c);c.z=d;return c}:c=>a.toMap(c)}constrainZ(a){const {defaultZ:b}=this;this.hasZ&&a.z!==b&&(a=k.clonePoint(a),
a.z=b);return a}}e.ElevationDrawSurface=l;e.MapDrawSurface=n;e.SceneDrawSurface=m;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});