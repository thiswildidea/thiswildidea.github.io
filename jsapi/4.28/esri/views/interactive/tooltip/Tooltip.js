// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/tslib.es6 ../../../core/Accessor ../../../core/maybe ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/subclass ../../../support/themeUtils ./css ./content/tooltipContentFactory ../../../widgets/support/widgetUtils".split(" "),function(c,e,n,k,f,g,x,y,z,p,q,r,t,u){function v({container:a,contentWidget:b,screenPoint:d,
positionMode:l}){const {style:h}=a;"docked"===l?(h.display="block",h.transform="none"):"fixed"!==l&&(null!=d&&null!=b?(h.display="block",a=u.isRTL(a),d=`translate(${Math.round(d.x)+m[0]*(a?-1:1)}px, ${Math.round(d.y)+m[1]}px)`,h.transform=a?`translate(-100%, 0) ${d}`:d):h.display="none")}var w=`${r.base}`;c.Tooltip=class extends n{constructor(a){super(a);this.info=null;this.positionMode="follow-cursor";a=document.createElement("div");a.classList.add(w);q.setCalciteThemeClass(a);this._contentContainer=
a;this._contentWidget=null}initialize(){const a=this._contentContainer;this.addHandles([f.watch(()=>this.view.overlay?.surface,b=>{a.remove();b?.appendChild(a)},f.syncAndInitial),f.watch(()=>this.info,(b,d)=>{if(null!=this._contentWidget&&null!=b&&null!=d&&b.type===d.type)this._contentWidget.info=b;else if(this._contentWidget=k.destroyMaybe(this._contentWidget),b=t.tooltipContentFactory(this,b))this._contentWidget=b,b.container&&a.appendChild(b.container)},f.syncAndInitial),f.watch(()=>({container:this._contentContainer,
contentWidget:this._contentWidget,screenPoint:this._screenPoint,positionMode:this.positionMode}),v,f.syncAndInitial)])}destroy(){this._contentWidget=k.destroyMaybe(this._contentWidget);this._contentContainer.remove()}clear(){this.info=null}get _screenPoint(){const a=this.view.inputManager;return a?.multiTouchActive?null:a?.latestPointerLocation}get test(){return{contentContainer:this._contentContainer,visible:"none"!==this._contentContainer?.style.display}}};e.__decorate([g.property({nonNullable:!0})],
c.Tooltip.prototype,"view",void 0);e.__decorate([g.property()],c.Tooltip.prototype,"info",void 0);e.__decorate([g.property()],c.Tooltip.prototype,"positionMode",void 0);e.__decorate([g.property()],c.Tooltip.prototype,"_contentContainer",void 0);e.__decorate([g.property()],c.Tooltip.prototype,"_contentWidget",void 0);e.__decorate([g.property()],c.Tooltip.prototype,"_screenPoint",null);c.Tooltip=e.__decorate([p.subclass("esri.views.interactive.tooltip.Tooltip")],c.Tooltip);const m=[20,20];Object.defineProperty(c,
Symbol.toStringTag,{value:"Module"})});