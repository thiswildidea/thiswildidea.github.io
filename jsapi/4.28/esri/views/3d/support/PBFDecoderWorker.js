// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
//>>built
require({cache:{"esri/rest/query/operations/pbfDehydratedFeatureSet":function(){define("exports ../../../core/compilerUtils ../../../core/uid ../../../geometry/SpatialReference ../../../geometry/support/zscale ../../../layers/graphics/dehydratedFeatures ../../../layers/graphics/featureConversionUtils ../../../layers/support/Field".split(" "),function(e,w,B,z,H,M,K,O){function p(b,h){return h}function v(b,h,u,E){switch(u){case 0:return U(b,h+E,0);case 1:return"lowerLeft"===b.originPosition?U(b,h+E,
1):c(b,h+E,1)}}function F(b,h,u,E){switch(u){case 2:return U(b,h,2);default:return v(b,h,u,E)}}function Q(b,h,u,E){switch(u){case 2:return U(b,h,3);default:return v(b,h,u,E)}}function S(b,h,u,E){switch(u){case 3:return U(b,h,3);default:return F(b,h,u,E)}}function U({translate:b,scale:h},u,E){return b[E]+u*h[E]}function c({translate:b,scale:h},u,E){return b[E]-u*h[E]}class n{constructor(b){this._options=b;this.geometryTypes=["point","multipoint","polyline","polygon"];this._previousCoordinate=[0,0];
this._transform=null;this._applyTransform=p;this._lengths=[];this._vertexDimension=this._toAddInCurrentPath=this._currentLengthIndex=0;this._coordinateBuffer=null;this._coordinateBufferPtr=0;this._attributesConstructor=class{}}createFeatureResult(){return new M.DehydratedFeatureSetClass}finishFeatureResult(b){this._options.applyTransform&&(b.transform=null);this._attributesConstructor=class{};this._coordinateBuffer=null;this._lengths.length=0;if(b.hasZ){var h=H.getGeometryZScaler(b.geometryType,this._options.sourceSpatialReference,
b.spatialReference);if(null!=h)for(const u of b.features)h(u.geometry)}}createSpatialReference(){return new z}addField(b,h){b.fields.push(O.fromJSON(h));const u=b.fields.map(E=>E.name);this._attributesConstructor=function(){for(const E of u)this[E]=null}}addFeature(b,h){const u=this._options.maxStringAttributeLength??0;if(0<u)for(const E in h.attributes){const P=h.attributes[E];"string"===typeof P&&P.length>u&&(h.attributes[E]="")}b.features.push(h)}addQueryGeometry(b,h){const {queryGeometry:u,queryGeometryType:E}=
h;h=K.unquantizeOptimizedGeometry(u.clone(),u,!1,!1,this._transform);h=K.convertToGeometry(h,E,!1,!1);let P=null;switch(E){case "esriGeometryPoint":P="point";break;case "esriGeometryPolygon":P="polygon";break;case "esriGeometryPolyline":P="polyline";break;case "esriGeometryMultipoint":P="multipoint"}h.type=P;b.queryGeometryType=E;b.queryGeometry=h}prepareFeatures(b){this._transform=b.transform??null;this._options.applyTransform&&b.transform&&(this._applyTransform=this._deriveApplyTransform(b));this._vertexDimension=
2;b.hasZ&&this._vertexDimension++;b.hasM&&this._vertexDimension++;switch(b.geometryType){case "point":this.addCoordinate=(h,u,E)=>this.addCoordinatePoint(h,u,E);this.createGeometry=h=>this.createPointGeometry(h);break;case "polygon":this.addCoordinate=(h,u,E)=>this._addCoordinatePolygon(h,u,E);this.createGeometry=h=>this._createPolygonGeometry(h);break;case "polyline":this.addCoordinate=(h,u,E)=>this._addCoordinatePolyline(h,u,E);this.createGeometry=h=>this._createPolylineGeometry(h);break;case "multipoint":this.addCoordinate=
(h,u,E)=>this._addCoordinateMultipoint(h,u,E);this.createGeometry=h=>this._createMultipointGeometry(h);break;case "mesh":case "extent":break;default:w.neverReached(b.geometryType)}}createFeature(){this._currentLengthIndex=this._lengths.length=0;this._previousCoordinate[0]=0;this._previousCoordinate[1]=0;return new M.DehydratedFeatureClass(B.generateUID(),null,new this._attributesConstructor)}allocateCoordinates(){const b=this._lengths.reduce((h,u)=>h+u,0);this._coordinateBuffer=new Float64Array(b*
this._vertexDimension);this._coordinateBufferPtr=0}addLength(b,h){0===this._lengths.length&&(this._toAddInCurrentPath=h);this._lengths.push(h)}createPointGeometry(b){b={type:"point",x:0,y:0,spatialReference:b.spatialReference,hasZ:!!b.hasZ,hasM:!!b.hasM};b.hasZ&&(b.z=0);b.hasM&&(b.m=0);return b}addCoordinatePoint(b,h,u){h=this._transform?this._applyTransform(this._transform,h,u,0):h;if(null!=h)switch(u){case 0:b.x=h;break;case 1:b.y=h;break;case 2:b.hasZ?b.z=h:b.m=h;break;case 3:b.m=h}}_transformPathLikeValue(b,
h){let u=0;1>=h&&(u=this._previousCoordinate[h],this._previousCoordinate[h]+=b);return this._transform?this._applyTransform(this._transform,b,h,u):b}_addCoordinatePolyline(b,h,u){this._dehydratedAddPointsCoordinate(b.paths,h,u)}_addCoordinatePolygon(b,h,u){this._dehydratedAddPointsCoordinate(b.rings,h,u)}_addCoordinateMultipoint(b,h,u){0===u&&b.points.push([]);h=this._transformPathLikeValue(h,u);b.points[b.points.length-1].push(h)}_createPolygonGeometry(b){return{type:"polygon",rings:[[]],spatialReference:b.spatialReference,
hasZ:!!b.hasZ,hasM:!!b.hasM}}_createPolylineGeometry(b){return{type:"polyline",paths:[[]],spatialReference:b.spatialReference,hasZ:!!b.hasZ,hasM:!!b.hasM}}_createMultipointGeometry(b){return{type:"multipoint",points:[],spatialReference:b.spatialReference,hasZ:!!b.hasZ,hasM:!!b.hasM}}_dehydratedAddPointsCoordinate(b,h,u){0===u&&0===this._toAddInCurrentPath--&&(b.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);
h=this._transformPathLikeValue(h,u);b=b[b.length-1];const E=this._coordinateBuffer;E&&(0===u&&b.push(new Float64Array(E.buffer,this._coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT,this._vertexDimension)),E[this._coordinateBufferPtr++]=h)}_deriveApplyTransform(b){const {hasZ:h,hasM:u}=b;return h&&u?S:h?F:u?Q:v}}e.DehydratedFeatureSetParserContext=n;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(e,w){e.neverReached=
function(B){};e.neverReachedSilent=function(B){};e.typeCast=function(B){return()=>B};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/dehydratedFeatures":function(){define("exports ../../core/byteSizeEstimations ../../core/has ../../core/typedArrayUtil ../../core/uid ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/quantizationUtils ../../geometry/support/typeUtils ../support/Field ./dehydratedFeatureComparison".split(" "),
function(e,w,B,z,H,M,K,O,p,v,F,Q){function S(b,h,u){if(null==b)return null;switch(h){case "point":return{x:b.x,y:b.y,z:b.z,m:b.m,hasZ:null!=b.z,hasM:null!=b.m,type:"point",spatialReference:u};case "polyline":return{paths:b.paths,hasZ:!!b.hasZ,hasM:!!b.hasM,type:"polyline",spatialReference:u};case "polygon":return{rings:b.rings,hasZ:!!b.hasZ,hasM:!!b.hasM,type:"polygon",spatialReference:u};case "multipoint":return{points:b.points,hasZ:!!b.hasZ,hasM:!!b.hasM,type:"multipoint",spatialReference:u}}}function U(b){if(null==
b)return 0;let h=32;switch(b.type){case "point":h+=42;break;case "polyline":case "polygon":var u=0;const E=2+(b.hasZ?1:0)+(b.hasM?1:0);b="polyline"===b.type?b.paths:b.rings;for(const P of b)u+=P.length;h+=8*u*E+64;h+=128*u;h=h+34+32*(b.length+1);break;case "multipoint":u=b.points.length;h+=8*u*(2+(b.hasZ?1:0)+(b.hasM?1:0))+64;h+=128*u;h=h+34+32;break;case "extent":h+=98;b.hasM&&(h+=32);b.hasZ&&(h+=32);break;case "mesh":h+=z.estimateSize(b.vertexAttributes.position,b.vertexAttributes.normal,b.vertexAttributes.uv,
b.vertexAttributes.tangent)}return h}class c{constructor(b,h,u){this.uid=b;this.geometry=h;this.attributes=u;this.visible=!0;this.centroid=this.objectId=null}}class n{constructor(){this.exceededTransferLimit=!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=this.geometryType=null}}e.equals=Q.equals;e.DehydratedFeatureClass=c;e.DehydratedFeatureSetClass=n;e.computeAABB=
function(b,h){K.empty(h);"mesh"===b.type&&(b=b.extent);switch(b.type){case "point":h[0]=h[3]=b.x;h[1]=h[4]=b.y;b.hasZ&&(h[2]=h[5]=b.z);break;case "polyline":for(var u=0;u<b.paths.length;u++)K.expandWithNestedArray(h,b.paths[u],!!b.hasZ);break;case "polygon":for(u=0;u<b.rings.length;u++)K.expandWithNestedArray(h,b.rings[u],!!b.hasZ);break;case "multipoint":K.expandWithNestedArray(h,b.points,!!b.hasZ);break;case "extent":h[0]=b.xmin,h[1]=b.ymin,h[3]=b.xmax,h[4]=b.ymax,null!=b.zmin&&(h[2]=b.zmin),null!=
b.zmax&&(h[5]=b.zmax)}};e.computeAABR=function(b,h){O.empty(h);"mesh"===b.type&&(b=b.extent);switch(b.type){case "point":h[0]=h[2]=b.x;h[1]=h[3]=b.y;break;case "polyline":for(var u=0;u<b.paths.length;u++)O.expandWithNestedArray(h,b.paths[u]);break;case "polygon":for(u=0;u<b.rings.length;u++)O.expandWithNestedArray(h,b.rings[u]);break;case "multipoint":O.expandWithNestedArray(h,b.points);break;case "extent":h[0]=b.xmin,h[1]=b.ymin,h[2]=b.xmax,h[3]=b.ymax}};e.estimateGeometryObjectSize=U;e.estimateSize=
function(b){let h;h=32+w.estimateAttributesObjectSize(b.attributes);return h=h+3+(8+U(b.geometry))};e.fromFeatureSetJSON=function(b){const h=v.featureGeometryTypeKebabDictionary.fromJSON(b.geometryType),u=M.fromJSON(b.spatialReference),E=b.transform,P=b.features.map(R=>{var N=b.objectIdFieldName;R={uid:H.generateUID(),objectId:N&&R.attributes?R.attributes[N]:null,attributes:R.attributes,geometry:S(R.geometry,h,u),visible:!0};N=R.geometry;if(null!=N&&E)switch(N.type){case "point":R.geometry=p.unquantizePoint(E,
N,N,N.hasZ,N.hasM);break;case "multipoint":R.geometry=p.unquantizeMultipoint(E,N,N,!!N.hasZ,!!N.hasM);break;case "polygon":R.geometry=p.unquantizePolygon(E,N,N,!!N.hasZ,!!N.hasM);break;case "polyline":R.geometry=p.unquantizePolyline(E,N,N,!!N.hasZ,!!N.hasM);break;case "extent":R.geometry=N;break;case "mesh":R.geometry=N}return R});return{geometryType:h,features:P,spatialReference:u,fields:b.fields?.map(R=>F.fromJSON(R))??[],objectIdFieldName:b.objectIdFieldName,globalIdFieldName:b.globalIdFieldName,
geohashFieldName:b.geohashFieldName,geometryProperties:b.geometryProperties,hasZ:b.hasZ,hasM:b.hasM,exceededTransferLimit:b.exceededTransferLimit,transform:null}};e.fromJSONGeometry=S;e.getObjectId=function(b,h){return null!=b.objectId?b.objectId:b.attributes&&h?b.attributes[h]:null};e.hasGeometry=function(b){return null!=b.geometry};e.hasVertices=function(b){if(null==b)return!1;switch(b.type){case "extent":case "point":return!0;case "polyline":for(const h of b.paths)if(0<h.length)return!0;return!1;
case "polygon":for(const h of b.rings)if(0<h.length)return!0;return!1;case "multipoint":return 0<b.points.length;case "mesh":return!b.loaded||0<b.vertexAttributes.position.length}};e.numVertices=function(b){if(null==b)return 0;switch(b.type){case "point":return 1;case "polyline":var h=0;for(var u of b.paths)h+=u.length;return h;case "polygon":u=0;for(h of b.rings)u+=h.length;return u;case "multipoint":return b.points.length;case "extent":return 2;case "mesh":return(b=b.vertexAttributes&&b.vertexAttributes.position)?
b.length/3:0}};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../Extent","./aaBoundingRect"],function(e,w,B){function z(c=S){return[c[0],c[1],c[2],c[3],c[4],c[5]]}function H(c,n,b,h,u,E,P=z()){P[0]=c;P[1]=n;P[2]=b;P[3]=h;P[4]=u;P[5]=E;return P}function M(c){return c[0]>=c[3]?0:c[3]-c[0]}function K(c){return c[1]>=c[4]?0:c[4]-c[1]}function O(c){return c[2]>=c[5]?0:c[5]-c[2]}function p(c,n){return Math.max(n[0],c[0])<=
Math.min(n[3],c[3])&&Math.max(n[1],c[1])<=Math.min(n[4],c[4])&&Math.max(n[2],c[2])<=Math.min(n[5],c[5])}function v(c,n){c[0]=n[0];c[1]=n[1];c[2]=n[2];c[3]=n[3];c[4]=n[4];c[5]=n[5];return c}function F(c){return 6===c.length}const Q=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],S=[0,0,0,0,0,0],U=z();e.allFinite=function(c){for(let n=0;6>n;n++)if(!isFinite(c[n]))return!1;return!0};e.center=function(c,n=[0,0,0]){n[0]=c[0]+M(c)/2;n[1]=c[1]+K(c)/2;n[2]=c[2]+O(c)/2;return n};e.contains=function(c,
n){return n[0]>=c[0]&&n[1]>=c[1]&&n[2]>=c[2]&&n[3]<=c[3]&&n[4]<=c[4]&&n[5]<=c[5]};e.containsPoint=function(c,n){return n[0]>=c[0]&&n[1]>=c[1]&&n[2]>=c[2]&&n[0]<=c[3]&&n[1]<=c[4]&&n[2]<=c[5]};e.containsPointWithMargin=function(c,n,b){return n[0]>=c[0]-b&&n[1]>=c[1]-b&&n[2]>=c[2]-b&&n[0]<=c[3]+b&&n[1]<=c[4]+b&&n[2]<=c[5]+b};e.create=z;e.depth=K;e.diameter=function(c){const n=M(c),b=O(c);c=K(c);return Math.sqrt(n*n+b*b+c*c)};e.empty=function(c){return c?v(c,Q):z(Q)};e.equals=function(c,n,b){if(null==
c||null==n)return c===n;if(!F(c)||!F(n))return!1;if(b)for(let h=0;h<c.length;h++){if(!b(c[h],n[h]))return!1}else for(b=0;b<c.length;b++)if(c[b]!==n[b])return!1;return!0};e.expandWithAABB=function(c,n){c[0]=Math.min(c[0],n[0]);c[1]=Math.min(c[1],n[1]);c[2]=Math.min(c[2],n[2]);c[3]=Math.max(c[3],n[3]);c[4]=Math.max(c[4],n[4]);c[5]=Math.max(c[5],n[5])};e.expandWithBuffer=function(c,n,b=0,h=n.length/3){let u=c[0],E=c[1],P=c[2],R=c[3],N=c[4],l=c[5];for(let y=0;y<h;y++)u=Math.min(u,n[b+3*y]),E=Math.min(E,
n[b+3*y+1]),P=Math.min(P,n[b+3*y+2]),R=Math.max(R,n[b+3*y]),N=Math.max(N,n[b+3*y+1]),l=Math.max(l,n[b+3*y+2]);c[0]=u;c[1]=E;c[2]=P;c[3]=R;c[4]=N;c[5]=l};e.expandWithNestedArray=function(c,n,b){const h=n.length;let u=c[0],E=c[1],P=c[2],R=c[3],N=c[4],l=c[5];if(b)for(b=0;b<h;b++){var y=n[b];u=Math.min(u,y[0]);E=Math.min(E,y[1]);P=Math.min(P,y[2]);R=Math.max(R,y[0]);N=Math.max(N,y[1]);l=Math.max(l,y[2])}else for(b=0;b<h;b++)y=n[b],u=Math.min(u,y[0]),E=Math.min(E,y[1]),R=Math.max(R,y[0]),N=Math.max(N,
y[1]);c[0]=u;c[1]=E;c[2]=P;c[3]=R;c[4]=N;c[5]=l};e.expandWithOffset=function(c,n,b,h){c[0]=Math.min(c[0],c[0]+n);c[3]=Math.max(c[3],c[3]+n);c[1]=Math.min(c[1],c[1]+b);c[4]=Math.max(c[4],c[4]+b);c[2]=Math.min(c[2],c[2]+h);c[5]=Math.max(c[5],c[5]+h)};e.expandWithRect=function(c,n){c[0]=Math.min(c[0],n[0]);c[1]=Math.min(c[1],n[1]);c[3]=Math.max(c[3],n[2]);c[4]=Math.max(c[4],n[3])};e.expandWithVec3=function(c,n){c[0]=Math.min(c[0],n[0]);c[1]=Math.min(c[1],n[1]);c[2]=Math.min(c[2],n[2]);c[3]=Math.max(c[3],
n[0]);c[4]=Math.max(c[4],n[1]);c[5]=Math.max(c[5],n[2])};e.fromExtent=function(c,n=z()){n[0]=c.xmin;n[1]=c.ymin;n[2]=c.hasZ?c.zmin:-Infinity;n[3]=c.xmax;n[4]=c.ymax;n[5]=c.hasZ?c.zmax:Infinity;return n};e.fromMinMax=function(c,n,b=z()){b[0]=c[0];b[1]=c[1];b[2]=c[2];b[3]=n[0];b[4]=n[1];b[5]=n[2];return b};e.fromRect=function(c,n){c[0]=n[0];c[1]=n[1];c[2]=Number.NEGATIVE_INFINITY;c[3]=n[2];c[4]=n[3];c[5]=Number.POSITIVE_INFINITY;return c};e.fromRectValues=function(c,n,b,h,u){c[0]=n;c[1]=b;c[2]=Number.NEGATIVE_INFINITY;
c[3]=h;c[4]=u;c[5]=Number.POSITIVE_INFINITY;return c};e.fromValues=H;e.getMax=function(c,n){n[0]=c[3];n[1]=c[4];n[2]=c[5];return n};e.getMin=function(c,n){n[0]=c[0];n[1]=c[1];n[2]=c[2];return n};e.height=O;e.intersects=p;e.intersectsClippingArea=function(c,n){return null==n?!0:p(c,n)};e.is=F;e.isPoint=function(c){return 0===M(c)&&0===K(c)&&0===O(c)};e.maximumDimension=function(c){return Math.max(M(c),O(c),K(c))};e.negativeInfinity=Q;e.offset=function(c,n,b,h,u=c){u[0]=c[0]+n;u[1]=c[1]+b;u[2]=c[2]+
h;u[3]=c[3]+n;u[4]=c[4]+b;u[5]=c[5]+h;return u};e.positiveInfinity=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];e.scale=function(c,n,b=c){const h=c[0]+M(c)/2,u=c[1]+K(c)/2,E=c[2]+O(c)/2;b[0]=h+(c[0]-h)*n;b[1]=u+(c[1]-u)*n;b[2]=E+(c[2]-E)*n;b[3]=h+(c[3]-h)*n;b[4]=u+(c[4]-u)*n;b[5]=E+(c[5]-E)*n;return b};e.set=v;e.setMax=function(c,n,b=c){b[3]=n[0];b[4]=n[1];b[5]=n[2];b!==c&&(b[0]=c[0],b[1]=c[1],b[2]=c[2]);return c};e.setMin=function(c,n,b=c){b[0]=n[0];b[1]=n[1];b[2]=n[2];b!==c&&(b[3]=
c[3],b[4]=c[4],b[5]=c[5]);return b};e.size=function(c,n=[0,0,0]){n[0]=M(c);n[1]=K(c);n[2]=O(c);return n};e.toExtent=function(c,n){return isFinite(c[2])||isFinite(c[5])?new w({xmin:c[0],xmax:c[3],ymin:c[1],ymax:c[4],zmin:c[2],zmax:c[5],spatialReference:n}):new w({xmin:c[0],xmax:c[3],ymin:c[1],ymax:c[4],spatialReference:n})};e.toRect=function(c,n){n||(n=B.create());n[0]=c[0];n[1]=c[1];n[2]=c[3];n[3]=c[4];return n};e.width=M;e.wrap=function(c,n,b,h,u,E){return H(c,n,b,h,u,E,U)};e.zero=S;Object.defineProperty(e,
Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/quantizationUtils":function(){define(["exports","./jsonUtils"],function(e,w){function B({scale:f,translate:m},r){return Math.round((r-m[0])/f[0])}function z({scale:f,translate:m},r){return Math.round((m[1]-r)/f[1])}function H(f,m,r){const D=[];let I,V,ca,ba;for(let da=0;da<r.length;da++){const ea=r[da];if(0<da){if(ca=B(f,ea[0]),ba=z(f,ea[1]),ca!==I||ba!==V)D.push(m(ea,ca-I,ba-V)),I=ca,V=ba}else I=B(f,ea[0]),V=z(f,ea[1]),D.push(m(ea,I,
V))}return 0<D.length?D:null}function M(f,m,r,D){return H(f,r?D?y:l:D?l:N,m)}function K(f,m,r,D){const I=[];r=r?D?y:l:D?l:N;for(D=0;D<m.length;D++){const V=H(f,r,m[D]);V&&3<=V.length&&I.push(V)}return I.length?I:null}function O(f,m,r,D){const I=[];r=r?D?y:l:D?l:N;for(D=0;D<m.length;D++){const V=H(f,r,m[D]);V&&2<=V.length&&I.push(V)}return I.length?I:null}function p({scale:f,translate:m},r){return r*f[0]+m[0]}function v({scale:f,translate:m},r){return m[1]-r*f[1]}function F(f,m,r){const D=Array(r.length);
if(!r.length)return D;const [I,V]=f.scale;let ca=p(f,r[0][0]);f=v(f,r[0][1]);D[0]=m(r[0],ca,f);for(let ba=1;ba<r.length;ba++){const da=r[ba];ca+=da[0]*I;f-=da[1]*V;D[ba]=m(da,ca,f)}return D}function Q(f,m,r){const D=Array(r.length);for(let I=0;I<r.length;I++)D[I]=F(f,m,r[I]);return D}function S(f,m,r,D){return F(f,r?D?y:l:D?l:N,m)}function U(f,m,r,D){return Q(f,r?D?y:l:D?l:N,m)}function c(f,m,r,D){return Q(f,r?D?y:l:D?l:N,m)}function n(f,m,r){let [D,I]=r[0],V=Math.min(D,m[0]),ca=Math.min(I,m[1]),
ba=Math.max(D,m[2]);m=Math.max(I,m[3]);for(let da=1;da<r.length;da++){const [ea,ja]=r[da];D+=ea;I+=ja;0>ea&&(V=Math.min(V,D));0<ea&&(ba=Math.max(ba,D));0>ja?ca=Math.min(ca,I):0<ja&&(m=Math.max(m,I))}f[0]=V;f[1]=ca;f[2]=ba;f[3]=m;return f}function b(f,m){if(!m.length)return null;f[0]=f[1]=Number.POSITIVE_INFINITY;f[2]=f[3]=Number.NEGATIVE_INFINITY;for(let r=0;r<m.length;r++)n(f,f,m[r]);return f}function h(f,m,r,D,I){m.xmin=B(f,r.xmin);m.ymin=z(f,r.ymin);m.xmax=B(f,r.xmax);m.ymax=z(f,r.ymax);m!==r&&
(D&&(m.zmin=r.zmin,m.zmax=r.zmax),I&&(m.mmin=r.mmin,m.mmax=r.mmax));return m}function u(f,m,r,D,I){m.points=M(f,r.points,D,I)??[];return m}function E(f,m,r,D,I){m.x=B(f,r.x);m.y=z(f,r.y);m!==r&&(D&&(m.z=r.z),I&&(m.m=r.m));return m}function P(f,m,r,D,I){f=K(f,r.rings,D,I);if(!f)return null;m.rings=f;return m}function R(f,m,r,D,I){f=O(f,r.paths,D,I);if(!f)return null;m.paths=f;return m}const N=(f,m,r)=>[m,r],l=(f,m,r)=>[m,r,f[2]],y=(f,m,r)=>[m,r,f[2],f[3]];e.equals=function(f,m){if(f===m||null==f&&
null==m)return!0;if(null==f||null==m)return!1;let r,D,I,V;f&&"upperLeft"===f.originPosition?(r=f.translate[0],D=f.translate[1],f=f.scale[0]):(r=null!=f.extent?f.extent.xmin:0,D=null!=f.extent?f.extent.ymax:0,f=f.tolerance);m&&"upperLeft"===m.originPosition?(I=m.translate[0],V=m.translate[1],m=m.scale[0]):(I=null!=m.extent?m.extent.xmin:0,V=null!=m.extent?m.extent.ymax:0,m=m.tolerance);return r===I&&D===V&&f===m};e.getQuantizedBoundsCoordsArray=n;e.getQuantizedBoundsCoordsArrayArray=b;e.getQuantizedBoundsPaths=
function(f){return b([0,0,0,0],f)};e.getQuantizedBoundsPoints=function(f){const m=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return n(m,m,f)};e.getQuantizedBoundsRings=function(f){return b([0,0,0,0],f)};e.quantizeBounds=function(f,m,r){m[0]=B(f,r[0]);m[3]=z(f,r[1]);m[2]=B(f,r[2]);m[1]=z(f,r[3]);return m};e.quantizeExtent=h;e.quantizeGeometry=function(f,m){return f&&m?w.isPoint(m)?E(f,{},m,!1,!1):w.isPolyline(m)?R(f,{},m,!1,!1):w.isPolygon(m)?
P(f,{},m,!1,!1):w.isMultipoint(m)?u(f,{},m,!1,!1):w.isExtent(m)?h(f,{},m,!1,!1):null:null};e.quantizeMultipoint=u;e.quantizePaths=O;e.quantizePoint=E;e.quantizePoints=M;e.quantizePolygon=P;e.quantizePolyline=R;e.quantizeRings=K;e.quantizeX=B;e.quantizeY=z;e.toQuantizationTransform=function(f){return f?{originPosition:"upper-left"===f.originPosition?"upperLeft":"lower-left"===f.originPosition?"lowerLeft":f.originPosition,scale:f.tolerance?[f.tolerance,f.tolerance]:[1,1],translate:null!=f.extent?[f.extent.xmin,
f.extent.ymax]:[0,0]}:null};e.unquantizeBounds=function(f,m,r){return r?(m[0]=p(f,r[0]),m[1]=v(f,r[3]),m[2]=p(f,r[2]),m[3]=v(f,r[1]),m):[p(f,m[0]),v(f,m[3]),p(f,m[2]),v(f,m[1])]};e.unquantizeCoordsArray=F;e.unquantizeCoordsArrayArray=Q;e.unquantizeExtent=function(f,m,r,D,I){m.xmin=p(f,r.xmin);m.ymin=v(f,r.ymin);m.xmax=p(f,r.xmax);m.ymax=v(f,r.ymax);m!==r&&(D&&(m.zmin=r.zmin,m.zmax=r.zmax),I&&(m.mmin=r.mmin,m.mmax=r.mmax));return m};e.unquantizeMultipoint=function(f,m,r,D,I){null!=r&&(m.points=S(f,
r.points,D,I));return m};e.unquantizePaths=U;e.unquantizePoint=function(f,m,r,D,I){if(null==r)return m;m.x=p(f,r.x);m.y=v(f,r.y);m!==r&&(D&&(m.z=r.z),I&&(m.m=r.m));return m};e.unquantizePoints=S;e.unquantizePolygon=function(f,m,r,D,I){null!=r&&(m.rings=c(f,r.rings,D,I));return m};e.unquantizePolyline=function(f,m,r,D,I){null!=r&&(m.paths=U(f,r.paths,D,I));return m};e.unquantizeRings=c;e.unquantizeX=p;e.unquantizeY=v;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Field":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(e,w,B,z,H,M,K,O,p,v,F,Q){var S;const U=new w.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});w=S=class extends B.JSONSupport{constructor(c){super(c);
this.alias=null;this.defaultValue=void 0;this.domain=this.description=null;this.editable=!0;this.length=void 0;this.name=null;this.nullable=!0;this.valueType=this.type=null;this.visible=!0}readDescription(c,{description:n}){c=null;try{c=n?JSON.parse(n):null}catch(b){}return c?.value??null}readValueType(c,{description:n}){c=null;try{c=n?JSON.parse(n):null}catch(b){}return c?U.fromJSON(c.fieldValueType):null}clone(){return new S({alias:this.alias,defaultValue:this.defaultValue,description:this.description,
domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};e.__decorate([z.property({type:String,json:{write:!0}})],w.prototype,"alias",void 0);e.__decorate([z.property({type:[String,Number],json:{write:{allowNull:!0}}})],w.prototype,"defaultValue",void 0);e.__decorate([z.property()],w.prototype,"description",void 0);e.__decorate([p.reader("description")],w.prototype,
"readDescription",null);e.__decorate([z.property({types:F.types,json:{read:{reader:F.fromJSON},write:!0}})],w.prototype,"domain",void 0);e.__decorate([z.property({type:Boolean,json:{write:!0}})],w.prototype,"editable",void 0);e.__decorate([z.property({type:H.Integer,json:{write:{overridePolicy(c){return{enabled:Number.isFinite(c)}}}}})],w.prototype,"length",void 0);e.__decorate([z.property({type:String,json:{write:!0}})],w.prototype,"name",void 0);e.__decorate([z.property({type:Boolean,json:{write:!0}})],
w.prototype,"nullable",void 0);e.__decorate([O.enumeration(Q.kebabDict)],w.prototype,"type",void 0);e.__decorate([z.property()],w.prototype,"valueType",void 0);e.__decorate([p.reader("valueType",["description"])],w.prototype,"readValueType",null);e.__decorate([z.property({type:Boolean,json:{read:!1}})],w.prototype,"visible",void 0);return w=S=e.__decorate([v.subclass("esri.layers.support.Field")],w)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap",
"./property"],function(e,w,B){e.enumeration=function(z,H={}){z=z instanceof w.JSONMap?z:new w.JSONMap(z,H);z={type:H?.ignoreUnknown??!0?z.apiValues:String,json:{type:z.jsonValues,read:H?.readOnly?!1:{reader:z.read},write:{writer:z.write}}};void 0!==H?.readOnly&&(z.readOnly=!!H.readOnly);void 0!==H?.default&&(z.json.default=H.default);void 0!==H?.name&&(z.json.name=H.name);void 0!==H?.nonNullable&&(z.nonNullable=H.nonNullable);return B.property(z)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(e,w,B,z,H,M){w={key:"type",base:z,typeMap:{range:M,"coded-value":B,inherited:H}};e.CodedValueDomain=B;e.DomainBase=z;e.InheritedDomain=H;e.RangeDomain=M;e.fromJSON=function(K){if(!K?.type)return null;switch(K.type){case "range":return M.fromJSON(K);case "codedValue":return B.fromJSON(K);case "inherited":return H.fromJSON(K)}return null};e.types=w;
Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),function(e,w,B,z,H,M,K,O){var p;z=p=class extends O{constructor(v){super(v);this.codedValues=null;this.type="coded-value"}getName(v){let F=
null;if(this.codedValues){const Q=String(v);this.codedValues.some(S=>{String(S.code)===Q&&(F=S.name);return!!F})}return F}clone(){return new p({codedValues:w.clone(this.codedValues),name:this.name})}};e.__decorate([B.property({type:[K.CodedValue],json:{write:!0}})],z.prototype,"codedValues",void 0);e.__decorate([H.enumeration({codedValue:"coded-value"})],z.prototype,"type",void 0);return z=p=e.__decorate([M.subclass("esri.layers.support.CodedValueDomain")],z)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/subclass".split(" "),
function(e,w,B,z,H,M,K,O){var p;e.CodedValue=p=class extends B.JSONSupport{constructor(v){super(v);this.code=this.name=null}clone(){return new p({name:this.name,code:this.code})}};w.__decorate([z.property({type:String,json:{write:!0}})],e.CodedValue.prototype,"name",void 0);w.__decorate([z.property({type:[String,Number],json:{write:!0}})],e.CodedValue.prototype,"code",void 0);e.CodedValue=p=w.__decorate([O.subclass("esri.layers.support.CodedValue")],e.CodedValue);Object.defineProperty(e,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/support/Domain":function(){define("../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(e,w,B,z,H,M,K,O,p){w=new w.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});B=class extends B.JSONSupport{constructor(v){super(v);
this.type=this.name=null}};e.__decorate([z.property({type:String,json:{write:!0}})],B.prototype,"name",void 0);e.__decorate([O.enumeration(w)],B.prototype,"type",void 0);return B=e.__decorate([p.subclass("esri.layers.support.Domain")],B)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/Error ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(e,w,B,z,H,M,K,O,p){var v;w=v=class extends p{constructor(F){super(F);this.type="inherited"}clone(){return new v}};e.__decorate([K.enumeration({inherited:"inherited"})],w.prototype,"type",void 0);return w=v=e.__decorate([O.subclass("esri.layers.support.InheritedDomain")],w)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(e,w,B,z,H,M,K,O){var p;B=p=class extends O{constructor(v){super(v);this.minValue=this.maxValue=null;this.type="range"}clone(){return new p({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};e.__decorate([w.property({json:{type:[Number],read:{source:"range",reader(v,F){return F.range?.[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(v,F,Q){F[Q]=[this.minValue||0,v]}}}})],B.prototype,"maxValue",void 0);e.__decorate([w.property({json:{type:[Number],
read:{source:"range",reader(v,F){return F.range?.[0]}},write:{target:"range",writer(v,F,Q){F[Q]=[v,this.maxValue||0]}}}})],B.prototype,"minValue",void 0);e.__decorate([M.enumeration({range:"range"})],B.prototype,"type",void 0);return B=p=e.__decorate([K.subclass("esri.layers.support.RangeDomain")],B)})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],function(e,w){w=new w.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",
esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});e.kebabDict=w;Object.defineProperty(e,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["exports","../../core/has","../../geometry/support/spatialReferenceUtils"],function(e,w,B){function z(p,v){if(p===v)return!0;if(null==p||null==v||p.length!==v.length)return!1;for(let F=0;F<p.length;F++){const Q=p[F],S=v[F];if(Q.length!==S.length)return!1;for(let U=0;U<Q.length;U++)if(Q[U]!==S[U])return!1}return!0}function H(p,v){if(p===v)return!0;if(null==p||null==v||p.length!==v.length)return!1;for(let F=0;F<
p.length;F++)if(!z(p[F],v[F]))return!1;return!0}function M(p,v){return p===v||null!=p&&null!=v&&B.equals(p.spatialReference,v.spatialReference)&&p.x===v.x&&p.y===v.y&&p.z===v.z&&p.m===v.m}function K(p,v){if(p===v)return!0;if(null==p||null==v||p.type!==v.type)return!1;switch(p.type){case "point":return M(p,v);case "extent":return p=p.hasZ!==v.hasZ||p.hasM!==v.hasM?!1:B.equals(p.spatialReference,v.spatialReference)?p.xmin===v.xmin&&p.ymin===v.ymin&&p.zmin===v.zmin&&p.xmax===v.xmax&&p.ymax===v.ymax&&
p.zmax===v.zmax:!1,p;case "polyline":return p=p.hasZ!==v.hasZ||p.hasM!==v.hasM?!1:B.equals(p.spatialReference,v.spatialReference)?H(p.paths,v.paths):!1,p;case "polygon":return p=p.hasZ!==v.hasZ||p.hasM!==v.hasM?!1:B.equals(p.spatialReference,v.spatialReference)?H(p.rings,v.rings):!1,p;case "multipoint":return p=p.hasZ!==v.hasZ||p.hasM!==v.hasM?!1:B.equals(p.spatialReference,v.spatialReference)?z(p.points,v.points):!1,p;case "mesh":return!1}}function O(p,v){if(p===v)return!0;if(!p||!v)return!1;const F=
Object.keys(p),Q=Object.keys(v);if(F.length!==Q.length)return!1;for(const S of F)if(p[S]!==v[S])return!1;return!0}e.equals=function(p,v){return p===v?!0:null!=p&&null!=v&&p.objectId===v.objectId&&K(p.geometry,v.geometry)&&O(p.attributes,v.attributes)?!0:!1};e.pointEquals=M;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(e,w,B,z,H,M,K,O,p,v){function F(a,d){return a?d?4:3:d?3:2}function Q(a,d,g,k){if(a){if(g)return d&&k?wa:ta;if(d&&k)return xa}else if(d&&k)return ta;return ya}function S({scale:a,translate:d},g){return Math.round((g-d[0])/a[0])}function U({scale:a,translate:d},g){return Math.round((d[1]-g)/a[1])}function c({scale:a,translate:d},g,k){return g*a[k]+d[k]}function n(a){a=a.coords;return{x:a[0],y:a[1]}}function b(a,d){a.coords[0]=d.x;a.coords[1]=d.y;return a}function h(a){a=a.coords;return{x:a[0],
y:a[1],z:a[2]}}function u(a,d){a.coords[0]=d.x;a.coords[1]=d.y;a.coords[2]=d.z;return a}function E(a){a=a.coords;return{x:a[0],y:a[1],m:a[2]}}function P(a,d){a.coords[0]=d.x;a.coords[1]=d.y;a.coords[2]=d.m;return a}function R(a){a=a.coords;return{x:a[0],y:a[1],z:a[2],m:a[3]}}function N(a,d){a.coords[0]=d.x;a.coords[1]=d.y;a.coords[2]=d.z;a.coords[3]=d.m;return a}function l(a,d){return a&&d?N:a?u:d?P:b}function y(a,d,g,k,q){g=l(g,k);for(const {geometry:t,attributes:x}of d)d=null!=t?g(new v,t):null,
a.push(new O.OptimizedFeature(d,x,null,q?x[q]:void 0));return a}function f(a,d,g,k){for(const {geometry:q,attributes:t}of d)a.push({attributes:t,geometry:null!=q?m(q,g,k):null});return a}function m(a,d,g){if(null==a)return null;const k=F(d,g),q=[];for(let t=0;t<a.coords.length;t+=k){const x=[];for(let A=0;A<k;A++)x.push(a.coords[t+A]);q.push(x)}return d?g?{points:q,hasZ:d,hasM:g}:{points:q,hasZ:d}:g?{points:q,hasM:g}:{points:q}}function r(a,d,g,k,q){g=F(g,k);for(const {geometry:t,attributes:x}of d)d=
null!=t?D(new v,t,g):null,a.push(new O.OptimizedFeature(d,x,null,q?x[q]:void 0));return a}function D(a,d,g=F(d.hasZ,d.hasM)){a.lengths[0]=d.points.length;const k=a.coords;let q=0;for(const t of d.points)for(d=0;d<g;d++)k[q++]=t[d];return a}function I(a,d,g){if(!a)return null;const k=F(d,g),{coords:q,lengths:t}=a;a=[];let x=0;for(const A of t){const C=[];for(let J=0;J<A;J++){const G=[];for(let L=0;L<k;L++)G.push(q[x++]);C.push(G)}a.push(C)}return d?g?{paths:a,hasZ:d,hasM:g}:{paths:a,hasZ:d}:g?{paths:a,
hasM:g}:{paths:a}}function V(a,d,g,k,q){g=F(g,k);for(const {geometry:t,attributes:x}of d)d=null!=t?ca(new v,t,g):null,a.push(new O.OptimizedFeature(d,x,null,q?x[q]:void 0));return a}function ca(a,d,g=F(d.hasZ,d.hasM)){const {lengths:k,coords:q}=a;let t=0;for(const x of d.paths){for(const A of x)for(d=0;d<g;d++)q[t++]=A[d];k.push(x.length)}return a}function ba(a,d,g){if(!a)return null;const k=F(d,g),{coords:q,lengths:t}=a;a=[];let x=0;for(const A of t){const C=[];for(let J=0;J<A;J++){const G=[];for(let L=
0;L<k;L++)G.push(q[x++]);C.push(G)}a.push(C)}return d?g?{rings:a,hasZ:d,hasM:g}:{rings:a,hasZ:d}:g?{rings:a,hasM:g}:{rings:a}}function da(a,d,g,k,q){for(const {geometry:t,centroid:x,attributes:A}of d){d=null!=t?ea(new v,t,g,k):null;const C=q?A[q]:void 0;null!=x?a.push(new O.OptimizedFeature(d,A,b(new v,x),C)):a.push(new O.OptimizedFeature(d,A,null,C))}return a}function ea(a,d,g=d.hasZ,k=d.hasM){return ja(a,d.rings,g,k)}function ja(a,d,g,k){g=F(g,k);const {lengths:q,coords:t}=a;k=0;ha(a);for(const x of d){for(const A of x)for(d=
0;d<g;d++)t[k++]=A[d];q.push(x.length)}return a}function na(a,d,g,k,q,t){fa(a);if(!g){for(const x of d)a.push(new O.OptimizedFeature(null,x.attributes,null,t?x.attributes[t]:void 0));return a}switch(g){case "esriGeometryPoint":return y(a,d,k,q,t);case "esriGeometryMultipoint":return r(a,d,k,q,t);case "esriGeometryPolyline":return V(a,d,k,q,t);case "esriGeometryPolygon":return da(a,d,k,q,t);default:ka.error("convertToFeatureSet:unknown-geometry",new w(`Unable to parse unknown geometry type '${g}'`)),
fa(a)}return a}function ua(a,d,g,k){a=a&&("coords"in a?a:a.geometry);if(null==a)return null;switch(d){case "esriGeometryPoint":return d=n,g&&k?d=R:g?d=h:k&&(d=E),d(a);case "esriGeometryMultipoint":return m(a,g,k);case "esriGeometryPolyline":return I(a,g,k);case "esriGeometryPolygon":return ba(a,g,k);default:return ka.error("convertToGeometry:unknown-geometry",new w(`Unable to parse unknown geometry type '${d}'`)),null}}function oa(a,d,g,k,q){fa(a);if(null==g){for(const x of d)a.push({attributes:x.attributes});
return a}switch(g){case "esriGeometryPoint":g=n;k&&q?g=R:k?g=h:q&&(g=E);for(var t of d){const {geometry:x,attributes:A}=t;k=null!=x?g(x):null;a.push({attributes:A,geometry:k})}break;case "esriGeometryMultipoint":return f(a,d,k,q);case "esriGeometryPolyline":for(const {geometry:x,attributes:A}of d)a.push({attributes:A,geometry:null!=x?I(x,k,q):null});break;case "esriGeometryPolygon":for(const {geometry:x,attributes:A,centroid:C}of d)t=null!=x?ba(x,k,q):null,null!=C?(d=n(C),a.push({attributes:A,centroid:d,
geometry:t})):a.push({attributes:A,geometry:t});break;default:ka.error("convertToFeatureSet:unknown-geometry",new w(`Unable to parse unknown geometry type '${g}'`))}return a}function pa(a,d,g,k,q,t,x=g,A=k){ha(a);if(!d?.coords.length)return null;q=qa[q];const {coords:C,lengths:J}=d;d=F(g,k);const G=F(g&&x,k&&A);g=Q(g,k,x,A);if(!J.length)return g(a.coords,C,0,0,S(t,C[0]),U(t,C[1])),ha(a,d,0),a;let L,T=0,W,Y=0;for(const Z of J){if(Z<q)continue;let X=0;W=Y;A=k=S(t,C[T]);L=x=U(t,C[T+1]);g(a.coords,C,
W,T,A,L);X++;T+=d;W+=G;for(let aa=1;aa<Z;aa++,T+=d)if(A=S(t,C[T]),L=U(t,C[T+1]),A!==k||L!==x)g(a.coords,C,W,T,A-k,L-x),W+=G,X++,k=A,x=L;X>=q&&(a.lengths.push(X),Y=W)}fa(a.coords,Y);return a.coords.length?a:null}function ra(a,d,g,k,q,t,x){let A=k,C=0;for(let G=t+g;G<x;G+=g){var J=d[G];const L=d[G+1],T=d[x],W=d[x+1];let Y=d[t],Z=d[t+1],X=T-Y,aa=W-Z;if(0!==X||0!==aa){const ia=((J-Y)*X+(L-Z)*aa)/(X*X+aa*aa);1<ia?(Y=T,Z=W):0<ia&&(Y+=X*ia,Z+=aa*ia)}X=J-Y;aa=L-Z;J=X*X+aa*aa;J>A&&(C=G,A=J)}A>k&&(C-t>g&&ra(a,
d,g,k,q,t,C),q(a,d,a.length,C,d[C],d[C+1]),x-C>g&&ra(a,d,g,k,q,C,x))}function sa(a,d,g,k,q){const {coords:t,lengths:x}=d;g=F(g,k);if(!t.length)return a!==d&&ha(a),a;z.assertIsSome(q);const {originPosition:A,scale:C,translate:J}=q;q=za;q.originPosition=A;k=q.scale;k[0]=C[0]??1;k[1]=-(C[1]??1);k[2]=C[2]??1;k[3]=C[3]??1;var G=q.translate;G[0]=J[0]??0;G[1]=J[1]??0;G[2]=J[2]??0;G[3]=J[3]??0;if(!x.length){for(k=0;k<g;++k)a.coords[k]=c(q,t[k],k);a!==d&&ha(a,g,0);return a}G=0;for(let T=0;T<x.length;T++){const W=
x[T];a.lengths[T]=W;for(var L=0;L<g;++L)a.coords[G+L]=c(q,t[G+L],L);L=a.coords[G];let Y=a.coords[G+1];G+=g;for(let Z=1;Z<W;Z++,G+=g){L+=t[G]*k[0];Y+=t[G+1]*k[1];a.coords[G]=L;a.coords[G+1]=Y;for(let X=2;X<g;++X)a.coords[G+X]=c(q,t[G+X],X)}}a!==d&&ha(a,t.length,x.length);return a}function va(a,d,g,k){let q=0,t=a[k*d],x=a[k*(d+1)];for(let A=1;A<g;A++){const C=t+a[k*(d+A)],J=x+a[k*(d+A)+1],G=(C-t)*(J+x);t=C;x=J;q+=G}return.5*q}function ha(a,d=0,g=0){fa(a.lengths,g);fa(a.coords,d)}function fa(a,d=0){a.length!==
d&&(a.length=d)}const ka=B.getLogger("esri.layers.graphics.featureConversionUtils"),qa={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0,esriGeometryEnvelope:0},ya=(a,d,g,k,q,t)=>{a[g]=q;a[g+1]=t},ta=(a,d,g,k,q,t)=>{a[g]=q;a[g+1]=t;a[g+2]=d[k+2]},xa=(a,d,g,k,q,t)=>{a[g]=q;a[g+1]=t;a[g+2]=d[k+3]},wa=(a,d,g,k,q,t)=>{a[g]=q;a[g+1]=t;a[g+2]=d[k+2];a[g+3]=d[k+3]},la=[],ma=[],za={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]};e.convertFromFeature=
function(a,d,g,k,q){la[0]=a;[a]=na(ma,la,d,g,k,q);fa(la);fa(ma);return a};e.convertFromFeatureSet=function(a,d){const g=new p,{hasM:k,hasZ:q,features:t,objectIdFieldName:x,spatialReference:A,geometryType:C,exceededTransferLimit:J,transform:G,fields:L}=a;L&&(g.fields=L);g.geometryType=C??null;g.objectIdFieldName=x??d??null;g.spatialReference=A??null;if(!g.objectIdFieldName)return ka.error(new w("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),g;t&&na(g.features,t,C,q,
k,g.objectIdFieldName);J&&(g.exceededTransferLimit=J);k&&(g.hasM=k);q&&(g.hasZ=q);G&&(g.transform=G);return g};e.convertFromFeatures=na;e.convertFromGeometry=function(a,d,g){if(null==a)return null;const k=new v;"hasZ"in a&&null==d&&(d=a.hasZ);"hasM"in a&&null==g&&(g=a.hasM);if(K.isPoint(a))return l(null!=d?d:null!=a.z,null!=g?g:null!=a.m)(k,a);if(K.isPolygon(a))return ea(k,a,d,g);if(K.isPolyline(a))return ca(k,a,F(d,g));if(K.isMultipoint(a))return D(k,a,F(d,g));ka.error("convertFromGeometry:unknown-geometry",
new w(`Unable to parse unknown geometry type '${a}'`))};e.convertFromGraphics=function(a,d,g,k,q,t){const x=a.length;switch(g){case "esriGeometryPoint":y(a,d,k,q,t);break;case "esriGeometryMultipoint":r(a,d,k,q,t);break;case "esriGeometryPolyline":V(a,d,k,q,t);break;case "esriGeometryPolygon":da(a,d,k,q,t);break;default:ka.error("convertToFeatureSet:unknown-geometry",new w(`Unable to parse unknown geometry type '${g}'`))}for(k=0;k<d.length;k++)a[k+x].geometryType=g,a[k+x].insertAfter=d[k].insertAfter,
a[k+x].groupId=d[k].groupId;return a};e.convertFromMultipoint=D;e.convertFromMultipointFeatures=r;e.convertFromNestedArray=ja;e.convertFromPoint=function(a,d,g=l(null!=d.z,null!=d.m)){return g(a,d)};e.convertFromPointFeatures=y;e.convertFromPolygon=ea;e.convertFromPolyline=ca;e.convertFromPolylineFeatures=V;e.convertToFeature=function(a,d,g,k){ma[0]=a;oa(la,ma,d,g,k);a=la[0];fa(la);fa(ma);return a};e.convertToFeatureSet=function(a){const {objectIdFieldName:d,spatialReference:g,transform:k,fields:q,
hasM:t,hasZ:x,features:A,geometryType:C,exceededTransferLimit:J,uniqueIdField:G,queryGeometry:L,queryGeometryType:T}=a;a=oa([],A,C,x,t);const W=ua(L,T,!1,!1);a={features:a,fields:q,geometryType:C,objectIdFieldName:d,spatialReference:g,uniqueIdField:G,queryGeometry:W};k&&(a.transform=k);J&&(a.exceededTransferLimit=J);t&&(a.hasM=t);x&&(a.hasZ=x);return a};e.convertToFeatures=oa;e.convertToGeometry=ua;e.convertToMultipoint=m;e.convertToMultipointFeatures=f;e.convertToPoint=function(a,d,g){return a?d?
g?R(a):h(a):g?E(a):n(a):null};e.convertToPolygon=ba;e.convertToPolyline=I;e.deltaDecodeGeometry=function(a,d){if(null==a)return null;const g=a.clone(),k=a.coords;a=a.lengths;let q=0;for(let A=0;A<a.length;A++){const C=a[A];var t=k[d*q],x=k[d*q+1];for(let J=1;J<C;J++)t+=k[d*(q+J)],x+=k[d*(q+J)+1],g.coords[d*(q+J)]=t,g.coords[d*(q+J)+1]=x;q+=C}return g};e.deltaEncodeGeometry=function(a,d){const g=a.clone(),k=a.coords;a=a.lengths;let q=0;for(let x=0;x<a.length;x++){const A=a[x];let C=k[d*q];var t=k[d*
q+1];for(let J=1;J<A;J++){const G=k[d*(q+J)],L=k[d*(q+J)+1];t=L-t;g.coords[d*(q+J)]=G-C;g.coords[d*(q+J)+1]=t;C=G;t=L}q+=A}return g};e.generalizeOptimizedGeometry=function(a,d,g,k,q,t,x=g,A=k){ha(a);if(!d?.coords.length)return null;q=qa[q];const {coords:C,lengths:J}=d;d=F(g,k);const G=F(g&&x,k&&A);g=Q(g,k,x,A);if(!J.length)return g(a.coords,C,0,0,C[0],C[1]),ha(a,d,0),a;k=0;t*=t;for(const L of J){if(L<q){k+=L*d;continue}x=a.coords.length/G;A=k;const T=k+(L-1)*d;g(a.coords,C,a.coords.length,A,C[A],
C[A+1]);ra(a.coords,C,d,t,g,A,T);g(a.coords,C,a.coords.length,T,C[T],C[T+1]);A=a.coords.length/G-x;A>=q?a.lengths.push(A):fa(a.coords,x*G);k+=L*d}return a.coords.length?a:null};e.getBoundsOptimizedGeometry=function(a,d,g,k){if(!d?.coords?.length)return null;g=F(g,k);let q=k=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY,x=Number.NEGATIVE_INFINITY;if(d&&d.coords){d=d.coords;for(let A=0;A<d.length;A+=g){const C=d[A],J=d[A+1];k=Math.min(k,C);t=Math.max(t,C);q=Math.min(q,J);x=Math.max(x,J)}}H.is(a)?
H.fromRectValues(a,k,q,t,x):M.fromValues(k,q,t,x,a);return a};e.getQuantizedArea=function(a,d){const {coords:g,lengths:k}=a;let q=a=0;for(let t=0;t<k.length;t++){const x=k[t];q+=va(g,a,x,d);a+=x}return Math.abs(q)};e.getQuantizedBoundsOptimizedGeometry=function(a,d,g,k){g=F(g,k);const {lengths:q,coords:t}=d;k=d=Number.POSITIVE_INFINITY;let x=Number.NEGATIVE_INFINITY,A=Number.NEGATIVE_INFINITY,C=0;for(const J of q){let G=t[C],L=t[C+1];d=Math.min(G,d);k=Math.min(L,k);x=Math.max(G,x);A=Math.max(L,A);
C+=g;for(let T=1;T<J;T++,C+=g){const W=t[C],Y=t[C+1];G+=W;L+=Y;0>W&&(d=Math.min(d,G));0<W&&(x=Math.max(x,G));0>Y?k=Math.min(k,L):0<Y&&(A=Math.max(A,L))}}a[0]=d;a[1]=k;a[2]=x;a[3]=A;return a};e.getSignedQuantizedRingArea=va;e.quantizeOptimizedFeatureSet=function(a,d){const {geometryType:g,features:k,hasM:q,hasZ:t}=d;if(!a)return d;for(let x=0;x<k.length;x++){const A=k[x],C=A.weakClone();C.geometry=new v;pa(C.geometry,A.geometry,q,t,g,a);A.centroid&&(C.centroid=new v,pa(C.centroid,A.centroid,q,t,"esriGeometryPoint",
a));k[x]=C}d.transform=a;return d};e.quantizeOptimizedGeometry=pa;e.quantizeX=S;e.quantizeY=U;e.removeCollinearVectices=function(a,d,g,k,q){if(!d?.coords?.length)return null;g=qa[g];const {coords:t,lengths:x}=d;d=Q(k,q,k,q);k=F(k,q);let A=q=0,C=0,J=0;for(const T of x){A=J;d(a.coords,t,A,q,t[q],t[q+1]);q+=k;var G=t[q];let W=t[q+1],Y=G,Z=W;var L=W/G;A+=k;d(a.coords,t,A,q,Y,Z);q+=k;for(let X=2;X<T;X++){G=t[q];W=t[q+1];const aa=W/G,ia=L===aa||!isFinite(L)&&!isFinite(aa);L=ia&&isFinite(aa)?0<=L&&0<=aa||
0>=L&&0>=aa:0<=Z&&0<=W||0>=Z&&0>=W;ia&&L?(Y+=G,Z+=W):(Y=G,Z=W,A+=k);d(a.coords,t,A,q,Y,Z);q+=k;L=aa}A+=k;G=(A-J)/k;G>=g&&(a.lengths[C]=G,J=A,C++)}a.coords.length>J&&(a.coords.length=J);a.lengths.length>C&&(a.lengths.length=C);return a.coords.length&&a.lengths.length?a:null};e.removeZMValues=function(a,d,g,k,q,t){ha(a);a.lengths.push(...d.lengths);if(g===q&&k===t)for(var x=0;x<d.coords.length;x++)a.coords.push(d.coords[x]);else for(x=F(g,k),g=Q(g,k,q,t),d=d.coords,k=0;k<d.length;k+=x)g(a.coords,d,
a.coords.length,k,d[k],d[k+1]);return a};e.unquantizeOptimizedFeatureSet=function(a){const {transform:d,features:g,hasM:k,hasZ:q}=a;if(!d)return a;for(const t of g)null!=t.geometry&&sa(t.geometry,t.geometry,k,q,d),null!=t.centroid&&sa(t.centroid,t.centroid,k,q,d);a.transform=null;return a};e.unquantizeOptimizedGeometry=sa;e.unquantizeValue=c;e.unquantizeX=function(a,d){return c(a,d,0)};e.unquantizeY=function(a,d){return c(a,-d,1)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports"],
function(e){class w{constructor(z=null,H={},M,K){this.geometry=z;this.attributes=H;this.centroid=M;this.objectId=K;this.geohashY=this.geohashX=this.displayId=0}weakClone(){const z=new w(this.geometry,this.attributes,this.centroid,this.objectId);z.displayId=this.displayId;z.geohashX=this.geohashX;z.geohashY=this.geohashY;return z}}class B extends w{}e.OptimizedFeature=w;e.OptimizedFeatureWithGeometry=B;e.hasGeometry=function(z){return!!z.geometry?.coords?.length};Object.defineProperty(e,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){class e{constructor(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}weakClone(){const w=new e;w.objectIdFieldName=this.objectIdFieldName;w.globalIdFieldName=
this.globalIdFieldName;w.geohashFieldName=this.geohashFieldName;w.geometryProperties=this.geometryProperties;w.geometryType=this.geometryType;w.spatialReference=this.spatialReference;w.hasZ=this.hasZ;w.hasM=this.hasM;w.features=this.features;w.fields=this.fields;w.transform=this.transform;w.exceededTransferLimit=this.exceededTransferLimit;w.uniqueIdField=this.uniqueIdField;w.queryGeometry=this.queryGeometry;w.queryGeometryType=this.queryGeometryType;return w}}return e})},"esri/layers/graphics/OptimizedGeometry":function(){define(function(){class e{constructor(w=
[],B=[],z=!1){this.lengths=w??[];this.coords=B??[];this.hasIndeterminateRingOrder=z}static fromRect(w){const [B,z,H,M]=w;w=H-B;const K=M-z;return new e([5],[B,z,w,0,0,K,-w,0,0,-K])}get isPoint(){return 0===this.lengths.length}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((w,B)=>w+B)}forEachVertex(w){let B=0;this.lengths.length||w(this.coords[0],this.coords[1]);for(let z=0;z<this.lengths.length;z++){const H=this.lengths[z];for(let M=0;M<H;M++)w(this.coords[2*
(M+B)],this.coords[2*(M+B)+1]);B+=H}}clone(w){return w?(w.set(this.coords),new e(this.lengths.slice(),w,this.hasIndeterminateRingOrder)):new e(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)}}return e})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(e,w){e.parsePBFFeatureQuery=function(B,z){var H=w.parseFeatureQuery(B,z);B=H.queryResult.featureResult;z=H.queryResult.queryGeometry;H=H.queryResult.queryGeometryType;
if(B&&B.features&&B.features.length&&B.objectIdFieldName){const M=B.objectIdFieldName;for(const K of B.features)K.attributes&&(K.objectId=K.attributes[M])}B&&(B.queryGeometry=z,B.queryGeometryType=H);return B};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define(["exports","../../../core/Error","../../../core/pbf","../../../layers/graphics/OptimizedGeometry","./pbfOptimizedFeatureSet"],function(e,w,B,z,H){function M(l){return l>=
P.length?null:P[l]}function K(l,y,f){l=l.asUnsafe();for(f=y.createPointGeometry(f);l.next();)switch(l.tag()){case 3:var m=l.getUInt32();m=l.pos()+m;let r=0;for(;l.pos()<m;)y.addCoordinatePoint(f,l.getSInt64(),r++);break;default:l.skip()}return f}function O(l,y,f){l=l.asUnsafe();const m=y.createGeometry(f);for(f=2+(f.hasZ?1:0)+(f.hasM?1:0);l.next();)switch(l.tag()){case 2:var r=l.getUInt32();r=l.pos()+r;for(var D=0;l.pos()<r;)y.addLength(m,l.getUInt32(),D++);break;case 3:r=l.getUInt32();r=l.pos()+
r;D=0;for(y.allocateCoordinates(m);l.pos()<r;)y.addCoordinate(m,l.getSInt64(),D),D++,D===f&&(D=0);break;default:l.skip()}return m}function p(l){l=l.asUnsafe();const y=new z;let f="esriGeometryPoint";for(;l.next();)switch(l.tag()){case 2:var m=l.getUInt32();for(m=l.pos()+m;l.pos()<m;)y.lengths.push(l.getUInt32());break;case 3:m=l.getUInt32();for(m=l.pos()+m;l.pos()<m;)y.coords.push(l.getSInt64());break;case 1:f=H.optimizedGeometryTypes[l.getEnum()];break;default:l.skip()}return{queryGeometry:y,queryGeometryType:f}}
function v(l){for(l=l.asUnsafe();l.next();)switch(l.tag()){case 1:return l.getString();case 2:return l.getFloat();case 3:return l.getDouble();case 4:return l.getSInt32();case 5:return l.getUInt32();case 6:return l.getInt64();case 7:return l.getUInt64();case 8:return l.getSInt64();case 9:return l.getBool();default:return l.skip(),null}return null}function F(l){l=l.asUnsafe();const y={type:M(0)};for(;l.next();)switch(l.tag()){case 1:y.name=l.getString();break;case 2:y.type=M(l.getEnum());break;case 3:y.alias=
l.getString();break;case 4:var f=l.getEnum();f=f>=R.length?null:R[f];y.sqlType=f;break;case 5:l.skip();break;case 6:y.defaultValue=l.getString();break;default:l.skip()}return y}function Q(l){const y={};for(l=l.asUnsafe();l.next();)switch(l.tag()){case 1:y.name=l.getString();break;case 2:y.isSystemMaintained=l.getBool();break;default:l.skip()}return y}function S(l,y,f,m){const r=y.createFeature(f);let D=0;for(;l.next();)switch(l.tag()){case 1:const I=m[D++].name;r.attributes[I]=l.processMessage(v);
break;case 2:r.geometry=l.processMessageWithArgs(O,y,f);break;case 4:r.centroid=l.processMessageWithArgs(K,y,f);break;default:l.skip()}return r}function U(l){const y=[1,1,1,1];for(l=l.asUnsafe();l.next();)switch(l.tag()){case 1:y[0]=l.getDouble();break;case 2:y[1]=l.getDouble();break;case 4:y[2]=l.getDouble();break;case 3:y[3]=l.getDouble();break;default:l.skip()}return y}function c(l){const y=[0,0,0,0];for(l=l.asUnsafe();l.next();)switch(l.tag()){case 1:y[0]=l.getDouble();break;case 2:y[1]=l.getDouble();
break;case 4:y[2]=l.getDouble();break;case 3:y[3]=l.getDouble();break;default:l.skip()}return y}function n(l){const y={originPosition:0>=N.length?null:N[0]};for(l=l.asUnsafe();l.next();)switch(l.tag()){case 1:var f=l.getEnum();y.originPosition=f>=N.length?null:N[f];break;case 2:y.scale=l.processMessage(U);break;case 3:y.translate=l.processMessage(c);break;default:l.skip()}return y}function b(l){const y={};for(l=l.asUnsafe();l.next();)switch(l.tag()){case 1:y.shapeAreaFieldName=l.getString();break;
case 2:y.shapeLengthFieldName=l.getString();break;case 3:y.units=l.getString();break;default:l.skip()}return y}function h(l,y){for(y=y.createSpatialReference();l.next();)switch(l.tag()){case 1:y.wkid=l.getUInt32();break;case 5:y.wkt=l.getString();break;case 2:y.latestWkid=l.getUInt32();break;case 3:y.vcsWkid=l.getUInt32();break;case 4:y.latestVcsWkid=l.getUInt32();break;default:l.skip()}return y}function u(l,y){const f=y.createFeatureResult();l=l.asUnsafe();f.geometryType=0>=y.geometryTypes.length?
null:y.geometryTypes[0];let m=!1;for(;l.next();)switch(l.tag()){case 1:f.objectIdFieldName=l.getString();break;case 3:f.globalIdFieldName=l.getString();break;case 4:f.geohashFieldName=l.getString();break;case 5:f.geometryProperties=l.processMessage(b);break;case 7:var r=l.getEnum();f.geometryType=r>=y.geometryTypes.length?null:y.geometryTypes[r];break;case 8:f.spatialReference=l.processMessageWithArgs(h,y);break;case 10:f.hasZ=l.getBool();break;case 11:f.hasM=l.getBool();break;case 12:f.transform=
l.processMessage(n);break;case 9:f.exceededTransferLimit=l.getBool();break;case 13:y.addField(f,l.processMessage(F));break;case 15:m||(y.prepareFeatures(f),m=!0);y.addFeature(f,l.processMessageWithArgs(S,y,f,f.fields));break;case 2:f.uniqueIdField=l.processMessage(Q);break;default:l.skip()}y.finishFeatureResult(f);return f}function E(l,y){const f={};let m=null;for(;l.next();)switch(l.tag()){case 4:m=l.processMessageWithArgs(p);break;case 1:f.featureResult=l.processMessageWithArgs(u,y);break;default:l.skip()}null!=
m&&f.featureResult&&y.addQueryGeometry(f,m);return f}const P="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML esriFieldTypeBigInteger esriFieldTypeDateOnly esriFieldTypeTimeOnly esriFieldTypeTimestampOffset".split(" "),R="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),
N=["upperLeft","lowerLeft"];e.parseFeatureQuery=function(l,y){try{const f=new B(new Uint8Array(l),new DataView(l));for(l={};f.next();)switch(f.tag()){case 2:l.queryResult=f.processMessageWithArgs(E,y);break;default:f.skip()}return l}catch(f){throw new w("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:f});}};e.parseField=F;e.parseFieldType=M;e.parseTransform=n;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(e,w,B,z,H,M){const K=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];class O{constructor(p){this._options=p;this.geometryTypes=K;this._vertexDimension=this._coordinatePtr=0}createFeatureResult(){return new H}prepareFeatures(p){this._vertexDimension=2;p.hasZ&&this._vertexDimension++;p.hasM&&this._vertexDimension++}finishFeatureResult(p){if(p?.features&&p.hasZ&&this._options.sourceSpatialReference&&p.spatialReference&&!B.equals(p.spatialReference,
this._options.sourceSpatialReference)&&!p.spatialReference.vcsWkid){var v=w.getMetersPerVerticalUnitForSR(this._options.sourceSpatialReference),F=w.getMetersPerVerticalUnitForSR(p.spatialReference);v/=F;if(1!==v)for(const Q of p.features)if(z.hasGeometry(Q))for(p=Q.geometry.coords,F=2;F<p.length;F+=3)p[F]*=v}}addFeature(p,v){p.features.push(v)}createFeature(){return new z.OptimizedFeature}createSpatialReference(){return{wkid:0}}createGeometry(){return new M}addField(p,v){p.fields.push(v)}allocateCoordinates(p){p.coords.length=
p.lengths.reduce((v,F)=>v+F,0)*this._vertexDimension;this._coordinatePtr=0}addCoordinate(p,v){p.coords[this._coordinatePtr++]=v}addCoordinatePoint(p,v){p.coords.push(v)}addLength(p,v){p.lengths.push(v)}addQueryGeometry(p,v){p.queryGeometry=v.queryGeometry;p.queryGeometryType=v.queryGeometryType}createPointGeometry(){return new M}}e.OptimizedFeatureSetParserContext=O;e.optimizedGeometryTypes=K;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define(["../../../rest/query/operations/pbfDehydratedFeatureSet","../../../rest/query/operations/pbfQueryUtils"],function(e,w){class B{_parseFeatureQuery(z){z=w.parsePBFFeatureQuery(z.buffer,new e.DehydratedFeatureSetParserContext(z.options));z={...z,spatialReference:z.spatialReference?.toJSON(),fields:z.fields?z.fields.map(H=>H.toJSON()):void 0};return Promise.resolve(z)}}return function(){return new B}});