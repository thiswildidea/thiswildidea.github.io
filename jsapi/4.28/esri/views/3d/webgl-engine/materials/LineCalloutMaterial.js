// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.28/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/vec2f32 ../../support/buffer/InterleavedLayout ../core/shaderLibrary/ShaderOutput ../lib/GLMaterial ../lib/Material ../lib/RenderSlot ../lib/VertexAttribute ./internal/bufferWriterUtils ../shaders/LineCalloutTechnique ../shaders/LineCalloutTechniqueConfiguration".split(" "),function(g,c,r,t,u,n,h,b,k,v,w){class l extends n.Material{get uniqueMaterialIdentifier(){return this._uniqueMaterialIdentifier}constructor(a){super(a,new p);this._configuration=new w.LineCalloutTechniqueConfiguration;
this._uniqueMaterialIdentifier=l.uniqueMaterialIdentifier(this.parameters)}getPassParameters(){return this.parameters}getConfiguration(a,d){a=d?.slot!==h.RenderSlot.LINE_CALLOUTS;this._configuration.occlusionTestEnabled=this.parameters.occlusionTest;this._configuration.hasVerticalOffset=null!=this.parameters.verticalOffset;this._configuration.hasScreenSizePerspective=null!=this.parameters.screenSizePerspective;this._configuration.depthHudEnabled=a;this._configuration.depthHudAlignStartEnabled=!!this.parameters.depthHUDAlignStart;
this._configuration.screenCenterOffsetUnitsEnabled="screen"===this.parameters.centerOffsetUnits;this._configuration.hasSlicePlane=this.parameters.hasSlicePlane;this._configuration.multipassEnabled=d.multipassEnabled;return this._configuration}intersect(){}produces(a,d){if(d===t.ShaderOutput.Color)switch(a){case h.RenderSlot.LINE_CALLOUTS:case h.RenderSlot.LINE_CALLOUTS_HUD_DEPTH:return!0}return!1}createGLMaterial(a){return new x(a)}createBufferWriter(){return new y}validateParameters(a){a=l.uniqueMaterialIdentifier(a);
a!==this._uniqueMaterialIdentifier&&(this._uniqueMaterialIdentifier=a)}static uniqueMaterialIdentifier(a){return JSON.stringify({horizontalScreenOffset:a.horizontalScreenOffset??0,centerOffsetUnits:a.centerOffsetUnits||"world"})}}class x extends u{beginSlot(a){return this.ensureTechnique(v.LineCalloutTechnique,a)}}class p extends n.MaterialParameters{constructor(){super(...arguments);this.horizontalScreenOffset=0;this.color=[0,0,0,1];this.size=1;this.occlusionTest=!1;this.shaderPolygonOffset=1E-5;
this.depthHUDAlignStart=!1;this.centerOffsetUnits="world";this.hasSlicePlane=!1}}const z=r.newLayout().vec3f(b.VertexAttribute.POSITION).vec3f(b.VertexAttribute.NORMAL).vec2f(b.VertexAttribute.UV0).vec4f(b.VertexAttribute.AUXPOS1),q=[c.fromValues(0,0),c.fromValues(1,0),c.fromValues(0,1),c.fromValues(1,0),c.fromValues(1,1),c.fromValues(0,1)];class y{constructor(){this.vertexBufferLayout=z}elementCount(a){return 6*a.attributes.get(b.VertexAttribute.POSITION).indices.length}write(a,d,m,e,f){k.writePosition(m.attributes.get(b.VertexAttribute.POSITION),
a,e.position,f,6);k.writeNormal(m.attributes.get(b.VertexAttribute.NORMAL),d,e.normal,f,6);k.writeBufferVec4(m.attributes.get(b.VertexAttribute.AUXPOS1),e.auxpos1,f,6);for(a=0;a<q.length;++a)e.uv0.setVec(f+a,q[a])}}g.LineCalloutMaterial=l;g.Parameters=p;Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});